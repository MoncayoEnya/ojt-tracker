(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function R0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hm={exports:{}},Da={},dm={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=Symbol.for("react.element"),b0=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),V0=Symbol.for("react.provider"),j0=Symbol.for("react.context"),M0=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),O0=Symbol.for("react.memo"),F0=Symbol.for("react.lazy"),sf=Symbol.iterator;function z0(t){return t===null||typeof t!="object"?null:(t=sf&&t[sf]||t["@@iterator"],typeof t=="function"?t:null)}var fm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pm=Object.assign,mm={};function di(t,e,n){this.props=t,this.context=e,this.refs=mm,this.updater=n||fm}di.prototype.isReactComponent={};di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gm(){}gm.prototype=di.prototype;function Cc(t,e,n){this.props=t,this.context=e,this.refs=mm,this.updater=n||fm}var Rc=Cc.prototype=new gm;Rc.constructor=Cc;pm(Rc,di.prototype);Rc.isPureReactComponent=!0;var of=Array.isArray,ym=Object.prototype.hasOwnProperty,bc={current:null},vm={key:!0,ref:!0,__self:!0,__source:!0};function _m(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)ym.call(e,r)&&!vm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Vs,type:t,key:s,ref:a,props:i,_owner:bc.current}}function U0(t,e){return{$$typeof:Vs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vs}function B0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var af=/\/+/g;function Dl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?B0(""+t.key):e.toString(36)}function No(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vs:case b0:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Dl(a,0):r,of(i)?(n="",t!=null&&(n=t.replace(af,"$&/")+"/"),No(i,e,n,"",function(h){return h})):i!=null&&(Pc(i)&&(i=U0(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(af,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",of(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Dl(s,l);a+=No(s,e,n,u,i)}else if(u=z0(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Dl(s,l++),a+=No(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function uo(t,e,n){if(t==null)return t;var r=[],i=0;return No(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},Do={transition:null},H0={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Do,ReactCurrentOwner:bc};function xm(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:uo,forEach:function(t,e,n){uo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uo(t,function(){e++}),e},toArray:function(t){return uo(t,function(e){return e})||[]},only:function(t){if(!Pc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=di;ne.Fragment=P0;ne.Profiler=D0;ne.PureComponent=Cc;ne.StrictMode=N0;ne.Suspense=L0;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0;ne.act=xm;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pm({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=bc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)ym.call(e,u)&&!vm.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Vs,type:t.type,key:i,ref:s,props:r,_owner:a}};ne.createContext=function(t){return t={$$typeof:j0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:V0,_context:t},t.Consumer=t};ne.createElement=_m;ne.createFactory=function(t){var e=_m.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:M0,render:t}};ne.isValidElement=Pc;ne.lazy=function(t){return{$$typeof:F0,_payload:{_status:-1,_result:t},_init:$0}};ne.memo=function(t,e){return{$$typeof:O0,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Do.transition;Do.transition={};try{t()}finally{Do.transition=e}};ne.unstable_act=xm;ne.useCallback=function(t,e){return ut.current.useCallback(t,e)};ne.useContext=function(t){return ut.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};ne.useEffect=function(t,e){return ut.current.useEffect(t,e)};ne.useId=function(){return ut.current.useId()};ne.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return ut.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};ne.useRef=function(t){return ut.current.useRef(t)};ne.useState=function(t){return ut.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return ut.current.useTransition()};ne.version="18.3.1";dm.exports=ne;var X=dm.exports;const W0=R0(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=X,K0=Symbol.for("react.element"),Q0=Symbol.for("react.fragment"),G0=Object.prototype.hasOwnProperty,X0=q0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y0={key:!0,ref:!0,__self:!0,__source:!0};function wm(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)G0.call(e,r)&&!Y0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:K0,type:t,key:s,ref:a,props:i,_owner:X0.current}}Da.Fragment=Q0;Da.jsx=wm;Da.jsxs=wm;hm.exports=Da;var f=hm.exports,fu={},Em={exports:{}},At={},Tm={exports:{}},km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,j){var q=z.length;z.push(j);e:for(;0<q;){var ie=q-1>>>1,te=z[ie];if(0<i(te,j))z[ie]=j,z[q]=te,q=ie;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],q=z.pop();if(q!==j){z[0]=q;e:for(var ie=0,te=z.length,ce=te>>>1;ie<ce;){var Re=2*(ie+1)-1,it=z[Re],yt=Re+1,vt=z[yt];if(0>i(it,q))yt<te&&0>i(vt,it)?(z[ie]=vt,z[yt]=q,ie=yt):(z[ie]=it,z[Re]=q,ie=Re);else if(yt<te&&0>i(vt,q))z[ie]=vt,z[yt]=q,ie=yt;else break e}}return j}function i(z,j){var q=z.sortIndex-j.sortIndex;return q!==0?q:z.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],p=1,g=null,_=3,I=!1,C=!1,P=!1,V=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var j=n(h);j!==null;){if(j.callback===null)r(h);else if(j.startTime<=z)r(h),j.sortIndex=j.expirationTime,e(u,j);else break;j=n(h)}}function D(z){if(P=!1,S(z),!C)if(n(u)!==null)C=!0,$(F);else{var j=n(h);j!==null&&Z(D,j.startTime-z)}}function F(z,j){C=!1,P&&(P=!1,k(y),y=-1),I=!0;var q=_;try{for(S(j),g=n(u);g!==null&&(!(g.expirationTime>j)||z&&!A());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,_=g.priorityLevel;var te=ie(g.expirationTime<=j);j=t.unstable_now(),typeof te=="function"?g.callback=te:g===n(u)&&r(u),S(j)}else r(u);g=n(u)}if(g!==null)var ce=!0;else{var Re=n(h);Re!==null&&Z(D,Re.startTime-j),ce=!1}return ce}finally{g=null,_=q,I=!1}}var U=!1,x=null,y=-1,w=5,T=-1;function A(){return!(t.unstable_now()-T<w)}function R(){if(x!==null){var z=t.unstable_now();T=z;var j=!0;try{j=x(!0,z)}finally{j?E():(U=!1,x=null)}}else U=!1}var E;if(typeof v=="function")E=function(){v(R)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,rt=Ce.port2;Ce.port1.onmessage=R,E=function(){rt.postMessage(null)}}else E=function(){V(R,0)};function $(z){x=z,U||(U=!0,E())}function Z(z,j){y=V(function(){z(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){C||I||(C=!0,$(F))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(_){case 1:case 2:case 3:var j=3;break;default:j=_}var q=_;_=j;try{return z()}finally{_=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=_;_=z;try{return j()}finally{_=q}},t.unstable_scheduleCallback=function(z,j,q){var ie=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ie+q:ie):q=ie,z){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,z={id:p++,callback:j,priorityLevel:z,startTime:q,expirationTime:te,sortIndex:-1},q>ie?(z.sortIndex=q,e(h,z),n(u)===null&&z===n(h)&&(P?(k(y),y=-1):P=!0,Z(D,q-ie))):(z.sortIndex=te,e(u,z),C||I||(C=!0,$(F))),z},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(z){var j=_;return function(){var q=_;_=j;try{return z.apply(this,arguments)}finally{_=q}}}})(km);Tm.exports=km;var J0=Tm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0=X,It=J0;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sm=new Set,ls={};function vr(t,e){Yr(t,e),Yr(t+"Capture",e)}function Yr(t,e){for(ls[t]=e,t=0;t<e.length;t++)Sm.add(e[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,e_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lf={},uf={};function t_(t){return pu.call(uf,t)?!0:pu.call(lf,t)?!1:e_.test(t)?uf[t]=!0:(lf[t]=!0,!1)}function n_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r_(t,e,n,r){if(e===null||typeof e>"u"||n_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ct(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nc=/[\-:]([a-z])/g;function Dc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nc,Dc);We[e]=new ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nc,Dc);We[e]=new ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nc,Dc);We[e]=new ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new ct(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vc(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r_(e,n,i,r)&&(n=null),r||i===null?t_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gn=Z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,co=Symbol.for("react.element"),br=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),jc=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),Im=Symbol.for("react.provider"),Am=Symbol.for("react.context"),Mc=Symbol.for("react.forward_ref"),gu=Symbol.for("react.suspense"),yu=Symbol.for("react.suspense_list"),Lc=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Cm=Symbol.for("react.offscreen"),cf=Symbol.iterator;function Ni(t){return t===null||typeof t!="object"?null:(t=cf&&t[cf]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Vl;function Ui(t){if(Vl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vl=e&&e[1]||""}return`
`+Vl+t}var jl=!1;function Ml(t,e){if(!t||jl)return"";jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{jl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ui(t):""}function i_(t){switch(t.tag){case 5:return Ui(t.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 2:case 15:return t=Ml(t.type,!1),t;case 11:return t=Ml(t.type.render,!1),t;case 1:return t=Ml(t.type,!0),t;default:return""}}function vu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pr:return"Fragment";case br:return"Portal";case mu:return"Profiler";case jc:return"StrictMode";case gu:return"Suspense";case yu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Am:return(t.displayName||"Context")+".Consumer";case Im:return(t._context.displayName||"Context")+".Provider";case Mc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lc:return e=t.displayName||null,e!==null?e:vu(t.type)||"Memo";case wn:e=t._payload,t=t._init;try{return vu(t(e))}catch{}}return null}function s_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vu(e);case 8:return e===jc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o_(t){var e=Rm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ho(t){t._valueTracker||(t._valueTracker=o_(t))}function bm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Go(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _u(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pm(t,e){e=e.checked,e!=null&&Vc(t,"checked",e,!1)}function xu(t,e){Pm(t,e);var n=zn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wu(t,e.type,n):e.hasOwnProperty("defaultValue")&&wu(t,e.type,zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function df(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wu(t,e,n){(e!=="number"||Go(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bi=Array.isArray;function $r(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Eu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ff(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Bi(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zn(n)}}function Nm(t,e){var n=zn(e.value),r=zn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fo,Vm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a_=["Webkit","ms","Moz","O"];Object.keys(Gi).forEach(function(t){a_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gi[e]=Gi[t]})});function jm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gi.hasOwnProperty(t)&&Gi[t]?(""+e).trim():e+"px"}function Mm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var l_=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ku(t,e){if(e){if(l_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Su(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=null;function Oc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Au=null,Hr=null,Wr=null;function mf(t){if(t=Ls(t)){if(typeof Au!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Oa(e),Au(t.stateNode,t.type,e))}}function Lm(t){Hr?Wr?Wr.push(t):Wr=[t]:Hr=t}function Om(){if(Hr){var t=Hr,e=Wr;if(Wr=Hr=null,mf(t),e)for(t=0;t<e.length;t++)mf(e[t])}}function Fm(t,e){return t(e)}function zm(){}var Ll=!1;function Um(t,e,n){if(Ll)return t(e,n);Ll=!0;try{return Fm(t,e,n)}finally{Ll=!1,(Hr!==null||Wr!==null)&&(zm(),Om())}}function cs(t,e){var n=t.stateNode;if(n===null)return null;var r=Oa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Cu=!1;if(ln)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Cu=!1}function u_(t,e,n,r,i,s,a,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Xi=!1,Xo=null,Yo=!1,Ru=null,c_={onError:function(t){Xi=!0,Xo=t}};function h_(t,e,n,r,i,s,a,l,u){Xi=!1,Xo=null,u_.apply(c_,arguments)}function d_(t,e,n,r,i,s,a,l,u){if(h_.apply(this,arguments),Xi){if(Xi){var h=Xo;Xi=!1,Xo=null}else throw Error(O(198));Yo||(Yo=!0,Ru=h)}}function _r(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gf(t){if(_r(t)!==t)throw Error(O(188))}function f_(t){var e=t.alternate;if(!e){if(e=_r(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gf(i),t;if(s===r)return gf(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function $m(t){return t=f_(t),t!==null?Hm(t):null}function Hm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hm(t);if(e!==null)return e;t=t.sibling}return null}var Wm=It.unstable_scheduleCallback,yf=It.unstable_cancelCallback,p_=It.unstable_shouldYield,m_=It.unstable_requestPaint,Ae=It.unstable_now,g_=It.unstable_getCurrentPriorityLevel,Fc=It.unstable_ImmediatePriority,qm=It.unstable_UserBlockingPriority,Jo=It.unstable_NormalPriority,y_=It.unstable_LowPriority,Km=It.unstable_IdlePriority,Va=null,Kt=null;function v_(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Va,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:w_,__=Math.log,x_=Math.LN2;function w_(t){return t>>>=0,t===0?32:31-(__(t)/x_|0)|0}var po=64,mo=4194304;function $i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=$i(l):(s&=a,s!==0&&(r=$i(s)))}else a=n&~i,a!==0?r=$i(a):s!==0&&(r=$i(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zt(e),i=1<<n,r|=t[n],e&=~i;return r}function E_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-zt(s),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=E_(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function bu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qm(){var t=po;return po<<=1,!(po&4194240)&&(po=64),t}function Ol(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function js(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zt(e),t[e]=n}function k_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function zc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var he=0;function Gm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xm,Uc,Ym,Jm,Zm,Pu=!1,go=[],Cn=null,Rn=null,bn=null,hs=new Map,ds=new Map,Tn=[],S_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vf(t,e){switch(t){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":hs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(e.pointerId)}}function Vi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ls(e),e!==null&&Uc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function I_(t,e,n,r,i){switch(e){case"focusin":return Cn=Vi(Cn,t,e,n,r,i),!0;case"dragenter":return Rn=Vi(Rn,t,e,n,r,i),!0;case"mouseover":return bn=Vi(bn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hs.set(s,Vi(hs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ds.set(s,Vi(ds.get(s)||null,t,e,n,r,i)),!0}return!1}function eg(t){var e=nr(t.target);if(e!==null){var n=_r(e);if(n!==null){if(e=n.tag,e===13){if(e=Bm(n),e!==null){t.blockedOn=e,Zm(t.priority,function(){Ym(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Iu=r,n.target.dispatchEvent(r),Iu=null}else return e=Ls(n),e!==null&&Uc(e),t.blockedOn=n,!1;e.shift()}return!0}function _f(t,e,n){Vo(t)&&n.delete(e)}function A_(){Pu=!1,Cn!==null&&Vo(Cn)&&(Cn=null),Rn!==null&&Vo(Rn)&&(Rn=null),bn!==null&&Vo(bn)&&(bn=null),hs.forEach(_f),ds.forEach(_f)}function ji(t,e){t.blockedOn===e&&(t.blockedOn=null,Pu||(Pu=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,A_)))}function fs(t){function e(i){return ji(i,t)}if(0<go.length){ji(go[0],t);for(var n=1;n<go.length;n++){var r=go[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cn!==null&&ji(Cn,t),Rn!==null&&ji(Rn,t),bn!==null&&ji(bn,t),hs.forEach(e),ds.forEach(e),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)eg(n),n.blockedOn===null&&Tn.shift()}var qr=gn.ReactCurrentBatchConfig,ea=!0;function C_(t,e,n,r){var i=he,s=qr.transition;qr.transition=null;try{he=1,Bc(t,e,n,r)}finally{he=i,qr.transition=s}}function R_(t,e,n,r){var i=he,s=qr.transition;qr.transition=null;try{he=4,Bc(t,e,n,r)}finally{he=i,qr.transition=s}}function Bc(t,e,n,r){if(ea){var i=Nu(t,e,n,r);if(i===null)Ql(t,e,r,ta,n),vf(t,r);else if(I_(i,t,e,n,r))r.stopPropagation();else if(vf(t,r),e&4&&-1<S_.indexOf(t)){for(;i!==null;){var s=Ls(i);if(s!==null&&Xm(s),s=Nu(t,e,n,r),s===null&&Ql(t,e,r,ta,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ql(t,e,r,null,n)}}var ta=null;function Nu(t,e,n,r){if(ta=null,t=Oc(r),t=nr(t),t!==null)if(e=_r(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ta=t,null}function tg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g_()){case Fc:return 1;case qm:return 4;case Jo:case y_:return 16;case Km:return 536870912;default:return 16}default:return 16}}var Sn=null,$c=null,jo=null;function ng(){if(jo)return jo;var t,e=$c,n=e.length,r,i="value"in Sn?Sn.value:Sn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return jo=i.slice(t,1<r?1-r:void 0)}function Mo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yo(){return!0}function xf(){return!1}function Ct(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yo:xf,this.isPropagationStopped=xf,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),e}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=Ct(fi),Ms=Ee({},fi,{view:0,detail:0}),b_=Ct(Ms),Fl,zl,Mi,ja=Ee({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Fl=t.screenX-Mi.screenX,zl=t.screenY-Mi.screenY):zl=Fl=0,Mi=t),Fl)},movementY:function(t){return"movementY"in t?t.movementY:zl}}),wf=Ct(ja),P_=Ee({},ja,{dataTransfer:0}),N_=Ct(P_),D_=Ee({},Ms,{relatedTarget:0}),Ul=Ct(D_),V_=Ee({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),j_=Ct(V_),M_=Ee({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L_=Ct(M_),O_=Ee({},fi,{data:0}),Ef=Ct(O_),F_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U_[t])?!!e[t]:!1}function Wc(){return B_}var $_=Ee({},Ms,{key:function(t){if(t.key){var e=F_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(t){return t.type==="keypress"?Mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H_=Ct($_),W_=Ee({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tf=Ct(W_),q_=Ee({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),K_=Ct(q_),Q_=Ee({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),G_=Ct(Q_),X_=Ee({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y_=Ct(X_),J_=[9,13,27,32],qc=ln&&"CompositionEvent"in window,Yi=null;ln&&"documentMode"in document&&(Yi=document.documentMode);var Z_=ln&&"TextEvent"in window&&!Yi,rg=ln&&(!qc||Yi&&8<Yi&&11>=Yi),kf=" ",Sf=!1;function ig(t,e){switch(t){case"keyup":return J_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nr=!1;function e1(t,e){switch(t){case"compositionend":return sg(e);case"keypress":return e.which!==32?null:(Sf=!0,kf);case"textInput":return t=e.data,t===kf&&Sf?null:t;default:return null}}function t1(t,e){if(Nr)return t==="compositionend"||!qc&&ig(t,e)?(t=ng(),jo=$c=Sn=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rg&&e.locale!=="ko"?null:e.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n1[t.type]:e==="textarea"}function og(t,e,n,r){Lm(r),e=na(e,"onChange"),0<e.length&&(n=new Hc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ji=null,ps=null;function r1(t){yg(t,0)}function Ma(t){var e=jr(t);if(bm(e))return t}function i1(t,e){if(t==="change")return e}var ag=!1;if(ln){var Bl;if(ln){var $l="oninput"in document;if(!$l){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),$l=typeof Af.oninput=="function"}Bl=$l}else Bl=!1;ag=Bl&&(!document.documentMode||9<document.documentMode)}function Cf(){Ji&&(Ji.detachEvent("onpropertychange",lg),ps=Ji=null)}function lg(t){if(t.propertyName==="value"&&Ma(ps)){var e=[];og(e,ps,t,Oc(t)),Um(r1,e)}}function s1(t,e,n){t==="focusin"?(Cf(),Ji=e,ps=n,Ji.attachEvent("onpropertychange",lg)):t==="focusout"&&Cf()}function o1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ma(ps)}function a1(t,e){if(t==="click")return Ma(e)}function l1(t,e){if(t==="input"||t==="change")return Ma(e)}function u1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:u1;function ms(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pu.call(e,i)||!$t(t[i],e[i]))return!1}return!0}function Rf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bf(t,e){var n=Rf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rf(n)}}function ug(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ug(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cg(){for(var t=window,e=Go();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Go(t.document)}return e}function Kc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c1(t){var e=cg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ug(n.ownerDocument.documentElement,n)){if(r!==null&&Kc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=bf(n,s);var a=bf(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h1=ln&&"documentMode"in document&&11>=document.documentMode,Dr=null,Du=null,Zi=null,Vu=!1;function Pf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vu||Dr==null||Dr!==Go(r)||(r=Dr,"selectionStart"in r&&Kc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zi&&ms(Zi,r)||(Zi=r,r=na(Du,"onSelect"),0<r.length&&(e=new Hc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dr)))}function vo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vr={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionend:vo("Transition","TransitionEnd")},Hl={},hg={};ln&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function La(t){if(Hl[t])return Hl[t];if(!Vr[t])return t;var e=Vr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hg)return Hl[t]=e[n];return t}var dg=La("animationend"),fg=La("animationiteration"),pg=La("animationstart"),mg=La("transitionend"),gg=new Map,Nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(t,e){gg.set(t,e),vr(e,[t])}for(var Wl=0;Wl<Nf.length;Wl++){var ql=Nf[Wl],d1=ql.toLowerCase(),f1=ql[0].toUpperCase()+ql.slice(1);Wn(d1,"on"+f1)}Wn(dg,"onAnimationEnd");Wn(fg,"onAnimationIteration");Wn(pg,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(mg,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Df(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d_(r,e,void 0,t),t.currentTarget=null}function yg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Df(i,l,h),s=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Df(i,l,h),s=u}}}if(Yo)throw t=Ru,Yo=!1,Ru=null,t}function ge(t,e){var n=e[Fu];n===void 0&&(n=e[Fu]=new Set);var r=t+"__bubble";n.has(r)||(vg(e,t,2,!1),n.add(r))}function Kl(t,e,n){var r=0;e&&(r|=4),vg(n,t,r,e)}var _o="_reactListening"+Math.random().toString(36).slice(2);function gs(t){if(!t[_o]){t[_o]=!0,Sm.forEach(function(n){n!=="selectionchange"&&(p1.has(n)||Kl(n,!1,t),Kl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_o]||(e[_o]=!0,Kl("selectionchange",!1,e))}}function vg(t,e,n,r){switch(tg(e)){case 1:var i=C_;break;case 4:i=R_;break;default:i=Bc}n=i.bind(null,e,n,t),i=void 0,!Cu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ql(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=nr(l),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}l=l.parentNode}}r=r.return}Um(function(){var h=s,p=Oc(n),g=[];e:{var _=gg.get(t);if(_!==void 0){var I=Hc,C=t;switch(t){case"keypress":if(Mo(n)===0)break e;case"keydown":case"keyup":I=H_;break;case"focusin":C="focus",I=Ul;break;case"focusout":C="blur",I=Ul;break;case"beforeblur":case"afterblur":I=Ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=N_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=K_;break;case dg:case fg:case pg:I=j_;break;case mg:I=G_;break;case"scroll":I=b_;break;case"wheel":I=Y_;break;case"copy":case"cut":case"paste":I=L_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Tf}var P=(e&4)!==0,V=!P&&t==="scroll",k=P?_!==null?_+"Capture":null:_;P=[];for(var v=h,S;v!==null;){S=v;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,k!==null&&(D=cs(v,k),D!=null&&P.push(ys(v,D,S)))),V)break;v=v.return}0<P.length&&(_=new I(_,C,null,n,p),g.push({event:_,listeners:P}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",_&&n!==Iu&&(C=n.relatedTarget||n.fromElement)&&(nr(C)||C[un]))break e;if((I||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,I?(C=n.relatedTarget||n.toElement,I=h,C=C?nr(C):null,C!==null&&(V=_r(C),C!==V||C.tag!==5&&C.tag!==6)&&(C=null)):(I=null,C=h),I!==C)){if(P=wf,D="onMouseLeave",k="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(P=Tf,D="onPointerLeave",k="onPointerEnter",v="pointer"),V=I==null?_:jr(I),S=C==null?_:jr(C),_=new P(D,v+"leave",I,n,p),_.target=V,_.relatedTarget=S,D=null,nr(p)===h&&(P=new P(k,v+"enter",C,n,p),P.target=S,P.relatedTarget=V,D=P),V=D,I&&C)t:{for(P=I,k=C,v=0,S=P;S;S=Ir(S))v++;for(S=0,D=k;D;D=Ir(D))S++;for(;0<v-S;)P=Ir(P),v--;for(;0<S-v;)k=Ir(k),S--;for(;v--;){if(P===k||k!==null&&P===k.alternate)break t;P=Ir(P),k=Ir(k)}P=null}else P=null;I!==null&&Vf(g,_,I,P,!1),C!==null&&V!==null&&Vf(g,V,C,P,!0)}}e:{if(_=h?jr(h):window,I=_.nodeName&&_.nodeName.toLowerCase(),I==="select"||I==="input"&&_.type==="file")var F=i1;else if(If(_))if(ag)F=l1;else{F=o1;var U=s1}else(I=_.nodeName)&&I.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(F=a1);if(F&&(F=F(t,h))){og(g,F,n,p);break e}U&&U(t,_,h),t==="focusout"&&(U=_._wrapperState)&&U.controlled&&_.type==="number"&&wu(_,"number",_.value)}switch(U=h?jr(h):window,t){case"focusin":(If(U)||U.contentEditable==="true")&&(Dr=U,Du=h,Zi=null);break;case"focusout":Zi=Du=Dr=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Pf(g,n,p);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":Pf(g,n,p)}var x;if(qc)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Nr?ig(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(rg&&n.locale!=="ko"&&(Nr||y!=="onCompositionStart"?y==="onCompositionEnd"&&Nr&&(x=ng()):(Sn=p,$c="value"in Sn?Sn.value:Sn.textContent,Nr=!0)),U=na(h,y),0<U.length&&(y=new Ef(y,t,null,n,p),g.push({event:y,listeners:U}),x?y.data=x:(x=sg(n),x!==null&&(y.data=x)))),(x=Z_?e1(t,n):t1(t,n))&&(h=na(h,"onBeforeInput"),0<h.length&&(p=new Ef("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=x))}yg(g,e)})}function ys(t,e,n){return{instance:t,listener:e,currentTarget:n}}function na(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cs(t,n),s!=null&&r.unshift(ys(t,s,i)),s=cs(t,e),s!=null&&r.push(ys(t,s,i))),t=t.return}return r}function Ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vf(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=cs(n,s),u!=null&&a.unshift(ys(n,u,l))):i||(u=cs(n,s),u!=null&&a.push(ys(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var m1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function jf(t){return(typeof t=="string"?t:""+t).replace(m1,`
`).replace(g1,"")}function xo(t,e,n){if(e=jf(e),jf(t)!==e&&n)throw Error(O(425))}function ra(){}var ju=null,Mu=null;function Lu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,Mf=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof Mf<"u"?function(t){return Mf.resolve(null).then(t).catch(_1)}:Ou;function _1(t){setTimeout(function(){throw t})}function Gl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fs(e)}function Pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pi=Math.random().toString(36).slice(2),qt="__reactFiber$"+pi,vs="__reactProps$"+pi,un="__reactContainer$"+pi,Fu="__reactEvents$"+pi,x1="__reactListeners$"+pi,w1="__reactHandles$"+pi;function nr(t){var e=t[qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[un]||n[qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lf(t);t!==null;){if(n=t[qt])return n;t=Lf(t)}return e}t=n,n=t.parentNode}return null}function Ls(t){return t=t[qt]||t[un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Oa(t){return t[vs]||null}var zu=[],Mr=-1;function qn(t){return{current:t}}function ye(t){0>Mr||(t.current=zu[Mr],zu[Mr]=null,Mr--)}function pe(t,e){Mr++,zu[Mr]=t.current,t.current=e}var Un={},nt=qn(Un),pt=qn(!1),cr=Un;function Jr(t,e){var n=t.type.contextTypes;if(!n)return Un;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function ia(){ye(pt),ye(nt)}function Of(t,e,n){if(nt.current!==Un)throw Error(O(168));pe(nt,e),pe(pt,n)}function _g(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,s_(t)||"Unknown",i));return Ee({},n,r)}function sa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Un,cr=nt.current,pe(nt,t),pe(pt,pt.current),!0}function Ff(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=_g(t,e,cr),r.__reactInternalMemoizedMergedChildContext=t,ye(pt),ye(nt),pe(nt,t)):ye(pt),pe(pt,n)}var rn=null,Fa=!1,Xl=!1;function xg(t){rn===null?rn=[t]:rn.push(t)}function E1(t){Fa=!0,xg(t)}function Kn(){if(!Xl&&rn!==null){Xl=!0;var t=0,e=he;try{var n=rn;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rn=null,Fa=!1}catch(i){throw rn!==null&&(rn=rn.slice(t+1)),Wm(Fc,Kn),i}finally{he=e,Xl=!1}}return null}var Lr=[],Or=0,oa=null,aa=0,Rt=[],bt=0,hr=null,sn=1,on="";function Zn(t,e){Lr[Or++]=aa,Lr[Or++]=oa,oa=t,aa=e}function wg(t,e,n){Rt[bt++]=sn,Rt[bt++]=on,Rt[bt++]=hr,hr=t;var r=sn;t=on;var i=32-zt(r)-1;r&=~(1<<i),n+=1;var s=32-zt(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,sn=1<<32-zt(e)+i|n<<i|r,on=s+t}else sn=1<<s|n<<i|r,on=t}function Qc(t){t.return!==null&&(Zn(t,1),wg(t,1,0))}function Gc(t){for(;t===oa;)oa=Lr[--Or],Lr[Or]=null,aa=Lr[--Or],Lr[Or]=null;for(;t===hr;)hr=Rt[--bt],Rt[bt]=null,on=Rt[--bt],Rt[bt]=null,sn=Rt[--bt],Rt[bt]=null}var kt=null,Et=null,ve=!1,Ft=null;function Eg(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,Et=Pn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,Et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hr!==null?{id:sn,overflow:on}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,Et=null,!0):!1;default:return!1}}function Uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bu(t){if(ve){var e=Et;if(e){var n=e;if(!zf(t,e)){if(Uu(t))throw Error(O(418));e=Pn(n.nextSibling);var r=kt;e&&zf(t,e)?Eg(r,n):(t.flags=t.flags&-4097|2,ve=!1,kt=t)}}else{if(Uu(t))throw Error(O(418));t.flags=t.flags&-4097|2,ve=!1,kt=t}}}function Uf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function wo(t){if(t!==kt)return!1;if(!ve)return Uf(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lu(t.type,t.memoizedProps)),e&&(e=Et)){if(Uu(t))throw Tg(),Error(O(418));for(;e;)Eg(t,e),e=Pn(e.nextSibling)}if(Uf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Et=Pn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Et=null}}else Et=kt?Pn(t.stateNode.nextSibling):null;return!0}function Tg(){for(var t=Et;t;)t=Pn(t.nextSibling)}function Zr(){Et=kt=null,ve=!1}function Xc(t){Ft===null?Ft=[t]:Ft.push(t)}var T1=gn.ReactCurrentBatchConfig;function Li(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Eo(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bf(t){var e=t._init;return e(t._payload)}function kg(t){function e(k,v){if(t){var S=k.deletions;S===null?(k.deletions=[v],k.flags|=16):S.push(v)}}function n(k,v){if(!t)return null;for(;v!==null;)e(k,v),v=v.sibling;return null}function r(k,v){for(k=new Map;v!==null;)v.key!==null?k.set(v.key,v):k.set(v.index,v),v=v.sibling;return k}function i(k,v){return k=jn(k,v),k.index=0,k.sibling=null,k}function s(k,v,S){return k.index=S,t?(S=k.alternate,S!==null?(S=S.index,S<v?(k.flags|=2,v):S):(k.flags|=2,v)):(k.flags|=1048576,v)}function a(k){return t&&k.alternate===null&&(k.flags|=2),k}function l(k,v,S,D){return v===null||v.tag!==6?(v=ru(S,k.mode,D),v.return=k,v):(v=i(v,S),v.return=k,v)}function u(k,v,S,D){var F=S.type;return F===Pr?p(k,v,S.props.children,D,S.key):v!==null&&(v.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===wn&&Bf(F)===v.type)?(D=i(v,S.props),D.ref=Li(k,v,S),D.return=k,D):(D=$o(S.type,S.key,S.props,null,k.mode,D),D.ref=Li(k,v,S),D.return=k,D)}function h(k,v,S,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=iu(S,k.mode,D),v.return=k,v):(v=i(v,S.children||[]),v.return=k,v)}function p(k,v,S,D,F){return v===null||v.tag!==7?(v=ar(S,k.mode,D,F),v.return=k,v):(v=i(v,S),v.return=k,v)}function g(k,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ru(""+v,k.mode,S),v.return=k,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case co:return S=$o(v.type,v.key,v.props,null,k.mode,S),S.ref=Li(k,null,v),S.return=k,S;case br:return v=iu(v,k.mode,S),v.return=k,v;case wn:var D=v._init;return g(k,D(v._payload),S)}if(Bi(v)||Ni(v))return v=ar(v,k.mode,S,null),v.return=k,v;Eo(k,v)}return null}function _(k,v,S,D){var F=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return F!==null?null:l(k,v,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case co:return S.key===F?u(k,v,S,D):null;case br:return S.key===F?h(k,v,S,D):null;case wn:return F=S._init,_(k,v,F(S._payload),D)}if(Bi(S)||Ni(S))return F!==null?null:p(k,v,S,D,null);Eo(k,S)}return null}function I(k,v,S,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return k=k.get(S)||null,l(v,k,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case co:return k=k.get(D.key===null?S:D.key)||null,u(v,k,D,F);case br:return k=k.get(D.key===null?S:D.key)||null,h(v,k,D,F);case wn:var U=D._init;return I(k,v,S,U(D._payload),F)}if(Bi(D)||Ni(D))return k=k.get(S)||null,p(v,k,D,F,null);Eo(v,D)}return null}function C(k,v,S,D){for(var F=null,U=null,x=v,y=v=0,w=null;x!==null&&y<S.length;y++){x.index>y?(w=x,x=null):w=x.sibling;var T=_(k,x,S[y],D);if(T===null){x===null&&(x=w);break}t&&x&&T.alternate===null&&e(k,x),v=s(T,v,y),U===null?F=T:U.sibling=T,U=T,x=w}if(y===S.length)return n(k,x),ve&&Zn(k,y),F;if(x===null){for(;y<S.length;y++)x=g(k,S[y],D),x!==null&&(v=s(x,v,y),U===null?F=x:U.sibling=x,U=x);return ve&&Zn(k,y),F}for(x=r(k,x);y<S.length;y++)w=I(x,k,y,S[y],D),w!==null&&(t&&w.alternate!==null&&x.delete(w.key===null?y:w.key),v=s(w,v,y),U===null?F=w:U.sibling=w,U=w);return t&&x.forEach(function(A){return e(k,A)}),ve&&Zn(k,y),F}function P(k,v,S,D){var F=Ni(S);if(typeof F!="function")throw Error(O(150));if(S=F.call(S),S==null)throw Error(O(151));for(var U=F=null,x=v,y=v=0,w=null,T=S.next();x!==null&&!T.done;y++,T=S.next()){x.index>y?(w=x,x=null):w=x.sibling;var A=_(k,x,T.value,D);if(A===null){x===null&&(x=w);break}t&&x&&A.alternate===null&&e(k,x),v=s(A,v,y),U===null?F=A:U.sibling=A,U=A,x=w}if(T.done)return n(k,x),ve&&Zn(k,y),F;if(x===null){for(;!T.done;y++,T=S.next())T=g(k,T.value,D),T!==null&&(v=s(T,v,y),U===null?F=T:U.sibling=T,U=T);return ve&&Zn(k,y),F}for(x=r(k,x);!T.done;y++,T=S.next())T=I(x,k,y,T.value,D),T!==null&&(t&&T.alternate!==null&&x.delete(T.key===null?y:T.key),v=s(T,v,y),U===null?F=T:U.sibling=T,U=T);return t&&x.forEach(function(R){return e(k,R)}),ve&&Zn(k,y),F}function V(k,v,S,D){if(typeof S=="object"&&S!==null&&S.type===Pr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case co:e:{for(var F=S.key,U=v;U!==null;){if(U.key===F){if(F=S.type,F===Pr){if(U.tag===7){n(k,U.sibling),v=i(U,S.props.children),v.return=k,k=v;break e}}else if(U.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===wn&&Bf(F)===U.type){n(k,U.sibling),v=i(U,S.props),v.ref=Li(k,U,S),v.return=k,k=v;break e}n(k,U);break}else e(k,U);U=U.sibling}S.type===Pr?(v=ar(S.props.children,k.mode,D,S.key),v.return=k,k=v):(D=$o(S.type,S.key,S.props,null,k.mode,D),D.ref=Li(k,v,S),D.return=k,k=D)}return a(k);case br:e:{for(U=S.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(k,v.sibling),v=i(v,S.children||[]),v.return=k,k=v;break e}else{n(k,v);break}else e(k,v);v=v.sibling}v=iu(S,k.mode,D),v.return=k,k=v}return a(k);case wn:return U=S._init,V(k,v,U(S._payload),D)}if(Bi(S))return C(k,v,S,D);if(Ni(S))return P(k,v,S,D);Eo(k,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(k,v.sibling),v=i(v,S),v.return=k,k=v):(n(k,v),v=ru(S,k.mode,D),v.return=k,k=v),a(k)):n(k,v)}return V}var ei=kg(!0),Sg=kg(!1),la=qn(null),ua=null,Fr=null,Yc=null;function Jc(){Yc=Fr=ua=null}function Zc(t){var e=la.current;ye(la),t._currentValue=e}function $u(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kr(t,e){ua=t,Yc=Fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(Yc!==t)if(t={context:t,memoizedValue:e,next:null},Fr===null){if(ua===null)throw Error(O(308));Fr=t,ua.dependencies={lanes:0,firstContext:t}}else Fr=Fr.next=t;return e}var rr=null;function eh(t){rr===null?rr=[t]:rr.push(t)}function Ig(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,eh(e)):(n.next=i.next,i.next=n),e.interleaved=n,cn(t,r)}function cn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var En=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ag(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function an(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cn(t,n)}return i=r.interleaved,i===null?(e.next=e,eh(r)):(e.next=i.next,i.next=e),r.interleaved=e,cn(t,n)}function Lo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zc(t,n)}}function $f(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ca(t,e,n,r){var i=t.updateQueue;En=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;a=0,p=h=u=null,l=s;do{var _=l.lane,I=l.eventTime;if((r&_)===_){p!==null&&(p=p.next={eventTime:I,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,P=l;switch(_=e,I=n,P.tag){case 1:if(C=P.payload,typeof C=="function"){g=C.call(I,g,_);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,_=typeof C=="function"?C.call(I,g,_):C,_==null)break e;g=Ee({},g,_);break e;case 2:En=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[l]:_.push(l))}else I={eventTime:I,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=I,u=g):p=p.next=I,a|=_;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;_=l,l=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(p===null&&(u=g),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fr|=a,t.lanes=a,t.memoizedState=g}}function Hf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var Os={},Qt=qn(Os),_s=qn(Os),xs=qn(Os);function ir(t){if(t===Os)throw Error(O(174));return t}function nh(t,e){switch(pe(xs,e),pe(_s,t),pe(Qt,Os),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tu(e,t)}ye(Qt),pe(Qt,e)}function ti(){ye(Qt),ye(_s),ye(xs)}function Cg(t){ir(xs.current);var e=ir(Qt.current),n=Tu(e,t.type);e!==n&&(pe(_s,t),pe(Qt,n))}function rh(t){_s.current===t&&(ye(Qt),ye(_s))}var xe=qn(0);function ha(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yl=[];function ih(){for(var t=0;t<Yl.length;t++)Yl[t]._workInProgressVersionPrimary=null;Yl.length=0}var Oo=gn.ReactCurrentDispatcher,Jl=gn.ReactCurrentBatchConfig,dr=0,we=null,Ne=null,Le=null,da=!1,es=!1,ws=0,k1=0;function Xe(){throw Error(O(321))}function sh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function oh(t,e,n,r,i,s){if(dr=s,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oo.current=t===null||t.memoizedState===null?C1:R1,t=n(r,i),es){s=0;do{if(es=!1,ws=0,25<=s)throw Error(O(301));s+=1,Le=Ne=null,e.updateQueue=null,Oo.current=b1,t=n(r,i)}while(es)}if(Oo.current=fa,e=Ne!==null&&Ne.next!==null,dr=0,Le=Ne=we=null,da=!1,e)throw Error(O(300));return t}function ah(){var t=ws!==0;return ws=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?we.memoizedState=Le=t:Le=Le.next=t,Le}function Vt(){if(Ne===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=Le===null?we.memoizedState:Le.next;if(e!==null)Le=e,Ne=t;else{if(t===null)throw Error(O(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Le===null?we.memoizedState=Le=t:Le=Le.next=t}return Le}function Es(t,e){return typeof e=="function"?e(t):e}function Zl(t){var e=Vt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Ne,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,u=null,h=s;do{var p=h.lane;if((dr&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=g,a=r):u=u.next=g,we.lanes|=p,fr|=p}h=h.next}while(h!==null&&h!==s);u===null?a=r:u.next=l,$t(r,e.memoizedState)||(ft=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,we.lanes|=s,fr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eu(t){var e=Vt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);$t(s,e.memoizedState)||(ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Rg(){}function bg(t,e){var n=we,r=Vt(),i=e(),s=!$t(r.memoizedState,i);if(s&&(r.memoizedState=i,ft=!0),r=r.queue,lh(Dg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Ts(9,Ng.bind(null,n,r,i,e),void 0,null),Oe===null)throw Error(O(349));dr&30||Pg(n,e,i)}return i}function Pg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ng(t,e,n,r){e.value=n,e.getSnapshot=r,Vg(e)&&jg(t)}function Dg(t,e,n){return n(function(){Vg(e)&&jg(t)})}function Vg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function jg(t){var e=cn(t,1);e!==null&&Ut(e,t,1,-1)}function Wf(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},e.queue=t,t=t.dispatch=A1.bind(null,we,t),[e.memoizedState,t]}function Ts(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Mg(){return Vt().memoizedState}function Fo(t,e,n,r){var i=Wt();we.flags|=t,i.memoizedState=Ts(1|e,n,void 0,r===void 0?null:r)}function za(t,e,n,r){var i=Vt();r=r===void 0?null:r;var s=void 0;if(Ne!==null){var a=Ne.memoizedState;if(s=a.destroy,r!==null&&sh(r,a.deps)){i.memoizedState=Ts(e,n,s,r);return}}we.flags|=t,i.memoizedState=Ts(1|e,n,s,r)}function qf(t,e){return Fo(8390656,8,t,e)}function lh(t,e){return za(2048,8,t,e)}function Lg(t,e){return za(4,2,t,e)}function Og(t,e){return za(4,4,t,e)}function Fg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zg(t,e,n){return n=n!=null?n.concat([t]):null,za(4,4,Fg.bind(null,e,t),n)}function uh(){}function Ug(t,e){var n=Vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bg(t,e){var n=Vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $g(t,e,n){return dr&21?($t(n,e)||(n=Qm(),we.lanes|=n,fr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function S1(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=Jl.transition;Jl.transition={};try{t(!1),e()}finally{he=n,Jl.transition=r}}function Hg(){return Vt().memoizedState}function I1(t,e,n){var r=Vn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wg(t))qg(e,n);else if(n=Ig(t,e,n,r),n!==null){var i=lt();Ut(n,t,r,i),Kg(n,e,r)}}function A1(t,e,n){var r=Vn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wg(t))qg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,$t(l,a)){var u=e.interleaved;u===null?(i.next=i,eh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Ig(t,e,i,r),n!==null&&(i=lt(),Ut(n,t,r,i),Kg(n,e,r))}}function Wg(t){var e=t.alternate;return t===we||e!==null&&e===we}function qg(t,e){es=da=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zc(t,n)}}var fa={readContext:Dt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},C1={readContext:Dt,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:qf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fo(4194308,4,Fg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fo(4,2,t,e)},useMemo:function(t,e){var n=Wt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=I1.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:Wf,useDebugValue:uh,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=Wf(!1),e=t[0];return t=S1.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,i=Wt();if(ve){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Oe===null)throw Error(O(349));dr&30||Pg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,qf(Dg.bind(null,r,s,t),[t]),r.flags|=2048,Ts(9,Ng.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wt(),e=Oe.identifierPrefix;if(ve){var n=on,r=sn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ws++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=k1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R1={readContext:Dt,useCallback:Ug,useContext:Dt,useEffect:lh,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:Og,useMemo:Bg,useReducer:Zl,useRef:Mg,useState:function(){return Zl(Es)},useDebugValue:uh,useDeferredValue:function(t){var e=Vt();return $g(e,Ne.memoizedState,t)},useTransition:function(){var t=Zl(Es)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:Rg,useSyncExternalStore:bg,useId:Hg,unstable_isNewReconciler:!1},b1={readContext:Dt,useCallback:Ug,useContext:Dt,useEffect:lh,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:Og,useMemo:Bg,useReducer:eu,useRef:Mg,useState:function(){return eu(Es)},useDebugValue:uh,useDeferredValue:function(t){var e=Vt();return Ne===null?e.memoizedState=t:$g(e,Ne.memoizedState,t)},useTransition:function(){var t=eu(Es)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:Rg,useSyncExternalStore:bg,useId:Hg,unstable_isNewReconciler:!1};function Lt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ua={isMounted:function(t){return(t=t._reactInternals)?_r(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lt(),i=Vn(t),s=an(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nn(t,s,i),e!==null&&(Ut(e,t,i,r),Lo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lt(),i=Vn(t),s=an(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nn(t,s,i),e!==null&&(Ut(e,t,i,r),Lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),r=Vn(t),i=an(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nn(t,i,r),e!==null&&(Ut(e,t,r,n),Lo(e,t,r))}};function Kf(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ms(n,r)||!ms(i,s):!0}function Qg(t,e,n){var r=!1,i=Un,s=e.contextType;return typeof s=="object"&&s!==null?s=Dt(s):(i=mt(e)?cr:nt.current,r=e.contextTypes,s=(r=r!=null)?Jr(t,i):Un),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ua,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ua.enqueueReplaceState(e,e.state,null)}function Wu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},th(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dt(s):(s=mt(e)?cr:nt.current,i.context=Jr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ua.enqueueReplaceState(i,i.state,null),ca(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ni(t,e){try{var n="",r=e;do n+=i_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P1=typeof WeakMap=="function"?WeakMap:Map;function Gg(t,e,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ma||(ma=!0,nc=r),qu(t,e)},n}function Xg(t,e,n){n=an(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qu(t,e),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Gf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=W1.bind(null,t,e,n),e.then(t,t))}function Xf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=an(-1,1),e.tag=2,Nn(n,e,1))),n.lanes|=1),t)}var N1=gn.ReactCurrentOwner,ft=!1;function at(t,e,n,r){e.child=t===null?Sg(e,null,n,r):ei(e,t.child,n,r)}function Jf(t,e,n,r,i){n=n.render;var s=e.ref;return Kr(e,i),r=oh(t,e,n,r,s,i),n=ah(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hn(t,e,i)):(ve&&n&&Qc(e),e.flags|=1,at(t,e,r,i),e.child)}function Zf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!yh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Yg(t,e,s,r,i)):(t=$o(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ms,n(a,r)&&t.ref===e.ref)return hn(t,e,i)}return e.flags|=1,t=jn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Yg(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ms(s,r)&&t.ref===e.ref)if(ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,hn(t,e,i)}return Ku(t,e,n,r,i)}function Jg(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Ur,wt),wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Ur,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(Ur,wt),wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pe(Ur,wt),wt|=r;return at(t,e,i,n),e.child}function Zg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ku(t,e,n,r,i){var s=mt(n)?cr:nt.current;return s=Jr(e,s),Kr(e,i),n=oh(t,e,n,r,s,i),r=ah(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hn(t,e,i)):(ve&&r&&Qc(e),e.flags|=1,at(t,e,n,i),e.child)}function ep(t,e,n,r,i){if(mt(n)){var s=!0;sa(e)}else s=!1;if(Kr(e,i),e.stateNode===null)zo(t,e),Qg(e,n,r),Wu(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Dt(h):(h=mt(n)?cr:nt.current,h=Jr(e,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==h)&&Qf(e,a,r,h),En=!1;var _=e.memoizedState;a.state=_,ca(e,r,a,i),u=e.memoizedState,l!==r||_!==u||pt.current||En?(typeof p=="function"&&(Hu(e,n,p,r),u=e.memoizedState),(l=En||Kf(e,n,l,r,_,u,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ag(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Lt(e.type,l),a.props=h,g=e.pendingProps,_=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Dt(u):(u=mt(n)?cr:nt.current,u=Jr(e,u));var I=n.getDerivedStateFromProps;(p=typeof I=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||_!==u)&&Qf(e,a,r,u),En=!1,_=e.memoizedState,a.state=_,ca(e,r,a,i);var C=e.memoizedState;l!==g||_!==C||pt.current||En?(typeof I=="function"&&(Hu(e,n,I,r),C=e.memoizedState),(h=En||Kf(e,n,h,r,_,C,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),a.props=r,a.state=C,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return Qu(t,e,n,r,s,i)}function Qu(t,e,n,r,i,s){Zg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Ff(e,n,!1),hn(t,e,s);r=e.stateNode,N1.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ei(e,t.child,null,s),e.child=ei(e,null,l,s)):at(t,e,l,s),e.memoizedState=r.state,i&&Ff(e,n,!0),e.child}function ey(t){var e=t.stateNode;e.pendingContext?Of(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Of(t,e.context,!1),nh(t,e.containerInfo)}function tp(t,e,n,r,i){return Zr(),Xc(i),e.flags|=256,at(t,e,n,r),e.child}var Gu={dehydrated:null,treeContext:null,retryLane:0};function Xu(t){return{baseLanes:t,cachePool:null,transitions:null}}function ty(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(xe,i&1),t===null)return Bu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ha(a,r,0,null),t=ar(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xu(n),e.memoizedState=Gu,t):ch(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return D1(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=jn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=jn(l,s):(s=ar(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Xu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Gu,r}return s=t.child,t=s.sibling,r=jn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ch(t,e){return e=Ha({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function To(t,e,n,r){return r!==null&&Xc(r),ei(e,t.child,null,n),t=ch(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D1(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=tu(Error(O(422))),To(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ha({mode:"visible",children:r.children},i,0,null),s=ar(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ei(e,t.child,null,a),e.child.memoizedState=Xu(a),e.memoizedState=Gu,s);if(!(e.mode&1))return To(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(O(419)),r=tu(s,r,void 0),To(t,e,a,r)}if(l=(a&t.childLanes)!==0,ft||l){if(r=Oe,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cn(t,i),Ut(r,t,i,-1))}return gh(),r=tu(Error(O(421))),To(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=q1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Et=Pn(i.nextSibling),kt=e,ve=!0,Ft=null,t!==null&&(Rt[bt++]=sn,Rt[bt++]=on,Rt[bt++]=hr,sn=t.id,on=t.overflow,hr=e),e=ch(e,r.children),e.flags|=4096,e)}function np(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$u(t.return,e,n)}function nu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ny(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(at(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&np(t,n,e);else if(t.tag===19)np(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ha(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ha(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nu(e,!0,n,null,s);break;case"together":nu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=jn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function V1(t,e,n){switch(e.tag){case 3:ey(e),Zr();break;case 5:Cg(e);break;case 1:mt(e.type)&&sa(e);break;case 4:nh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(la,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?ty(t,e,n):(pe(xe,xe.current&1),t=hn(t,e,n),t!==null?t.sibling:null);pe(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ny(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,Jg(t,e,n)}return hn(t,e,n)}var ry,Yu,iy,sy;ry=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yu=function(){};iy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ir(Qt.current);var s=null;switch(n){case"input":i=_u(t,i),r=_u(t,r),s=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":i=Eu(t,i),r=Eu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ra)}ku(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ls.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ls.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ge("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};sy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oi(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j1(t,e,n){var r=e.pendingProps;switch(Gc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return mt(e.type)&&ia(),Ye(e),null;case 3:return r=e.stateNode,ti(),ye(pt),ye(nt),ih(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ft!==null&&(sc(Ft),Ft=null))),Yu(t,e),Ye(e),null;case 5:rh(e);var i=ir(xs.current);if(n=e.type,t!==null&&e.stateNode!=null)iy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Ye(e),null}if(t=ir(Qt.current),wo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qt]=e,r[vs]=s,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<Hi.length;i++)ge(Hi[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":hf(r,s),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ge("invalid",r);break;case"textarea":ff(r,s),ge("invalid",r)}ku(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&xo(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&xo(r.textContent,l,t),i=["children",""+l]):ls.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ge("scroll",r)}switch(n){case"input":ho(r),df(r,s,!0);break;case"textarea":ho(r),pf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ra)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[qt]=e,t[vs]=r,ry(t,e,!1,!1),e.stateNode=t;e:{switch(a=Su(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hi.length;i++)ge(Hi[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":hf(t,r),i=_u(t,r),ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),ge("invalid",t);break;case"textarea":ff(t,r),i=Eu(t,r),ge("invalid",t);break;default:i=r}ku(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Mm(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vm(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&us(t,u):typeof u=="number"&&us(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ls.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ge("scroll",t):u!=null&&Vc(t,s,u,a))}switch(n){case"input":ho(t),df(t,r,!1);break;case"textarea":ho(t),pf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?$r(t,!!r.multiple,s,!1):r.defaultValue!=null&&$r(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ra)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)sy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=ir(xs.current),ir(Qt.current),wo(e)){if(r=e.stateNode,n=e.memoizedProps,r[qt]=e,(s=r.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:xo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=e,e.stateNode=r}return Ye(e),null;case 13:if(ye(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&Et!==null&&e.mode&1&&!(e.flags&128))Tg(),Zr(),e.flags|=98560,s=!1;else if(s=wo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[qt]=e}else Zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else Ft!==null&&(sc(Ft),Ft=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Ve===0&&(Ve=3):gh())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return ti(),Yu(t,e),t===null&&gs(e.stateNode.containerInfo),Ye(e),null;case 10:return Zc(e.type._context),Ye(e),null;case 17:return mt(e.type)&&ia(),Ye(e),null;case 19:if(ye(xe),s=e.memoizedState,s===null)return Ye(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Oi(s,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ha(t),a!==null){for(e.flags|=128,Oi(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ae()>ri&&(e.flags|=128,r=!0,Oi(s,!1),e.lanes=4194304)}else{if(!r)if(t=ha(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ve)return Ye(e),null}else 2*Ae()-s.renderingStartTime>ri&&n!==1073741824&&(e.flags|=128,r=!0,Oi(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ae(),e.sibling=null,n=xe.current,pe(xe,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return mh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function M1(t,e){switch(Gc(e),e.tag){case 1:return mt(e.type)&&ia(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ti(),ye(pt),ye(nt),ih(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rh(e),null;case 13:if(ye(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(xe),null;case 4:return ti(),null;case 10:return Zc(e.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var ko=!1,et=!1,L1=typeof WeakSet=="function"?WeakSet:Set,H=null;function zr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function Ju(t,e,n){try{n()}catch(r){Se(t,e,r)}}var rp=!1;function O1(t,e){if(ju=ea,t=cg(),Kc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,p=0,g=t,_=null;t:for(;;){for(var I;g!==n||i!==0&&g.nodeType!==3||(l=a+i),g!==s||r!==0&&g.nodeType!==3||(u=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(I=g.firstChild)!==null;)_=g,g=I;for(;;){if(g===t)break t;if(_===n&&++h===i&&(l=a),_===s&&++p===r&&(u=a),(I=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=I}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mu={focusedElem:t,selectionRange:n},ea=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,V=C.memoizedState,k=e.stateNode,v=k.getSnapshotBeforeUpdate(e.elementType===e.type?P:Lt(e.type,P),V);k.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(D){Se(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return C=rp,rp=!1,C}function ts(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ju(e,n,s)}i=i.next}while(i!==r)}}function Ba(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oy(t){var e=t.alternate;e!==null&&(t.alternate=null,oy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qt],delete e[vs],delete e[Fu],delete e[x1],delete e[w1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ay(t){return t.tag===5||t.tag===3||t.tag===4}function ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ec(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ra));else if(r!==4&&(t=t.child,t!==null))for(ec(t,e,n),t=t.sibling;t!==null;)ec(t,e,n),t=t.sibling}function tc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tc(t,e,n),t=t.sibling;t!==null;)tc(t,e,n),t=t.sibling}var ze=null,Ot=!1;function xn(t,e,n){for(n=n.child;n!==null;)ly(t,e,n),n=n.sibling}function ly(t,e,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Va,n)}catch{}switch(n.tag){case 5:et||zr(n,e);case 6:var r=ze,i=Ot;ze=null,xn(t,e,n),ze=r,Ot=i,ze!==null&&(Ot?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Ot?(t=ze,n=n.stateNode,t.nodeType===8?Gl(t.parentNode,n):t.nodeType===1&&Gl(t,n),fs(t)):Gl(ze,n.stateNode));break;case 4:r=ze,i=Ot,ze=n.stateNode.containerInfo,Ot=!0,xn(t,e,n),ze=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Ju(n,e,a),i=i.next}while(i!==r)}xn(t,e,n);break;case 1:if(!et&&(zr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,e,l)}xn(t,e,n);break;case 21:xn(t,e,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,xn(t,e,n),et=r):xn(t,e,n);break;default:xn(t,e,n)}}function sp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new L1),e.forEach(function(r){var i=K1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,Ot=!1;break e;case 3:ze=l.stateNode.containerInfo,Ot=!0;break e;case 4:ze=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(ze===null)throw Error(O(160));ly(s,a,i),ze=null,Ot=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Se(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uy(e,t),e=e.sibling}function uy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),Ht(t),r&4){try{ts(3,t,t.return),Ba(3,t)}catch(P){Se(t,t.return,P)}try{ts(5,t,t.return)}catch(P){Se(t,t.return,P)}}break;case 1:Mt(e,t),Ht(t),r&512&&n!==null&&zr(n,n.return);break;case 5:if(Mt(e,t),Ht(t),r&512&&n!==null&&zr(n,n.return),t.flags&32){var i=t.stateNode;try{us(i,"")}catch(P){Se(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Pm(i,s),Su(l,a);var h=Su(l,s);for(a=0;a<u.length;a+=2){var p=u[a],g=u[a+1];p==="style"?Mm(i,g):p==="dangerouslySetInnerHTML"?Vm(i,g):p==="children"?us(i,g):Vc(i,p,g,h)}switch(l){case"input":xu(i,s);break;case"textarea":Nm(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?$r(i,!!s.multiple,I,!1):_!==!!s.multiple&&(s.defaultValue!=null?$r(i,!!s.multiple,s.defaultValue,!0):$r(i,!!s.multiple,s.multiple?[]:"",!1))}i[vs]=s}catch(P){Se(t,t.return,P)}}break;case 6:if(Mt(e,t),Ht(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){Se(t,t.return,P)}}break;case 3:if(Mt(e,t),Ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fs(e.containerInfo)}catch(P){Se(t,t.return,P)}break;case 4:Mt(e,t),Ht(t);break;case 13:Mt(e,t),Ht(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fh=Ae())),r&4&&sp(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(et=(h=et)||p,Mt(e,t),et=h):Mt(e,t),Ht(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(H=t,p=t.child;p!==null;){for(g=H=p;H!==null;){switch(_=H,I=_.child,_.tag){case 0:case 11:case 14:case 15:ts(4,_,_.return);break;case 1:zr(_,_.return);var C=_.stateNode;if(typeof C.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(P){Se(r,n,P)}}break;case 5:zr(_,_.return);break;case 22:if(_.memoizedState!==null){ap(g);continue}}I!==null?(I.return=_,H=I):ap(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,u=g.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=jm("display",a))}catch(P){Se(t,t.return,P)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(P){Se(t,t.return,P)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Mt(e,t),Ht(t),r&4&&sp(t);break;case 21:break;default:Mt(e,t),Ht(t)}}function Ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ay(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(us(i,""),r.flags&=-33);var s=ip(t);tc(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=ip(t);ec(t,l,a);break;default:throw Error(O(161))}}catch(u){Se(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F1(t,e,n){H=t,cy(t)}function cy(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ko;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||et;l=ko;var h=et;if(ko=a,(et=u)&&!h)for(H=i;H!==null;)a=H,u=a.child,a.tag===22&&a.memoizedState!==null?lp(i):u!==null?(u.return=a,H=u):lp(i);for(;s!==null;)H=s,cy(s),s=s.sibling;H=i,ko=l,et=h}op(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):op(t)}}function op(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||Ba(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Lt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hf(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hf(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&fs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}et||e.flags&512&&Zu(e)}catch(_){Se(e,e.return,_)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function ap(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function lp(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ba(4,e)}catch(u){Se(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Se(e,i,u)}}var s=e.return;try{Zu(e)}catch(u){Se(e,s,u)}break;case 5:var a=e.return;try{Zu(e)}catch(u){Se(e,a,u)}}}catch(u){Se(e,e.return,u)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var z1=Math.ceil,pa=gn.ReactCurrentDispatcher,hh=gn.ReactCurrentOwner,Nt=gn.ReactCurrentBatchConfig,ae=0,Oe=null,Pe=null,$e=0,wt=0,Ur=qn(0),Ve=0,ks=null,fr=0,$a=0,dh=0,ns=null,ht=null,fh=0,ri=1/0,nn=null,ma=!1,nc=null,Dn=null,So=!1,In=null,ga=0,rs=0,rc=null,Uo=-1,Bo=0;function lt(){return ae&6?Ae():Uo!==-1?Uo:Uo=Ae()}function Vn(t){return t.mode&1?ae&2&&$e!==0?$e&-$e:T1.transition!==null?(Bo===0&&(Bo=Qm()),Bo):(t=he,t!==0||(t=window.event,t=t===void 0?16:tg(t.type)),t):1}function Ut(t,e,n,r){if(50<rs)throw rs=0,rc=null,Error(O(185));js(t,n,r),(!(ae&2)||t!==Oe)&&(t===Oe&&(!(ae&2)&&($a|=n),Ve===4&&kn(t,$e)),gt(t,r),n===1&&ae===0&&!(e.mode&1)&&(ri=Ae()+500,Fa&&Kn()))}function gt(t,e){var n=t.callbackNode;T_(t,e);var r=Zo(t,t===Oe?$e:0);if(r===0)n!==null&&yf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yf(n),e===1)t.tag===0?E1(up.bind(null,t)):xg(up.bind(null,t)),v1(function(){!(ae&6)&&Kn()}),n=null;else{switch(Gm(r)){case 1:n=Fc;break;case 4:n=qm;break;case 16:n=Jo;break;case 536870912:n=Km;break;default:n=Jo}n=vy(n,hy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hy(t,e){if(Uo=-1,Bo=0,ae&6)throw Error(O(327));var n=t.callbackNode;if(Qr()&&t.callbackNode!==n)return null;var r=Zo(t,t===Oe?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ya(t,r);else{e=r;var i=ae;ae|=2;var s=fy();(Oe!==t||$e!==e)&&(nn=null,ri=Ae()+500,or(t,e));do try{$1();break}catch(l){dy(t,l)}while(!0);Jc(),pa.current=s,ae=i,Pe!==null?e=0:(Oe=null,$e=0,e=Ve)}if(e!==0){if(e===2&&(i=bu(t),i!==0&&(r=i,e=ic(t,i))),e===1)throw n=ks,or(t,0),kn(t,r),gt(t,Ae()),n;if(e===6)kn(t,r);else{if(i=t.current.alternate,!(r&30)&&!U1(i)&&(e=ya(t,r),e===2&&(s=bu(t),s!==0&&(r=s,e=ic(t,s))),e===1))throw n=ks,or(t,0),kn(t,r),gt(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:er(t,ht,nn);break;case 3:if(kn(t,r),(r&130023424)===r&&(e=fh+500-Ae(),10<e)){if(Zo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ou(er.bind(null,t,ht,nn),e);break}er(t,ht,nn);break;case 4:if(kn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-zt(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*z1(r/1960))-r,10<r){t.timeoutHandle=Ou(er.bind(null,t,ht,nn),r);break}er(t,ht,nn);break;case 5:er(t,ht,nn);break;default:throw Error(O(329))}}}return gt(t,Ae()),t.callbackNode===n?hy.bind(null,t):null}function ic(t,e){var n=ns;return t.current.memoizedState.isDehydrated&&(or(t,e).flags|=256),t=ya(t,e),t!==2&&(e=ht,ht=n,e!==null&&sc(e)),t}function sc(t){ht===null?ht=t:ht.push.apply(ht,t)}function U1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$t(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kn(t,e){for(e&=~dh,e&=~$a,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zt(e),r=1<<n;t[n]=-1,e&=~r}}function up(t){if(ae&6)throw Error(O(327));Qr();var e=Zo(t,0);if(!(e&1))return gt(t,Ae()),null;var n=ya(t,e);if(t.tag!==0&&n===2){var r=bu(t);r!==0&&(e=r,n=ic(t,r))}if(n===1)throw n=ks,or(t,0),kn(t,e),gt(t,Ae()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,er(t,ht,nn),gt(t,Ae()),null}function ph(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(ri=Ae()+500,Fa&&Kn())}}function pr(t){In!==null&&In.tag===0&&!(ae&6)&&Qr();var e=ae;ae|=1;var n=Nt.transition,r=he;try{if(Nt.transition=null,he=1,t)return t()}finally{he=r,Nt.transition=n,ae=e,!(ae&6)&&Kn()}}function mh(){wt=Ur.current,ye(Ur)}function or(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,y1(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Gc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ia();break;case 3:ti(),ye(pt),ye(nt),ih();break;case 5:rh(r);break;case 4:ti();break;case 13:ye(xe);break;case 19:ye(xe);break;case 10:Zc(r.type._context);break;case 22:case 23:mh()}n=n.return}if(Oe=t,Pe=t=jn(t.current,null),$e=wt=e,Ve=0,ks=null,dh=$a=fr=0,ht=ns=null,rr!==null){for(e=0;e<rr.length;e++)if(n=rr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}rr=null}return t}function dy(t,e){do{var n=Pe;try{if(Jc(),Oo.current=fa,da){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}da=!1}if(dr=0,Le=Ne=we=null,es=!1,ws=0,hh.current=null,n===null||n.return===null){Ve=1,ks=e,Pe=null;break}e:{var s=t,a=n.return,l=n,u=e;if(e=$e,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=l,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var I=Xf(a);if(I!==null){I.flags&=-257,Yf(I,a,l,s,e),I.mode&1&&Gf(s,h,e),e=I,u=h;var C=e.updateQueue;if(C===null){var P=new Set;P.add(u),e.updateQueue=P}else C.add(u);break e}else{if(!(e&1)){Gf(s,h,e),gh();break e}u=Error(O(426))}}else if(ve&&l.mode&1){var V=Xf(a);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Yf(V,a,l,s,e),Xc(ni(u,l));break e}}s=u=ni(u,l),Ve!==4&&(Ve=2),ns===null?ns=[s]:ns.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var k=Gg(s,u,e);$f(s,k);break e;case 1:l=u;var v=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Dn===null||!Dn.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=Xg(s,l,e);$f(s,D);break e}}s=s.return}while(s!==null)}my(n)}catch(F){e=F,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function fy(){var t=pa.current;return pa.current=fa,t===null?fa:t}function gh(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Oe===null||!(fr&268435455)&&!($a&268435455)||kn(Oe,$e)}function ya(t,e){var n=ae;ae|=2;var r=fy();(Oe!==t||$e!==e)&&(nn=null,or(t,e));do try{B1();break}catch(i){dy(t,i)}while(!0);if(Jc(),ae=n,pa.current=r,Pe!==null)throw Error(O(261));return Oe=null,$e=0,Ve}function B1(){for(;Pe!==null;)py(Pe)}function $1(){for(;Pe!==null&&!p_();)py(Pe)}function py(t){var e=yy(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?my(t):Pe=e,hh.current=null}function my(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M1(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,Pe=null;return}}else if(n=j1(n,e,wt),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Ve===0&&(Ve=5)}function er(t,e,n){var r=he,i=Nt.transition;try{Nt.transition=null,he=1,H1(t,e,n,r)}finally{Nt.transition=i,he=r}return null}function H1(t,e,n,r){do Qr();while(In!==null);if(ae&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(k_(t,s),t===Oe&&(Pe=Oe=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,vy(Jo,function(){return Qr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nt.transition,Nt.transition=null;var a=he;he=1;var l=ae;ae|=4,hh.current=null,O1(t,n),uy(n,t),c1(Mu),ea=!!ju,Mu=ju=null,t.current=n,F1(n),m_(),ae=l,he=a,Nt.transition=s}else t.current=n;if(So&&(So=!1,In=t,ga=i),s=t.pendingLanes,s===0&&(Dn=null),v_(n.stateNode),gt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ma)throw ma=!1,t=nc,nc=null,t;return ga&1&&t.tag!==0&&Qr(),s=t.pendingLanes,s&1?t===rc?rs++:(rs=0,rc=t):rs=0,Kn(),null}function Qr(){if(In!==null){var t=Gm(ga),e=Nt.transition,n=he;try{if(Nt.transition=null,he=16>t?16:t,In===null)var r=!1;else{if(t=In,In=null,ga=0,ae&6)throw Error(O(331));var i=ae;for(ae|=4,H=t.current;H!==null;){var s=H,a=s.child;if(H.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(H=h;H!==null;){var p=H;switch(p.tag){case 0:case 11:case 15:ts(8,p,s)}var g=p.child;if(g!==null)g.return=p,H=g;else for(;H!==null;){p=H;var _=p.sibling,I=p.return;if(oy(p),p===h){H=null;break}if(_!==null){_.return=I,H=_;break}H=I}}}var C=s.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var V=P.sibling;P.sibling=null,P=V}while(P!==null)}}H=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,H=a;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ts(9,s,s.return)}var k=s.sibling;if(k!==null){k.return=s.return,H=k;break e}H=s.return}}var v=t.current;for(H=v;H!==null;){a=H;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,H=S;else e:for(a=v;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ba(9,l)}}catch(F){Se(l,l.return,F)}if(l===a){H=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,H=D;break e}H=l.return}}if(ae=i,Kn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Va,t)}catch{}r=!0}return r}finally{he=n,Nt.transition=e}}return!1}function cp(t,e,n){e=ni(n,e),e=Gg(t,e,1),t=Nn(t,e,1),e=lt(),t!==null&&(js(t,1,e),gt(t,e))}function Se(t,e,n){if(t.tag===3)cp(t,t,n);else for(;e!==null;){if(e.tag===3){cp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){t=ni(n,t),t=Xg(e,t,1),e=Nn(e,t,1),t=lt(),e!==null&&(js(e,1,t),gt(e,t));break}}e=e.return}}function W1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,Oe===t&&($e&n)===n&&(Ve===4||Ve===3&&($e&130023424)===$e&&500>Ae()-fh?or(t,0):dh|=n),gt(t,e)}function gy(t,e){e===0&&(t.mode&1?(e=mo,mo<<=1,!(mo&130023424)&&(mo=4194304)):e=1);var n=lt();t=cn(t,e),t!==null&&(js(t,e,n),gt(t,n))}function q1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gy(t,n)}function K1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),gy(t,n)}var yy;yy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ft=!1,V1(t,e,n);ft=!!(t.flags&131072)}else ft=!1,ve&&e.flags&1048576&&wg(e,aa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zo(t,e),t=e.pendingProps;var i=Jr(e,nt.current);Kr(e,n),i=oh(null,e,r,t,i,n);var s=ah();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(s=!0,sa(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,th(e),i.updater=Ua,e.stateNode=i,i._reactInternals=e,Wu(e,r,t,n),e=Qu(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&Qc(e),at(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=G1(r),t=Lt(r,t),i){case 0:e=Ku(null,e,r,t,n);break e;case 1:e=ep(null,e,r,t,n);break e;case 11:e=Jf(null,e,r,t,n);break e;case 14:e=Zf(null,e,r,Lt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),Ku(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),ep(t,e,r,i,n);case 3:e:{if(ey(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ag(t,e),ca(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ni(Error(O(423)),e),e=tp(t,e,r,n,i);break e}else if(r!==i){i=ni(Error(O(424)),e),e=tp(t,e,r,n,i);break e}else for(Et=Pn(e.stateNode.containerInfo.firstChild),kt=e,ve=!0,Ft=null,n=Sg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zr(),r===i){e=hn(t,e,n);break e}at(t,e,r,n)}e=e.child}return e;case 5:return Cg(e),t===null&&Bu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Lu(r,i)?a=null:s!==null&&Lu(r,s)&&(e.flags|=32),Zg(t,e),at(t,e,a,n),e.child;case 6:return t===null&&Bu(e),null;case 13:return ty(t,e,n);case 4:return nh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ei(e,null,r,n):at(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),Jf(t,e,r,i,n);case 7:return at(t,e,e.pendingProps,n),e.child;case 8:return at(t,e,e.pendingProps.children,n),e.child;case 12:return at(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,pe(la,r._currentValue),r._currentValue=a,s!==null)if($t(s.value,a)){if(s.children===i.children&&!pt.current){e=hn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=an(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),$u(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(O(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),$u(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}at(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Kr(e,n),i=Dt(i),r=r(i),e.flags|=1,at(t,e,r,n),e.child;case 14:return r=e.type,i=Lt(r,e.pendingProps),i=Lt(r.type,i),Zf(t,e,r,i,n);case 15:return Yg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),zo(t,e),e.tag=1,mt(r)?(t=!0,sa(e)):t=!1,Kr(e,n),Qg(e,r,i),Wu(e,r,i,n),Qu(null,e,r,!0,t,n);case 19:return ny(t,e,n);case 22:return Jg(t,e,n)}throw Error(O(156,e.tag))};function vy(t,e){return Wm(t,e)}function Q1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,r){return new Q1(t,e,n,r)}function yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G1(t){if(typeof t=="function")return yh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mc)return 11;if(t===Lc)return 14}return 2}function jn(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $o(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")yh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Pr:return ar(n.children,i,s,e);case jc:a=8,i|=8;break;case mu:return t=Pt(12,n,e,i|2),t.elementType=mu,t.lanes=s,t;case gu:return t=Pt(13,n,e,i),t.elementType=gu,t.lanes=s,t;case yu:return t=Pt(19,n,e,i),t.elementType=yu,t.lanes=s,t;case Cm:return Ha(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Im:a=10;break e;case Am:a=9;break e;case Mc:a=11;break e;case Lc:a=14;break e;case wn:a=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Pt(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ar(t,e,n,r){return t=Pt(7,t,r,e),t.lanes=n,t}function Ha(t,e,n,r){return t=Pt(22,t,r,e),t.elementType=Cm,t.lanes=n,t.stateNode={isHidden:!1},t}function ru(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function iu(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vh(t,e,n,r,i,s,a,l,u){return t=new X1(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},th(s),t}function Y1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:br,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _y(t){if(!t)return Un;t=t._reactInternals;e:{if(_r(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(mt(n))return _g(t,n,e)}return e}function xy(t,e,n,r,i,s,a,l,u){return t=vh(n,r,!0,t,i,s,a,l,u),t.context=_y(null),n=t.current,r=lt(),i=Vn(n),s=an(r,i),s.callback=e??null,Nn(n,s,i),t.current.lanes=i,js(t,i,r),gt(t,r),t}function Wa(t,e,n,r){var i=e.current,s=lt(),a=Vn(i);return n=_y(n),e.context===null?e.context=n:e.pendingContext=n,e=an(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nn(i,e,a),t!==null&&(Ut(t,i,a,s),Lo(t,i,a)),a}function va(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _h(t,e){hp(t,e),(t=t.alternate)&&hp(t,e)}function J1(){return null}var wy=typeof reportError=="function"?reportError:function(t){console.error(t)};function xh(t){this._internalRoot=t}qa.prototype.render=xh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Wa(t,e,null,null)};qa.prototype.unmount=xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pr(function(){Wa(null,t,null,null)}),e[un]=null}};function qa(t){this._internalRoot=t}qa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tn.length&&e!==0&&e<Tn[n].priority;n++);Tn.splice(n,0,t),n===0&&eg(t)}};function wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ka(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dp(){}function Z1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=va(a);s.call(h)}}var a=xy(e,r,t,0,null,!1,!1,"",dp);return t._reactRootContainer=a,t[un]=a.current,gs(t.nodeType===8?t.parentNode:t),pr(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=va(u);l.call(h)}}var u=vh(t,0,!1,null,null,!1,!1,"",dp);return t._reactRootContainer=u,t[un]=u.current,gs(t.nodeType===8?t.parentNode:t),pr(function(){Wa(e,u,n,r)}),u}function Qa(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var u=va(a);l.call(u)}}Wa(e,a,t,i)}else a=Z1(n,e,t,i,r);return va(a)}Xm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$i(e.pendingLanes);n!==0&&(zc(e,n|1),gt(e,Ae()),!(ae&6)&&(ri=Ae()+500,Kn()))}break;case 13:pr(function(){var r=cn(t,1);if(r!==null){var i=lt();Ut(r,t,1,i)}}),_h(t,1)}};Uc=function(t){if(t.tag===13){var e=cn(t,134217728);if(e!==null){var n=lt();Ut(e,t,134217728,n)}_h(t,134217728)}};Ym=function(t){if(t.tag===13){var e=Vn(t),n=cn(t,e);if(n!==null){var r=lt();Ut(n,t,e,r)}_h(t,e)}};Jm=function(){return he};Zm=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};Au=function(t,e,n){switch(e){case"input":if(xu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Oa(r);if(!i)throw Error(O(90));bm(r),xu(r,i)}}}break;case"textarea":Nm(t,n);break;case"select":e=n.value,e!=null&&$r(t,!!n.multiple,e,!1)}};Fm=ph;zm=pr;var ex={usingClientEntryPoint:!1,Events:[Ls,jr,Oa,Lm,Om,ph]},Fi={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tx={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$m(t),t===null?null:t.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance||J1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{Va=Io.inject(tx),Kt=Io}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ex;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(e))throw Error(O(200));return Y1(t,e,null,n)};At.createRoot=function(t,e){if(!wh(t))throw Error(O(299));var n=!1,r="",i=wy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vh(t,1,!1,null,null,n,!1,r,i),t[un]=e.current,gs(t.nodeType===8?t.parentNode:t),new xh(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=$m(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return pr(t)};At.hydrate=function(t,e,n){if(!Ka(e))throw Error(O(200));return Qa(null,t,e,!0,n)};At.hydrateRoot=function(t,e,n){if(!wh(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=wy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=xy(e,null,t,1,n??null,i,!1,s,a),t[un]=e.current,gs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qa(e)};At.render=function(t,e,n){if(!Ka(e))throw Error(O(200));return Qa(null,t,e,!1,n)};At.unmountComponentAtNode=function(t){if(!Ka(t))throw Error(O(40));return t._reactRootContainer?(pr(function(){Qa(null,null,t,!1,function(){t._reactRootContainer=null,t[un]=null})}),!0):!1};At.unstable_batchedUpdates=ph;At.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ka(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Qa(t,e,n,!1,r)};At.version="18.3.1-next-f1338f8080-20240426";function Ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ey)}catch(t){console.error(t)}}Ey(),Em.exports=At;var nx=Em.exports,fp=nx;fu.createRoot=fp.createRoot,fu.hydrateRoot=fp.hydrateRoot;var pp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},ky={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=s>>2,g=(s&3)<<4|l>>4;let _=(l&15)<<2|h>>6,I=h&63;u||(I=64,a||(_=64)),r.push(n[p],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ty(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw new ix;const _=s<<2|l>>4;if(r.push(_),h!==64){const I=l<<4&240|h>>2;if(r.push(I),g!==64){const C=h<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ix extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sx=function(t){const e=Ty(t);return ky.encodeByteArray(e,!0)},_a=function(t){return sx(t).replace(/\./g,"")},ox=function(t){try{return ky.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=()=>ax().__FIREBASE_DEFAULTS__,ux=()=>{if(typeof process>"u"||typeof pp>"u")return;const t=pp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ox(t[1]);return e&&JSON.parse(e)},Eh=()=>{try{return lx()||ux()||cx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hx=t=>{var e,n;return(n=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dx=t=>{const e=hx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sy=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_a(JSON.stringify(n)),_a(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gx(){var t;const e=(t=Eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yx(){return!gx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vx(){try{return typeof indexedDB=="object"}catch{return!1}}function _x(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xx,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iy.prototype.create)}}class Iy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?wx(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new mi(i,l,r)}}function wx(t,e){return t.replace(Ex,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ex=/\{\$([^}]+)}/g;function oc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(mp(s)&&mp(a)){if(!oc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class Ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sx(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kx(t){return t===tr?void 0:t}function Sx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const Ax={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Cx=oe.INFO,Rx={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},bx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Rx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=Cx,this._logHandler=bx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ax[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const Px=(t,e)=>e.some(n=>t instanceof n);let gp,yp;function Nx(){return gp||(gp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dx(){return yp||(yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cy=new WeakMap,ac=new WeakMap,Ry=new WeakMap,su=new WeakMap,Th=new WeakMap;function Vx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Mn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Cy.set(n,t)}).catch(()=>{}),Th.set(e,t),e}function jx(t){if(ac.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ac.set(t,e)}let lc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ac.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ry.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Mx(t){lc=t(lc)}function Lx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ou(this),e,...n);return Ry.set(r,e.sort?e.sort():[e]),Mn(r)}:Dx().includes(t)?function(...e){return t.apply(ou(this),e),Mn(Cy.get(this))}:function(...e){return Mn(t.apply(ou(this),e))}}function Ox(t){return typeof t=="function"?Lx(t):(t instanceof IDBTransaction&&jx(t),Px(t,Nx())?new Proxy(t,lc):t)}function Mn(t){if(t instanceof IDBRequest)return Vx(t);if(su.has(t))return su.get(t);const e=Ox(t);return e!==t&&(su.set(t,e),Th.set(e,t)),e}const ou=t=>Th.get(t);function Fx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Mn(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Mn(a.result),u.oldVersion,u.newVersion,Mn(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const zx=["get","getKey","getAll","getAllKeys","count"],Ux=["put","add","delete","clear"],au=new Map;function vp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(au.get(e))return au.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ux.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zx.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return au.set(e,s),s}Mx(t=>({...t,get:(e,n,r)=>vp(e,n)||t.get(e,n,r),has:(e,n)=>!!vp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($x(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $x(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uc="@firebase/app",_p="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Ay("@firebase/app"),Hx="@firebase/app-compat",Wx="@firebase/analytics-compat",qx="@firebase/analytics",Kx="@firebase/app-check-compat",Qx="@firebase/app-check",Gx="@firebase/auth",Xx="@firebase/auth-compat",Yx="@firebase/database",Jx="@firebase/data-connect",Zx="@firebase/database-compat",ew="@firebase/functions",tw="@firebase/functions-compat",nw="@firebase/installations",rw="@firebase/installations-compat",iw="@firebase/messaging",sw="@firebase/messaging-compat",ow="@firebase/performance",aw="@firebase/performance-compat",lw="@firebase/remote-config",uw="@firebase/remote-config-compat",cw="@firebase/storage",hw="@firebase/storage-compat",dw="@firebase/firestore",fw="@firebase/vertexai-preview",pw="@firebase/firestore-compat",mw="firebase",gw="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]",yw={[uc]:"fire-core",[Hx]:"fire-core-compat",[qx]:"fire-analytics",[Wx]:"fire-analytics-compat",[Qx]:"fire-app-check",[Kx]:"fire-app-check-compat",[Gx]:"fire-auth",[Xx]:"fire-auth-compat",[Yx]:"fire-rtdb",[Jx]:"fire-data-connect",[Zx]:"fire-rtdb-compat",[ew]:"fire-fn",[tw]:"fire-fn-compat",[nw]:"fire-iid",[rw]:"fire-iid-compat",[iw]:"fire-fcm",[sw]:"fire-fcm-compat",[ow]:"fire-perf",[aw]:"fire-perf-compat",[lw]:"fire-rc",[uw]:"fire-rc-compat",[cw]:"fire-gcs",[hw]:"fire-gcs-compat",[dw]:"fire-fst",[pw]:"fire-fst-compat",[fw]:"fire-vertex","fire-js":"fire-js",[mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Map,vw=new Map,hc=new Map;function xp(t,e){try{t.container.addComponent(e)}catch(n){fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wa(t){const e=t.name;if(hc.has(e))return fn.debug(`There were multiple attempts to register component ${e}.`),!1;hc.set(e,t);for(const n of xa.values())xp(n,t);for(const n of vw.values())xp(n,t);return!0}function _w(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new Iy("app","Firebase",xw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=gw;function by(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ln.create("bad-app-name",{appName:String(i)});if(n||(n=Sy()),!n)throw Ln.create("no-options");const s=xa.get(i);if(s){if(oc(n,s.options)&&oc(r,s.config))return s;throw Ln.create("duplicate-app",{appName:i})}const a=new Ix(i);for(const u of hc.values())a.addComponent(u);const l=new ww(n,r,a);return xa.set(i,l),l}function Tw(t=cc){const e=xa.get(t);if(!e&&t===cc&&Sy())return by();if(!e)throw Ln.create("no-app",{appName:t});return e}function Gr(t,e,n){var r;let i=(r=yw[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fn.warn(l.join(" "));return}wa(new Ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firebase-heartbeat-database",Sw=1,Is="firebase-heartbeat-store";let lu=null;function Py(){return lu||(lu=Fx(kw,Sw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Is)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ln.create("idb-open",{originalErrorMessage:t.message})})),lu}async function Iw(t){try{const n=(await Py()).transaction(Is),r=await n.objectStore(Is).get(Ny(t));return await n.done,r}catch(e){if(e instanceof mi)fn.warn(e.message);else{const n=Ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fn.warn(n.message)}}}async function wp(t,e){try{const r=(await Py()).transaction(Is,"readwrite");await r.objectStore(Is).put(e,Ny(t)),await r.done}catch(n){if(n instanceof mi)fn.warn(n.message);else{const r=Ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fn.warn(r.message)}}}function Ny(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1024,Cw=30*24*60*60*1e3;class Rw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ep();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=Cw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){fn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ep(),{heartbeatsToSend:r,unsentEntries:i}=bw(this._heartbeatsCache.heartbeats),s=_a(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fn.warn(n),""}}}function Ep(){return new Date().toISOString().substring(0,10)}function bw(t,e=Aw){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Tp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Pw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vx()?_x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Iw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tp(t){return _a(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){wa(new Ss("platform-logger",e=>new Bx(e),"PRIVATE")),wa(new Ss("heartbeat",e=>new Rw(e),"PRIVATE")),Gr(uc,_p,t),Gr(uc,_p,"esm2017"),Gr("fire-js","")}Nw("");var Dw="firebase",Vw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(Dw,Vw,"app");var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lr,Dy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,y){function w(){}w.prototype=y.prototype,x.D=y.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(T,A,R){for(var E=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)E[Ce-2]=arguments[Ce];return y.prototype[A].apply(T,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var A=0;16>A;++A)T[A]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(A=0;16>A;++A)T[A]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=x.g[0],w=x.g[1],A=x.g[2];var R=x.g[3],E=y+(R^w&(A^R))+T[0]+3614090360&4294967295;y=w+(E<<7&4294967295|E>>>25),E=R+(A^y&(w^A))+T[1]+3905402710&4294967295,R=y+(E<<12&4294967295|E>>>20),E=A+(w^R&(y^w))+T[2]+606105819&4294967295,A=R+(E<<17&4294967295|E>>>15),E=w+(y^A&(R^y))+T[3]+3250441966&4294967295,w=A+(E<<22&4294967295|E>>>10),E=y+(R^w&(A^R))+T[4]+4118548399&4294967295,y=w+(E<<7&4294967295|E>>>25),E=R+(A^y&(w^A))+T[5]+1200080426&4294967295,R=y+(E<<12&4294967295|E>>>20),E=A+(w^R&(y^w))+T[6]+2821735955&4294967295,A=R+(E<<17&4294967295|E>>>15),E=w+(y^A&(R^y))+T[7]+4249261313&4294967295,w=A+(E<<22&4294967295|E>>>10),E=y+(R^w&(A^R))+T[8]+1770035416&4294967295,y=w+(E<<7&4294967295|E>>>25),E=R+(A^y&(w^A))+T[9]+2336552879&4294967295,R=y+(E<<12&4294967295|E>>>20),E=A+(w^R&(y^w))+T[10]+4294925233&4294967295,A=R+(E<<17&4294967295|E>>>15),E=w+(y^A&(R^y))+T[11]+2304563134&4294967295,w=A+(E<<22&4294967295|E>>>10),E=y+(R^w&(A^R))+T[12]+1804603682&4294967295,y=w+(E<<7&4294967295|E>>>25),E=R+(A^y&(w^A))+T[13]+4254626195&4294967295,R=y+(E<<12&4294967295|E>>>20),E=A+(w^R&(y^w))+T[14]+2792965006&4294967295,A=R+(E<<17&4294967295|E>>>15),E=w+(y^A&(R^y))+T[15]+1236535329&4294967295,w=A+(E<<22&4294967295|E>>>10),E=y+(A^R&(w^A))+T[1]+4129170786&4294967295,y=w+(E<<5&4294967295|E>>>27),E=R+(w^A&(y^w))+T[6]+3225465664&4294967295,R=y+(E<<9&4294967295|E>>>23),E=A+(y^w&(R^y))+T[11]+643717713&4294967295,A=R+(E<<14&4294967295|E>>>18),E=w+(R^y&(A^R))+T[0]+3921069994&4294967295,w=A+(E<<20&4294967295|E>>>12),E=y+(A^R&(w^A))+T[5]+3593408605&4294967295,y=w+(E<<5&4294967295|E>>>27),E=R+(w^A&(y^w))+T[10]+38016083&4294967295,R=y+(E<<9&4294967295|E>>>23),E=A+(y^w&(R^y))+T[15]+3634488961&4294967295,A=R+(E<<14&4294967295|E>>>18),E=w+(R^y&(A^R))+T[4]+3889429448&4294967295,w=A+(E<<20&4294967295|E>>>12),E=y+(A^R&(w^A))+T[9]+568446438&4294967295,y=w+(E<<5&4294967295|E>>>27),E=R+(w^A&(y^w))+T[14]+3275163606&4294967295,R=y+(E<<9&4294967295|E>>>23),E=A+(y^w&(R^y))+T[3]+4107603335&4294967295,A=R+(E<<14&4294967295|E>>>18),E=w+(R^y&(A^R))+T[8]+1163531501&4294967295,w=A+(E<<20&4294967295|E>>>12),E=y+(A^R&(w^A))+T[13]+2850285829&4294967295,y=w+(E<<5&4294967295|E>>>27),E=R+(w^A&(y^w))+T[2]+4243563512&4294967295,R=y+(E<<9&4294967295|E>>>23),E=A+(y^w&(R^y))+T[7]+1735328473&4294967295,A=R+(E<<14&4294967295|E>>>18),E=w+(R^y&(A^R))+T[12]+2368359562&4294967295,w=A+(E<<20&4294967295|E>>>12),E=y+(w^A^R)+T[5]+4294588738&4294967295,y=w+(E<<4&4294967295|E>>>28),E=R+(y^w^A)+T[8]+2272392833&4294967295,R=y+(E<<11&4294967295|E>>>21),E=A+(R^y^w)+T[11]+1839030562&4294967295,A=R+(E<<16&4294967295|E>>>16),E=w+(A^R^y)+T[14]+4259657740&4294967295,w=A+(E<<23&4294967295|E>>>9),E=y+(w^A^R)+T[1]+2763975236&4294967295,y=w+(E<<4&4294967295|E>>>28),E=R+(y^w^A)+T[4]+1272893353&4294967295,R=y+(E<<11&4294967295|E>>>21),E=A+(R^y^w)+T[7]+4139469664&4294967295,A=R+(E<<16&4294967295|E>>>16),E=w+(A^R^y)+T[10]+3200236656&4294967295,w=A+(E<<23&4294967295|E>>>9),E=y+(w^A^R)+T[13]+681279174&4294967295,y=w+(E<<4&4294967295|E>>>28),E=R+(y^w^A)+T[0]+3936430074&4294967295,R=y+(E<<11&4294967295|E>>>21),E=A+(R^y^w)+T[3]+3572445317&4294967295,A=R+(E<<16&4294967295|E>>>16),E=w+(A^R^y)+T[6]+76029189&4294967295,w=A+(E<<23&4294967295|E>>>9),E=y+(w^A^R)+T[9]+3654602809&4294967295,y=w+(E<<4&4294967295|E>>>28),E=R+(y^w^A)+T[12]+3873151461&4294967295,R=y+(E<<11&4294967295|E>>>21),E=A+(R^y^w)+T[15]+530742520&4294967295,A=R+(E<<16&4294967295|E>>>16),E=w+(A^R^y)+T[2]+3299628645&4294967295,w=A+(E<<23&4294967295|E>>>9),E=y+(A^(w|~R))+T[0]+4096336452&4294967295,y=w+(E<<6&4294967295|E>>>26),E=R+(w^(y|~A))+T[7]+1126891415&4294967295,R=y+(E<<10&4294967295|E>>>22),E=A+(y^(R|~w))+T[14]+2878612391&4294967295,A=R+(E<<15&4294967295|E>>>17),E=w+(R^(A|~y))+T[5]+4237533241&4294967295,w=A+(E<<21&4294967295|E>>>11),E=y+(A^(w|~R))+T[12]+1700485571&4294967295,y=w+(E<<6&4294967295|E>>>26),E=R+(w^(y|~A))+T[3]+2399980690&4294967295,R=y+(E<<10&4294967295|E>>>22),E=A+(y^(R|~w))+T[10]+4293915773&4294967295,A=R+(E<<15&4294967295|E>>>17),E=w+(R^(A|~y))+T[1]+2240044497&4294967295,w=A+(E<<21&4294967295|E>>>11),E=y+(A^(w|~R))+T[8]+1873313359&4294967295,y=w+(E<<6&4294967295|E>>>26),E=R+(w^(y|~A))+T[15]+4264355552&4294967295,R=y+(E<<10&4294967295|E>>>22),E=A+(y^(R|~w))+T[6]+2734768916&4294967295,A=R+(E<<15&4294967295|E>>>17),E=w+(R^(A|~y))+T[13]+1309151649&4294967295,w=A+(E<<21&4294967295|E>>>11),E=y+(A^(w|~R))+T[4]+4149444226&4294967295,y=w+(E<<6&4294967295|E>>>26),E=R+(w^(y|~A))+T[11]+3174756917&4294967295,R=y+(E<<10&4294967295|E>>>22),E=A+(y^(R|~w))+T[2]+718787259&4294967295,A=R+(E<<15&4294967295|E>>>17),E=w+(R^(A|~y))+T[9]+3951481745&4294967295,x.g[0]=x.g[0]+y&4294967295,x.g[1]=x.g[1]+(A+(E<<21&4294967295|E>>>11))&4294967295,x.g[2]=x.g[2]+A&4294967295,x.g[3]=x.g[3]+R&4294967295}r.prototype.u=function(x,y){y===void 0&&(y=x.length);for(var w=y-this.blockSize,T=this.B,A=this.h,R=0;R<y;){if(A==0)for(;R<=w;)i(this,x,R),R+=this.blockSize;if(typeof x=="string"){for(;R<y;)if(T[A++]=x.charCodeAt(R++),A==this.blockSize){i(this,T),A=0;break}}else for(;R<y;)if(T[A++]=x[R++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=y},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var y=1;y<x.length-8;++y)x[y]=0;var w=8*this.o;for(y=x.length-8;y<x.length;++y)x[y]=w&255,w/=256;for(this.u(x),x=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)x[w++]=this.g[y]>>>T&255;return x};function s(x,y){var w=l;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=y(x)}function a(x,y){this.h=y;for(var w=[],T=!0,A=x.length-1;0<=A;A--){var R=x[A]|0;T&&R==y||(w[A]=R,T=!1)}this.g=w}var l={};function u(x){return-128<=x&&128>x?s(x,function(y){return new a([y|0],0>y?-1:0)}):new a([x|0],0>x?-1:0)}function h(x){if(isNaN(x)||!isFinite(x))return g;if(0>x)return V(h(-x));for(var y=[],w=1,T=0;x>=w;T++)y[T]=x/w|0,w*=4294967296;return new a(y,0)}function p(x,y){if(x.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(x.charAt(0)=="-")return V(p(x.substring(1),y));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=h(Math.pow(y,8)),T=g,A=0;A<x.length;A+=8){var R=Math.min(8,x.length-A),E=parseInt(x.substring(A,A+R),y);8>R?(R=h(Math.pow(y,R)),T=T.j(R).add(h(E))):(T=T.j(w),T=T.add(h(E)))}return T}var g=u(0),_=u(1),I=u(16777216);t=a.prototype,t.m=function(){if(P(this))return-V(this).m();for(var x=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);x+=(0<=T?T:4294967296+T)*y,y*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(P(this))return"-"+V(this).toString(x);for(var y=h(Math.pow(x,6)),w=this,T="";;){var A=D(w,y).g;w=k(w,A.j(y));var R=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=A,C(w))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(var y=0;y<x.g.length;y++)if(x.g[y]!=0)return!1;return!0}function P(x){return x.h==-1}t.l=function(x){return x=k(this,x),P(x)?-1:C(x)?0:1};function V(x){for(var y=x.g.length,w=[],T=0;T<y;T++)w[T]=~x.g[T];return new a(w,~x.h).add(_)}t.abs=function(){return P(this)?V(this):this},t.add=function(x){for(var y=Math.max(this.g.length,x.g.length),w=[],T=0,A=0;A<=y;A++){var R=T+(this.i(A)&65535)+(x.i(A)&65535),E=(R>>>16)+(this.i(A)>>>16)+(x.i(A)>>>16);T=E>>>16,R&=65535,E&=65535,w[A]=E<<16|R}return new a(w,w[w.length-1]&-2147483648?-1:0)};function k(x,y){return x.add(V(y))}t.j=function(x){if(C(this)||C(x))return g;if(P(this))return P(x)?V(this).j(V(x)):V(V(this).j(x));if(P(x))return V(this.j(V(x)));if(0>this.l(I)&&0>x.l(I))return h(this.m()*x.m());for(var y=this.g.length+x.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<x.g.length;A++){var R=this.i(T)>>>16,E=this.i(T)&65535,Ce=x.i(A)>>>16,rt=x.i(A)&65535;w[2*T+2*A]+=E*rt,v(w,2*T+2*A),w[2*T+2*A+1]+=R*rt,v(w,2*T+2*A+1),w[2*T+2*A+1]+=E*Ce,v(w,2*T+2*A+1),w[2*T+2*A+2]+=R*Ce,v(w,2*T+2*A+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new a(w,0)};function v(x,y){for(;(x[y]&65535)!=x[y];)x[y+1]+=x[y]>>>16,x[y]&=65535,y++}function S(x,y){this.g=x,this.h=y}function D(x,y){if(C(y))throw Error("division by zero");if(C(x))return new S(g,g);if(P(x))return y=D(V(x),y),new S(V(y.g),V(y.h));if(P(y))return y=D(x,V(y)),new S(V(y.g),y.h);if(30<x.g.length){if(P(x)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var w=_,T=y;0>=T.l(x);)w=F(w),T=F(T);var A=U(w,1),R=U(T,1);for(T=U(T,2),w=U(w,2);!C(T);){var E=R.add(T);0>=E.l(x)&&(A=A.add(w),R=E),T=U(T,1),w=U(w,1)}return y=k(x,A.j(y)),new S(A,y)}for(A=g;0<=x.l(y);){for(w=Math.max(1,Math.floor(x.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=h(w),E=R.j(y);P(E)||0<E.l(x);)w-=T,R=h(w),E=R.j(y);C(R)&&(R=_),A=A.add(R),x=k(x,E)}return new S(A,x)}t.A=function(x){return D(this,x).h},t.and=function(x){for(var y=Math.max(this.g.length,x.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&x.i(T);return new a(w,this.h&x.h)},t.or=function(x){for(var y=Math.max(this.g.length,x.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|x.i(T);return new a(w,this.h|x.h)},t.xor=function(x){for(var y=Math.max(this.g.length,x.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^x.i(T);return new a(w,this.h^x.h)};function F(x){for(var y=x.g.length+1,w=[],T=0;T<y;T++)w[T]=x.i(T)<<1|x.i(T-1)>>>31;return new a(w,x.h)}function U(x,y){var w=y>>5;y%=32;for(var T=x.g.length-w,A=[],R=0;R<T;R++)A[R]=0<y?x.i(R+w)>>>y|x.i(R+w+1)<<32-y:x.i(R+w);return new a(A,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Dy=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,lr=a}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});var Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vy,Wi,jy,Ho,dc,My,Ly,Oy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,d){return o==Array.prototype||o==Object.prototype||(o[c]=d.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ao=="object"&&Ao];for(var c=0;c<o.length;++c){var d=o[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(o,c){if(c)e:{var d=r;o=o.split(".");for(var m=0;m<o.length-1;m++){var b=o[m];if(!(b in d))break e;d=d[b]}o=o[o.length-1],m=d[o],c=c(m),c!=m&&c!=null&&e(d,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var d=0,m=!1,b={next:function(){if(!m&&d<o.length){var N=d++;return{value:c(N,o[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(o){return o||function(){return s(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function p(o,c,d){return o.call.apply(o.bind,arguments)}function g(o,c,d){if(!o)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),o.apply(c,b)}}return function(){return o.apply(c,arguments)}}function _(o,c,d){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function I(o,c){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function C(o,c){function d(){}d.prototype=c.prototype,o.aa=c.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(m,b,N){for(var B=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)B[fe-2]=arguments[fe];return c.prototype[b].apply(m,B)}}function P(o){const c=o.length;if(0<c){const d=Array(c);for(let m=0;m<c;m++)d[m]=o[m];return d}return[]}function V(o,c){for(let d=1;d<arguments.length;d++){const m=arguments[d];if(u(m)){const b=o.length||0,N=m.length||0;o.length=b+N;for(let B=0;B<N;B++)o[b+B]=m[B]}else o.push(m)}}class k{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function S(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var F=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function U(o,c,d){for(const m in o)c.call(d,o[m],m,o)}function x(o,c){for(const d in o)c.call(void 0,o[d],d,o)}function y(o){const c={};for(const d in o)c[d]=o[d];return c}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(o,c){let d,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(d in m)o[d]=m[d];for(let N=0;N<w.length;N++)d=w[N],Object.prototype.hasOwnProperty.call(m,d)&&(o[d]=m[d])}}function A(o){var c=1;o=o.split(":");const d=[];for(;0<c&&o.length;)d.push(o.shift()),c--;return o.length&&d.push(o.join(":")),d}function R(o){l.setTimeout(()=>{throw o},0)}function E(){var o=j;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class Ce{constructor(){this.h=this.g=null}add(c,d){const m=rt.get();m.set(c,d),this.h?this.h.next=m:this.g=m,this.h=m}}var rt=new k(()=>new $,o=>o.reset());class ${constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,z=!1,j=new Ce,q=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(ie)}};var ie=()=>{for(var o;o=E();){try{o.h.call(o.g)}catch(d){R(d)}var c=rt;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}z=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return o}();function it(o,c){if(ce.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(F){e:{try{D(c.nodeName);var b=!0;break e}catch{}b=!1}b||(c=null)}}else d=="mouseover"?c=o.fromElement:d=="mouseout"&&(c=o.toElement);this.relatedTarget=c,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:yt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&it.aa.h.call(this)}}C(it,ce);var yt={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Zv(o,c,d,m,b){this.listener=o,this.proxy=null,this.src=c,this.type=d,this.capture=!!m,this.ha=b,this.key=++Zt,this.da=this.fa=!1}function Ws(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function qs(o){this.src=o,this.g={},this.h=0}qs.prototype.add=function(o,c,d,m,b){var N=o.toString();o=this.g[N],o||(o=this.g[N]=[],this.h++);var B=hl(o,c,m,b);return-1<B?(c=o[B],d||(c.fa=!1)):(c=new Zv(c,this.src,N,!!m,b),c.fa=d,o.push(c)),c};function cl(o,c){var d=c.type;if(d in o.g){var m=o.g[d],b=Array.prototype.indexOf.call(m,c,void 0),N;(N=0<=b)&&Array.prototype.splice.call(m,b,1),N&&(Ws(c),o.g[d].length==0&&(delete o.g[d],o.h--))}}function hl(o,c,d,m){for(var b=0;b<o.length;++b){var N=o[b];if(!N.da&&N.listener==c&&N.capture==!!d&&N.ha==m)return b}return-1}var dl="closure_lm_"+(1e6*Math.random()|0),fl={};function sd(o,c,d,m,b){if(Array.isArray(c)){for(var N=0;N<c.length;N++)sd(o,c[N],d,m,b);return null}return d=ld(d),o&&o[vt]?o.K(c,d,h(m)?!!m.capture:!1,b):e0(o,c,d,!1,m,b)}function e0(o,c,d,m,b,N){if(!c)throw Error("Invalid event type");var B=h(b)?!!b.capture:!!b,fe=ml(o);if(fe||(o[dl]=fe=new qs(o)),d=fe.add(c,d,m,B,N),d.proxy)return d;if(m=t0(),d.proxy=m,m.src=o,m.listener=d,o.addEventListener)Re||(b=B),b===void 0&&(b=!1),o.addEventListener(c.toString(),m,b);else if(o.attachEvent)o.attachEvent(ad(c.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function t0(){function o(d){return c.call(o.src,o.listener,d)}const c=n0;return o}function od(o,c,d,m,b){if(Array.isArray(c))for(var N=0;N<c.length;N++)od(o,c[N],d,m,b);else m=h(m)?!!m.capture:!!m,d=ld(d),o&&o[vt]?(o=o.i,c=String(c).toString(),c in o.g&&(N=o.g[c],d=hl(N,d,m,b),-1<d&&(Ws(N[d]),Array.prototype.splice.call(N,d,1),N.length==0&&(delete o.g[c],o.h--)))):o&&(o=ml(o))&&(c=o.g[c.toString()],o=-1,c&&(o=hl(c,d,m,b)),(d=-1<o?c[o]:null)&&pl(d))}function pl(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[vt])cl(c.i,o);else{var d=o.type,m=o.proxy;c.removeEventListener?c.removeEventListener(d,m,o.capture):c.detachEvent?c.detachEvent(ad(d),m):c.addListener&&c.removeListener&&c.removeListener(m),(d=ml(c))?(cl(d,o),d.h==0&&(d.src=null,c[dl]=null)):Ws(o)}}}function ad(o){return o in fl?fl[o]:fl[o]="on"+o}function n0(o,c){if(o.da)o=!0;else{c=new it(c,this);var d=o.listener,m=o.ha||o.src;o.fa&&pl(o),o=d.call(m,c)}return o}function ml(o){return o=o[dl],o instanceof qs?o:null}var gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ld(o){return typeof o=="function"?o:(o[gl]||(o[gl]=function(c){return o.handleEvent(c)}),o[gl])}function Ke(){te.call(this),this.i=new qs(this),this.M=this,this.F=null}C(Ke,te),Ke.prototype[vt]=!0,Ke.prototype.removeEventListener=function(o,c,d,m){od(this,o,c,d,m)};function st(o,c){var d,m=o.F;if(m)for(d=[];m;m=m.F)d.push(m);if(o=o.M,m=c.type||c,typeof c=="string")c=new ce(c,o);else if(c instanceof ce)c.target=c.target||o;else{var b=c;c=new ce(m,o),T(c,b)}if(b=!0,d)for(var N=d.length-1;0<=N;N--){var B=c.g=d[N];b=Ks(B,m,!0,c)&&b}if(B=c.g=o,b=Ks(B,m,!0,c)&&b,b=Ks(B,m,!1,c)&&b,d)for(N=0;N<d.length;N++)B=c.g=d[N],b=Ks(B,m,!1,c)&&b}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var d=o.g[c],m=0;m<d.length;m++)Ws(d[m]);delete o.g[c],o.h--}}this.F=null},Ke.prototype.K=function(o,c,d,m){return this.i.add(String(o),c,!1,d,m)},Ke.prototype.L=function(o,c,d,m){return this.i.add(String(o),c,!0,d,m)};function Ks(o,c,d,m){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var b=!0,N=0;N<c.length;++N){var B=c[N];if(B&&!B.da&&B.capture==d){var fe=B.listener,Fe=B.ha||B.src;B.fa&&cl(o.i,B),b=fe.call(Fe,m)!==!1&&b}}return b&&!m.defaultPrevented}function ud(o,c,d){if(typeof o=="function")d&&(o=_(o,d));else if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function cd(o){o.g=ud(()=>{o.g=null,o.i&&(o.i=!1,cd(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class r0 extends te{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:cd(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(o){te.call(this),this.h=o,this.g={}}C(_i,te);var hd=[];function dd(o){U(o.g,function(c,d){this.g.hasOwnProperty(d)&&pl(c)},o),o.g={}}_i.prototype.N=function(){_i.aa.N.call(this),dd(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yl=l.JSON.stringify,i0=l.JSON.parse,s0=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function vl(){}vl.prototype.h=null;function fd(o){return o.h||(o.h=o.i())}function pd(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _l(){ce.call(this,"d")}C(_l,ce);function xl(){ce.call(this,"c")}C(xl,ce);var Gn={},md=null;function Qs(){return md=md||new Ke}Gn.La="serverreachability";function gd(o){ce.call(this,Gn.La,o)}C(gd,ce);function wi(o){const c=Qs();st(c,new gd(c))}Gn.STAT_EVENT="statevent";function yd(o,c){ce.call(this,Gn.STAT_EVENT,o),this.stat=c}C(yd,ce);function ot(o){const c=Qs();st(c,new yd(c,o))}Gn.Ma="timingevent";function vd(o,c){ce.call(this,Gn.Ma,o),this.size=c}C(vd,ce);function Ei(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Ti(){this.g=!0}Ti.prototype.xa=function(){this.g=!1};function o0(o,c,d,m,b,N){o.info(function(){if(o.g)if(N)for(var B="",fe=N.split("&"),Fe=0;Fe<fe.length;Fe++){var le=fe[Fe].split("=");if(1<le.length){var Qe=le[0];le=le[1];var Ge=Qe.split("_");B=2<=Ge.length&&Ge[1]=="type"?B+(Qe+"="+le+"&"):B+(Qe+"=redacted&")}}else B=null;else B=N;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+c+`
`+d+`
`+B})}function a0(o,c,d,m,b,N,B){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+c+`
`+d+`
`+N+" "+B})}function Er(o,c,d,m){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+u0(o,d)+(m?" "+m:"")})}function l0(o,c){o.info(function(){return"TIMEOUT: "+c})}Ti.prototype.info=function(){};function u0(o,c){if(!o.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var m=d[o];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var N=b[0];if(N!="noop"&&N!="stop"&&N!="close")for(var B=1;B<b.length;B++)b[B]=""}}}}return yl(d)}catch{return c}}var Gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_d={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wl;function Xs(){}C(Xs,vl),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},wl=new Xs;function yn(o,c,d,m){this.j=o,this.i=c,this.l=d,this.R=m||1,this.U=new _i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xd}function xd(){this.i=null,this.g="",this.h=!1}var wd={},El={};function Tl(o,c,d){o.L=1,o.v=eo(en(c)),o.m=d,o.P=!0,Ed(o,null)}function Ed(o,c){o.F=Date.now(),Ys(o),o.A=en(o.v);var d=o.A,m=o.R;Array.isArray(m)||(m=[String(m)]),Md(d.i,"t",m),o.C=0,d=o.j.J,o.h=new xd,o.g=ef(o.j,d?c:null,!o.m),0<o.O&&(o.M=new r0(_(o.Y,o,o.g),o.O)),c=o.U,d=o.g,m=o.ca;var b="readystatechange";Array.isArray(b)||(b&&(hd[0]=b.toString()),b=hd);for(var N=0;N<b.length;N++){var B=sd(d,b[N],m||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),wi(),o0(o.i,o.u,o.A,o.l,o.R,o.m)}yn.prototype.ca=function(o){o=o.target;const c=this.M;c&&tn(o)==3?c.j():this.Y(o)},yn.prototype.Y=function(o){try{if(o==this.g)e:{const Ge=tn(this.g);var c=this.g.Ba();const Sr=this.g.Z();if(!(3>Ge)&&(Ge!=3||this.g&&(this.h.h||this.g.oa()||$d(this.g)))){this.J||Ge!=4||c==7||(c==8||0>=Sr?wi(3):wi(2)),kl(this);var d=this.g.Z();this.X=d;t:if(Td(this)){var m=$d(this.g);o="";var b=m.length,N=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),ki(this);var B="";break t}this.h.i=new l.TextDecoder}for(c=0;c<b;c++)this.h.h=!0,o+=this.h.i.decode(m[c],{stream:!(N&&c==b-1)});m.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=d==200,a0(this.i,this.u,this.A,this.l,this.R,Ge,d),this.o){if(this.T&&!this.K){t:{if(this.g){var fe,Fe=this.g;if((fe=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(fe)){var le=fe;break t}}le=null}if(d=le)Er(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sl(this,d);else{this.o=!1,this.s=3,ot(12),Xn(this),ki(this);break e}}if(this.P){d=!0;let jt;for(;!this.J&&this.C<B.length;)if(jt=c0(this,B),jt==El){Ge==4&&(this.s=4,ot(14),d=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==wd){this.s=4,ot(15),Er(this.i,this.l,B,"[Invalid Chunk]"),d=!1;break}else Er(this.i,this.l,jt,null),Sl(this,jt);if(Td(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||B.length!=0||this.h.h||(this.s=1,ot(16),d=!1),this.o=this.o&&d,!d)Er(this.i,this.l,B,"[Invalid Chunked Response]"),Xn(this),ki(this);else if(0<B.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Pl(Qe),Qe.M=!0,ot(11))}}else Er(this.i,this.l,B,null),Sl(this,B);Ge==4&&Xn(this),this.o&&!this.J&&(Ge==4?Xd(this.j,this):(this.o=!1,Ys(this)))}else A0(this.g),d==400&&0<B.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Xn(this),ki(this)}}}catch{}finally{}};function Td(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function c0(o,c){var d=o.C,m=c.indexOf(`
`,d);return m==-1?El:(d=Number(c.substring(d,m)),isNaN(d)?wd:(m+=1,m+d>c.length?El:(c=c.slice(m,m+d),o.C=m+d,c)))}yn.prototype.cancel=function(){this.J=!0,Xn(this)};function Ys(o){o.S=Date.now()+o.I,kd(o,o.I)}function kd(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ei(_(o.ba,o),c)}function kl(o){o.B&&(l.clearTimeout(o.B),o.B=null)}yn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(l0(this.i,this.A),this.L!=2&&(wi(),ot(17)),Xn(this),this.s=2,ki(this)):kd(this,this.S-o)};function ki(o){o.j.G==0||o.J||Xd(o.j,o)}function Xn(o){kl(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,dd(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Sl(o,c){try{var d=o.j;if(d.G!=0&&(d.g==o||Il(d.h,o))){if(!o.K&&Il(d.h,o)&&d.G==3){try{var m=d.Da.g.parse(c)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)oo(d),io(d);else break e;bl(d),ot(18)}}else d.za=b[1],0<d.za-d.T&&37500>b[2]&&d.F&&d.v==0&&!d.C&&(d.C=Ei(_(d.Za,d),6e3));if(1>=Ad(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Jn(d,11)}else if((o.K||d.g==o)&&oo(d),!v(c))for(b=d.Da.g.parse(c),c=0;c<b.length;c++){let le=b[c];if(d.T=le[0],le=le[1],d.G==2)if(le[0]=="c"){d.K=le[1],d.ia=le[2];const Qe=le[3];Qe!=null&&(d.la=Qe,d.j.info("VER="+d.la));const Ge=le[4];Ge!=null&&(d.Aa=Ge,d.j.info("SVER="+d.Aa));const Sr=le[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(m=1.5*Sr,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;const jt=o.g;if(jt){const lo=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lo){var N=m.h;N.g||lo.indexOf("spdy")==-1&&lo.indexOf("quic")==-1&&lo.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Al(N,N.h),N.h=null))}if(m.D){const Nl=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(m.ya=Nl,me(m.I,m.D,Nl))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var B=o;if(m.qa=Zd(m,m.J?m.ia:null,m.W),B.K){Cd(m.h,B);var fe=B,Fe=m.L;Fe&&(fe.I=Fe),fe.B&&(kl(fe),Ys(fe)),m.g=B}else Qd(m);0<d.i.length&&so(d)}else le[0]!="stop"&&le[0]!="close"||Jn(d,7);else d.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Jn(d,7):Rl(d):le[0]!="noop"&&d.l&&d.l.ta(le),d.v=0)}}wi(4)}catch{}}var h0=class{constructor(o,c){this.g=o,this.map=c}};function Sd(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Id(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ad(o){return o.h?1:o.g?o.g.size:0}function Il(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Al(o,c){o.g?o.g.add(c):o.h=c}function Cd(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Sd.prototype.cancel=function(){if(this.i=Rd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Rd(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const d of o.g.values())c=c.concat(d.D);return c}return P(o.i)}function d0(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],d=o.length,m=0;m<d;m++)c.push(o[m]);return c}c=[],d=0;for(m in o)c[d++]=o[m];return c}function f0(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var d=0;d<o;d++)c.push(d);return c}c=[],d=0;for(const m in o)c[d++]=m;return c}}}function bd(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var d=f0(o),m=d0(o),b=m.length,N=0;N<b;N++)c.call(void 0,m[N],d&&d[N],o)}var Pd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function p0(o,c){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var m=o[d].indexOf("="),b=null;if(0<=m){var N=o[d].substring(0,m);b=o[d].substring(m+1)}else N=o[d];c(N,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Yn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Yn){this.h=o.h,Js(this,o.j),this.o=o.o,this.g=o.g,Zs(this,o.s),this.l=o.l;var c=o.i,d=new Ai;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),Nd(this,d),this.m=o.m}else o&&(c=String(o).match(Pd))?(this.h=!1,Js(this,c[1]||"",!0),this.o=Si(c[2]||""),this.g=Si(c[3]||"",!0),Zs(this,c[4]),this.l=Si(c[5]||"",!0),Nd(this,c[6]||"",!0),this.m=Si(c[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}Yn.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Ii(c,Dd,!0),":");var d=this.g;return(d||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Ii(c,Dd,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Ii(d,d.charAt(0)=="/"?y0:g0,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Ii(d,_0)),o.join("")};function en(o){return new Yn(o)}function Js(o,c,d){o.j=d?Si(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Zs(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Nd(o,c,d){c instanceof Ai?(o.i=c,x0(o.i,o.h)):(d||(c=Ii(c,v0)),o.i=new Ai(c,o.h))}function me(o,c,d){o.i.set(c,d)}function eo(o){return me(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Si(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ii(o,c,d){return typeof o=="string"?(o=encodeURI(o).replace(c,m0),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function m0(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Dd=/[#\/\?@]/g,g0=/[#\?:]/g,y0=/[#\?]/g,v0=/[#\?@]/g,_0=/#/g;function Ai(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function vn(o){o.g||(o.g=new Map,o.h=0,o.i&&p0(o.i,function(c,d){o.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=Ai.prototype,t.add=function(o,c){vn(this),this.i=null,o=Tr(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(c),this.h+=1,this};function Vd(o,c){vn(o),c=Tr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function jd(o,c){return vn(o),c=Tr(o,c),o.g.has(c)}t.forEach=function(o,c){vn(this),this.g.forEach(function(d,m){d.forEach(function(b){o.call(c,b,m,this)},this)},this)},t.na=function(){vn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let m=0;m<c.length;m++){const b=o[m];for(let N=0;N<b.length;N++)d.push(c[m])}return d},t.V=function(o){vn(this);let c=[];if(typeof o=="string")jd(this,o)&&(c=c.concat(this.g.get(Tr(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)c=c.concat(o[d])}return c},t.set=function(o,c){return vn(this),this.i=null,o=Tr(this,o),jd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Md(o,c,d){Vd(o,c),0<d.length&&(o.i=null,o.g.set(Tr(o,c),P(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var m=c[d];const N=encodeURIComponent(String(m)),B=this.V(m);for(m=0;m<B.length;m++){var b=N;B[m]!==""&&(b+="="+encodeURIComponent(String(B[m]))),o.push(b)}}return this.i=o.join("&")};function Tr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function x0(o,c){c&&!o.j&&(vn(o),o.i=null,o.g.forEach(function(d,m){var b=m.toLowerCase();m!=b&&(Vd(this,m),Md(this,b,d))},o)),o.j=c}function w0(o,c){const d=new Ti;if(l.Image){const m=new Image;m.onload=I(_n,d,"TestLoadImage: loaded",!0,c,m),m.onerror=I(_n,d,"TestLoadImage: error",!1,c,m),m.onabort=I(_n,d,"TestLoadImage: abort",!1,c,m),m.ontimeout=I(_n,d,"TestLoadImage: timeout",!1,c,m),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else c(!1)}function E0(o,c){const d=new Ti,m=new AbortController,b=setTimeout(()=>{m.abort(),_n(d,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:m.signal}).then(N=>{clearTimeout(b),N.ok?_n(d,"TestPingServer: ok",!0,c):_n(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(b),_n(d,"TestPingServer: error",!1,c)})}function _n(o,c,d,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(d)}catch{}}function T0(){this.g=new s0}function k0(o,c,d){const m=d||"";try{bd(o,function(b,N){let B=b;h(b)&&(B=yl(b)),c.push(m+N+"="+encodeURIComponent(B))})}catch(b){throw c.push(m+"type="+encodeURIComponent("_badmap")),b}}function to(o){this.l=o.Ub||null,this.j=o.eb||!1}C(to,vl),to.prototype.g=function(){return new no(this.l,this.j)},to.prototype.i=function(o){return function(){return o}}({});function no(o,c){Ke.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(no,Ke),t=no.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,Ri(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ld(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ld(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Ci(this):Ri(this),this.readyState==3&&Ld(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Ci(this))},t.Qa=function(o){this.g&&(this.response=o,Ci(this))},t.ga=function(){this.g&&Ci(this)};function Ci(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ri(o)}t.setRequestHeader=function(o,c){this.u.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=c.next();return o.join(`\r
`)};function Ri(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Od(o){let c="";return U(o,function(d,m){c+=m,c+=":",c+=d,c+=`\r
`}),c}function Cl(o,c,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=Od(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):me(o,c,d))}function ke(o){Ke.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ke,Ke);var S0=/^https?$/i,I0=["POST","PUT"];t=ke.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,c,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wl.g(),this.v=this.o?fd(this.o):fd(wl),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(N){Fd(this,N);return}if(o=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)d.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const N of m.keys())d.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(N=>N.toLowerCase()=="content-type"),b=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(I0,c,void 0))||m||b||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,B]of d)this.g.setRequestHeader(N,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bd(this),this.u=!0,this.g.send(o),this.u=!1}catch(N){Fd(this,N)}};function Fd(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,zd(o),ro(o)}function zd(o){o.A||(o.A=!0,st(o,"complete"),st(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,st(this,"complete"),st(this,"abort"),ro(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ro(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ud(this):this.bb())},t.bb=function(){Ud(this)};function Ud(o){if(o.h&&typeof a<"u"&&(!o.v[1]||tn(o)!=4||o.Z()!=2)){if(o.u&&tn(o)==4)ud(o.Ea,0,o);else if(st(o,"readystatechange"),tn(o)==4){o.h=!1;try{const B=o.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var m;if(m=B===0){var b=String(o.D).match(Pd)[1]||null;!b&&l.self&&l.self.location&&(b=l.self.location.protocol.slice(0,-1)),m=!S0.test(b?b.toLowerCase():"")}d=m}if(d)st(o,"complete"),st(o,"success");else{o.m=6;try{var N=2<tn(o)?o.g.statusText:""}catch{N=""}o.l=N+" ["+o.Z()+"]",zd(o)}}finally{ro(o)}}}}function ro(o,c){if(o.g){Bd(o);const d=o.g,m=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||st(o,"ready");try{d.onreadystatechange=m}catch{}}}function Bd(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function tn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),i0(c)}};function $d(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function A0(o){const c={};o=(o.g&&2<=tn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(v(o[m]))continue;var d=A(o[m]);const b=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const N=c[b]||[];c[b]=N,N.push(d)}x(c,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(o,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||c}function Hd(o){this.Aa=0,this.i=[],this.j=new Ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bi("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bi("baseRetryDelayMs",5e3,o),this.cb=bi("retryDelaySeedMs",1e4,o),this.Wa=bi("forwardChannelMaxRetries",2,o),this.wa=bi("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Sd(o&&o.concurrentRequestLimit),this.Da=new T0,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hd.prototype,t.la=8,t.G=1,t.connect=function(o,c,d,m){ot(0),this.W=o,this.H=c||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=Zd(this,null,this.W),so(this)};function Rl(o){if(Wd(o),o.G==3){var c=o.U++,d=en(o.I);if(me(d,"SID",o.K),me(d,"RID",c),me(d,"TYPE","terminate"),Pi(o,d),c=new yn(o,o.j,c),c.L=2,c.v=eo(en(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=ef(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Ys(c)}Jd(o)}function io(o){o.g&&(Pl(o),o.g.cancel(),o.g=null)}function Wd(o){io(o),o.u&&(l.clearTimeout(o.u),o.u=null),oo(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function so(o){if(!Id(o.h)&&!o.s){o.s=!0;var c=o.Ga;Z||q(),z||(Z(),z=!0),j.add(c,o),o.B=0}}function C0(o,c){return Ad(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ei(_(o.Ga,o,c),Yd(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const b=new yn(this,this.j,o);let N=this.o;if(this.S&&(N?(N=y(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(b.H=N,N=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(c+=m,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Kd(this,b,c),d=en(this.I),me(d,"RID",o),me(d,"CVER",22),this.D&&me(d,"X-HTTP-Session-Id",this.D),Pi(this,d),N&&(this.O?c="headers="+encodeURIComponent(String(Od(N)))+"&"+c:this.m&&Cl(d,this.m,N)),Al(this.h,b),this.Ua&&me(d,"TYPE","init"),this.P?(me(d,"$req",c),me(d,"SID","null"),b.T=!0,Tl(b,d,null)):Tl(b,d,c),this.G=2}}else this.G==3&&(o?qd(this,o):this.i.length==0||Id(this.h)||qd(this))};function qd(o,c){var d;c?d=c.l:d=o.U++;const m=en(o.I);me(m,"SID",o.K),me(m,"RID",d),me(m,"AID",o.T),Pi(o,m),o.m&&o.o&&Cl(m,o.m,o.o),d=new yn(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Kd(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Al(o.h,d),Tl(d,m,c)}function Pi(o,c){o.H&&U(o.H,function(d,m){me(c,m,d)}),o.l&&bd({},function(d,m){me(c,m,d)})}function Kd(o,c,d){d=Math.min(o.i.length,d);var m=o.l?_(o.l.Na,o.l,o):null;e:{var b=o.i;let N=-1;for(;;){const B=["count="+d];N==-1?0<d?(N=b[0].g,B.push("ofs="+N)):N=0:B.push("ofs="+N);let fe=!0;for(let Fe=0;Fe<d;Fe++){let le=b[Fe].g;const Qe=b[Fe].map;if(le-=N,0>le)N=Math.max(0,b[Fe].g-100),fe=!1;else try{k0(Qe,B,"req"+le+"_")}catch{m&&m(Qe)}}if(fe){m=B.join("&");break e}}}return o=o.i.splice(0,d),c.D=o,m}function Qd(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Z||q(),z||(Z(),z=!0),j.add(c,o),o.v=0}}function bl(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ei(_(o.Fa,o),Yd(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Gd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ei(_(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),io(this),Gd(this))};function Pl(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Gd(o){o.g=new yn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=en(o.qa);me(c,"RID","rpc"),me(c,"SID",o.K),me(c,"AID",o.T),me(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&me(c,"TO",o.ja),me(c,"TYPE","xmlhttp"),Pi(o,c),o.m&&o.o&&Cl(c,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=eo(en(c)),d.m=null,d.P=!0,Ed(d,o)}t.Za=function(){this.C!=null&&(this.C=null,io(this),bl(this),ot(19))};function oo(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Xd(o,c){var d=null;if(o.g==c){oo(o),Pl(o),o.g=null;var m=2}else if(Il(o.h,c))d=c.D,Cd(o.h,c),m=1;else return;if(o.G!=0){if(c.o)if(m==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var b=o.B;m=Qs(),st(m,new vd(m,d)),so(o)}else Qd(o);else if(b=c.s,b==3||b==0&&0<c.X||!(m==1&&C0(o,c)||m==2&&bl(o)))switch(d&&0<d.length&&(c=o.h,c.i=c.i.concat(d)),b){case 1:Jn(o,5);break;case 4:Jn(o,10);break;case 3:Jn(o,6);break;default:Jn(o,2)}}}function Yd(o,c){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*c}function Jn(o,c){if(o.j.info("Error code "+c),c==2){var d=_(o.fb,o),m=o.Xa;const b=!m;m=new Yn(m||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Js(m,"https"),eo(m),b?w0(m.toString(),d):E0(m.toString(),d)}else ot(2);o.G=0,o.l&&o.l.sa(c),Jd(o),Wd(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Jd(o){if(o.G=0,o.ka=[],o.l){const c=Rd(o.h);(c.length!=0||o.i.length!=0)&&(V(o.ka,c),V(o.ka,o.i),o.h.i.length=0,P(o.i),o.i.length=0),o.l.ra()}}function Zd(o,c,d){var m=d instanceof Yn?en(d):new Yn(d);if(m.g!="")c&&(m.g=c+"."+m.g),Zs(m,m.s);else{var b=l.location;m=b.protocol,c=c?c+"."+b.hostname:b.hostname,b=+b.port;var N=new Yn(null);m&&Js(N,m),c&&(N.g=c),b&&Zs(N,b),d&&(N.l=d),m=N}return d=o.D,c=o.ya,d&&c&&me(m,d,c),me(m,"VER",o.la),Pi(o,m),m}function ef(o,c,d){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new ke(new to({eb:d})):new ke(o.pa),c.Ha(o.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tf(){}t=tf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ao(){}ao.prototype.g=function(o,c){return new _t(o,c)};function _t(o,c){Ke.call(this),this.g=new Hd(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new kr(this)}C(_t,Ke),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){Rl(this.g)},_t.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=yl(o),o=d);c.i.push(new h0(c.Ya++,o)),c.G==3&&so(c)},_t.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,_t.aa.N.call(this)};function nf(o){_l.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const d in c){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}C(nf,_l);function rf(){xl.call(this),this.status=1}C(rf,xl);function kr(o){this.g=o}C(kr,tf),kr.prototype.ua=function(){st(this.g,"a")},kr.prototype.ta=function(o){st(this.g,new nf(o))},kr.prototype.sa=function(o){st(this.g,new rf)},kr.prototype.ra=function(){st(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,Oy=function(){return new ao},Ly=function(){return Qs()},My=Gn,dc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,Ho=Gs,_d.COMPLETE="complete",jy=_d,pd.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Wi=pd,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,Vy=ke}).apply(typeof Ao<"u"?Ao:typeof self<"u"?self:typeof window<"u"?window:{});const Sp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Ay("@firebase/firestore");function zi(){return mr.logLevel}function W(t,...e){if(mr.logLevel<=oe.DEBUG){const n=e.map(kh);mr.debug(`Firestore (${gi}): ${t}`,...n)}}function pn(t,...e){if(mr.logLevel<=oe.ERROR){const n=e.map(kh);mr.error(`Firestore (${gi}): ${t}`,...n)}}function ii(t,...e){if(mr.logLevel<=oe.WARN){const n=e.map(kh);mr.warn(`Firestore (${gi}): ${t}`,...n)}}function kh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${gi}) INTERNAL ASSERTION FAILED: `+t;throw pn(e),new Error(e)}function de(t,e){t||G()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class Mw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lw{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new Fy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new Ze(e)}}class Ow{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fw{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ow(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){de(this.o===void 0);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.R=n.token,new zw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Bw(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function si(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new je(0,0))}static max(){return new Y(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends As{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const $w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends As{construct(e,n,r){return new Be(e,n,r)}static isValidIdentifier(e){return $w.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new K(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new K(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(_e.fromString(e))}static fromName(e){return new Q(_e.fromString(e).popFirst(5))}static empty(){return new Q(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new _e(e.slice()))}}function Hw(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new Bn(i,Q.empty(),e)}function Ww(t){return new Bn(t.readTime,t.key,-1)}class Bn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bn(Y.min(),Q.empty(),-1)}static max(){return new Bn(Y.max(),Q.empty(),-1)}}function qw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==Kw)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(p=>{a[h]=p,++l,l===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Gw(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sh.oe=-1;function Ga(t){return t==null}function Ea(t){return t===0&&1/t==-1/0}function Xw(t){return typeof t=="number"&&Number.isInteger(t)&&!Ea(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Uy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){this.comparator=e,this.root=n||Ue.EMPTY}insert(e,n){return new Te(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Co(this.root,e,this.comparator,!1)}getReverseIterator(){return new Co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Co(this.root,e,this.comparator,!0)}}class Co{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=i??Ue.EMPTY,this.right=s??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ue(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ue.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ue(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ap(this.data.getIterator())}getIteratorFrom(e){return new Ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class Ap{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Tt([])}unionWith(e){let n=new He(Be.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return si(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new By("Invalid base64 string: "+s):s}}(e);return new qe(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new qe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const Yw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $n(t){if(de(!!t),typeof t=="string"){let e=0;const n=Yw.exec(t);if(de(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ie(t.seconds),nanos:Ie(t.nanos)}}function Ie(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gr(t){return typeof t=="string"?qe.fromBase64String(t):qe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ah(t){const e=t.mapValue.fields.__previous_value__;return Ih(e)?Ah(e):e}function Cs(t){const e=$n(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n,r,i,s,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Rs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro={mapValue:{}};function yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ih(t)?4:eE(t)?9007199254740991:Zw(t)?10:11:G()}function Yt(t,e){if(t===e)return!0;const n=yr(t);if(n!==yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cs(t).isEqual(Cs(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=$n(i.timestampValue),l=$n(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return gr(i.bytesValue).isEqual(gr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ie(i.geoPointValue.latitude)===Ie(s.geoPointValue.latitude)&&Ie(i.geoPointValue.longitude)===Ie(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ie(i.integerValue)===Ie(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ie(i.doubleValue),l=Ie(s.doubleValue);return a===l?Ea(a)===Ea(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return si(t.arrayValue.values||[],e.arrayValue.values||[],Yt);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Ip(a)!==Ip(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Yt(a[u],l[u])))return!1;return!0}(t,e);default:return G()}}function bs(t,e){return(t.values||[]).find(n=>Yt(n,e))!==void 0}function oi(t,e){if(t===e)return 0;const n=yr(t),r=yr(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ie(s.integerValue||s.doubleValue),u=Ie(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Cp(t.timestampValue,e.timestampValue);case 4:return Cp(Cs(t),Cs(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,a){const l=gr(s),u=gr(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const p=ue(l[h],u[h]);if(p!==0)return p}return ue(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=ue(Ie(s.latitude),Ie(a.latitude));return l!==0?l:ue(Ie(s.longitude),Ie(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rp(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,h,p;const g=s.fields||{},_=a.fields||{},I=(l=g.value)===null||l===void 0?void 0:l.arrayValue,C=(u=_.value)===null||u===void 0?void 0:u.arrayValue,P=ue(((h=I==null?void 0:I.values)===null||h===void 0?void 0:h.length)||0,((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:Rp(I,C)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ro.mapValue&&a===Ro.mapValue)return 0;if(s===Ro.mapValue)return 1;if(a===Ro.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const _=ue(u[g],p[g]);if(_!==0)return _;const I=oi(l[u[g]],h[p[g]]);if(I!==0)return I}return ue(u.length,p.length)}(t.mapValue,e.mapValue);default:throw G()}}function Cp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=$n(t),r=$n(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function Rp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=oi(n[i],r[i]);if(s)return s}return ue(n.length,r.length)}function ai(t){return fc(t)}function fc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$n(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=fc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${fc(n.fields[a])}`;return i+"}"}(t.mapValue):G()}function pc(t){return!!t&&"integerValue"in t}function Ch(t){return!!t&&"arrayValue"in t}function bp(t){return!!t&&"nullValue"in t}function Pp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wo(t){return!!t&&"mapValue"in t}function Zw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function is(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=is(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=is(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.value=e}static empty(){return new dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=is(n)}setAll(e){let n=Be.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=is(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dt(is(this.value))}}function $y(t){const e=[];return xr(t.fields,(n,r)=>{const i=new Be([n]);if(Wo(r)){const s=$y(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Tt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new tt(e,0,Y.min(),Y.min(),Y.min(),dt.empty(),0)}static newFoundDocument(e,n,r,i){return new tt(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new tt(e,2,n,Y.min(),Y.min(),dt.empty(),0)}static newUnknownDocument(e,n){return new tt(e,3,n,Y.min(),Y.min(),dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.position=e,this.inclusive=n}}function Np(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(a.referenceValue),n.key):r=oi(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n="asc"){this.field=e,this.dir=n}}function tE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{}class De extends Hy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rE(e,n,r):n==="array-contains"?new oE(e,r):n==="in"?new aE(e,r):n==="not-in"?new lE(e,r):n==="array-contains-any"?new uE(e,r):new De(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iE(e,r):new sE(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oi(n,this.value)):n!==null&&yr(this.value)===yr(n)&&this.matchesComparison(oi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jt extends Hy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Jt(e,n)}matches(e){return Wy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Wy(t){return t.op==="and"}function qy(t){return nE(t)&&Wy(t)}function nE(t){for(const e of t.filters)if(e instanceof Jt)return!1;return!0}function mc(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+ai(t.value);if(qy(t))return t.filters.map(e=>mc(e)).join(",");{const e=t.filters.map(n=>mc(n)).join(",");return`${t.op}(${e})`}}function Ky(t,e){return t instanceof De?function(r,i){return i instanceof De&&r.op===i.op&&r.field.isEqual(i.field)&&Yt(r.value,i.value)}(t,e):t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&Ky(a,i.filters[l]),!0):!1}(t,e):void G()}function Qy(t){return t instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${ai(n.value)}`}(t):t instanceof Jt?function(n){return n.op.toString()+" {"+n.getFilters().map(Qy).join(" ,")+"}"}(t):"Filter"}class rE extends De{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class iE extends De{constructor(e,n){super(e,"in",n),this.keys=Gy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sE extends De{constructor(e,n){super(e,"not-in",n),this.keys=Gy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Gy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class oE extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ch(n)&&bs(n.arrayValue,this.value)}}class aE extends De{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bs(this.value.arrayValue,n)}}class lE extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if(bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bs(this.value.arrayValue,n)}}class uE extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ch(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.ue=null}}function Vp(t,e=null,n=[],r=[],i=null,s=null,a=null){return new cE(t,e,n,r,i,s,a)}function Rh(t){const e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ga(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ai(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ai(r)).join(",")),e.ue=n}return e.ue}function bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ky(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dp(t.startAt,e.startAt)&&Dp(t.endAt,e.endAt)}function gc(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hE(t,e,n,r,i,s,a,l){return new Xa(t,e,n,r,i,s,a,l)}function Ph(t){return new Xa(t)}function jp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dE(t){return t.collectionGroup!==null}function ss(t){const e=J(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new He(Be.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ka(s,r))}),n.has(Be.keyField().canonicalString())||e.ce.push(new ka(Be.keyField(),r))}return e.ce}function Gt(t){const e=J(t);return e.le||(e.le=fE(e,ss(t))),e.le}function fE(t,e){if(t.limitType==="F")return Vp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ka(i.field,s)});const n=t.endAt?new Ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ta(t.startAt.position,t.startAt.inclusive):null;return Vp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yc(t,e,n){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ya(t,e){return bh(Gt(t),Gt(e))&&t.limitType===e.limitType}function Xy(t){return`${Rh(Gt(t))}|lt:${t.limitType}`}function Ar(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Qy(i)).join(", ")}]`),Ga(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ai(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ai(i)).join(",")),`Target(${r})`}(Gt(t))}; limitType=${t.limitType})`}function Ja(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ss(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const h=Np(a,l,u);return a.inclusive?h<=0:h<0}(r.startAt,ss(r),i)||r.endAt&&!function(a,l,u){const h=Np(a,l,u);return a.inclusive?h>=0:h>0}(r.endAt,ss(r),i))}(t,e)}function pE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Yy(t){return(e,n)=>{let r=!1;for(const i of ss(t)){const s=mE(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mE(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?oi(u,h):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Uy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Te(Q.comparator);function mn(){return gE}const Jy=new Te(Q.comparator);function qi(...t){let e=Jy;for(const n of t)e=e.insert(n.key,n);return e}function Zy(t){let e=Jy;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function sr(){return os()}function ev(){return os()}function os(){return new yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const yE=new Te(Q.comparator),vE=new He(Q.comparator);function re(...t){let e=vE;for(const n of t)e=e.add(n);return e}const _E=new He(ue);function xE(){return _E}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ea(e)?"-0":e}}function tv(t){return{integerValue:""+t}}function wE(t,e){return Xw(e)?tv(e):Nh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this._=void 0}}function EE(t,e,n){return t instanceof Sa?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ih(s)&&(s=Ah(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Ps?rv(t,e):t instanceof Ns?iv(t,e):function(i,s){const a=nv(i,s),l=Mp(a)+Mp(i.Pe);return pc(a)&&pc(i.Pe)?tv(l):Nh(i.serializer,l)}(t,e)}function TE(t,e,n){return t instanceof Ps?rv(t,e):t instanceof Ns?iv(t,e):n}function nv(t,e){return t instanceof Ia?function(r){return pc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Sa extends Za{}class Ps extends Za{constructor(e){super(),this.elements=e}}function rv(t,e){const n=sv(e);for(const r of t.elements)n.some(i=>Yt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ns extends Za{constructor(e){super(),this.elements=e}}function iv(t,e){let n=sv(e);for(const r of t.elements)n=n.filter(i=>!Yt(i,r));return{arrayValue:{values:n}}}class Ia extends Za{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Mp(t){return Ie(t.integerValue||t.doubleValue)}function sv(t){return Ch(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kE(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ps&&i instanceof Ps||r instanceof Ns&&i instanceof Ns?si(r.elements,i.elements,Yt):r instanceof Ia&&i instanceof Ia?Yt(r.Pe,i.Pe):r instanceof Sa&&i instanceof Sa}(t.transform,e.transform)}class SE{constructor(e,n){this.version=e,this.transformResults=n}}class Bt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bt}static exists(e){return new Bt(void 0,e)}static updateTime(e){return new Bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class el{}function ov(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dh(t.key,Bt.none()):new Us(t.key,t.data,Bt.none());{const n=t.data,r=dt.empty();let i=new He(Be.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Qn(t.key,r,new Tt(i.toArray()),Bt.none())}}function IE(t,e,n){t instanceof Us?function(i,s,a){const l=i.value.clone(),u=Op(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Qn?function(i,s,a){if(!qo(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Op(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(av(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function as(t,e,n,r){return t instanceof Us?function(s,a,l,u){if(!qo(s.precondition,a))return l;const h=s.value.clone(),p=Fp(s.fieldTransforms,u,a);return h.setAll(p),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qn?function(s,a,l,u){if(!qo(s.precondition,a))return l;const h=Fp(s.fieldTransforms,u,a),p=a.data;return p.setAll(av(s)),p.setAll(h),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,l){return qo(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function AE(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=nv(r.transform,i||null);s!=null&&(n===null&&(n=dt.empty()),n.set(r.field,s))}return n||null}function Lp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&si(r,i,(s,a)=>kE(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Us extends el{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qn extends el{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function av(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Op(t,e,n){const r=new Map;de(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,TE(a,l,n[i]))}return r}function Fp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,EE(s,a,e))}return r}class Dh extends el{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CE extends el{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IE(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=as(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=as(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ev();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=ov(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&si(this.mutations,e.mutations,(n,r)=>Lp(n,r))&&si(this.baseMutations,e.baseMutations,(n,r)=>Lp(n,r))}}class Vh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length);let i=function(){return yE}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Vh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,se;function NE(t){switch(t){default:return G();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function lv(t){if(t===void 0)return pn("GRPC error has no .code"),L.UNKNOWN;switch(t){case be.OK:return L.OK;case be.CANCELLED:return L.CANCELLED;case be.UNKNOWN:return L.UNKNOWN;case be.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case be.INTERNAL:return L.INTERNAL;case be.UNAVAILABLE:return L.UNAVAILABLE;case be.UNAUTHENTICATED:return L.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case be.NOT_FOUND:return L.NOT_FOUND;case be.ALREADY_EXISTS:return L.ALREADY_EXISTS;case be.PERMISSION_DENIED:return L.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case be.ABORTED:return L.ABORTED;case be.OUT_OF_RANGE:return L.OUT_OF_RANGE;case be.UNIMPLEMENTED:return L.UNIMPLEMENTED;case be.DATA_LOSS:return L.DATA_LOSS;default:return G()}}(se=be||(be={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new lr([4294967295,4294967295],0);function zp(t){const e=DE().encode(t),n=new Dy;return n.update(e),new Uint8Array(n.digest())}function Up(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new lr([n,r],0),new lr([i,s],0)]}class jh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ki(`Invalid padding: ${n}`);if(r<0)throw new Ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ki(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=lr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(lr.fromNumber(r)));return i.compare(VE)===1&&(i=new lr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=zp(e),[r,i]=Up(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new jh(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=zp(e),[r,i]=Up(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ki extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bs.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tl(Y.min(),i,new Te(ue),mn(),re())}}class Bs{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bs(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class uv{constructor(e,n){this.targetId=e,this.me=n}}class cv{constructor(e,n,r=qe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Bp{constructor(){this.fe=0,this.ge=Hp(),this.pe=qe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=re(),n=re(),r=re();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Bs(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Hp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,de(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jE{constructor(e){this.Le=e,this.Be=new Map,this.ke=mn(),this.qe=$p(),this.Qe=new Te(ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(gc(s))if(r===0){const a=new Q(s.path);this.Ue(n,a,tt.newNoDocument(a,Y.min()))}else de(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),u=l?this.Xe(l,e,a):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=gr(r).toUint8Array()}catch(u){if(u instanceof By)return ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new jh(a,i,s)}catch(u){return ii(u instanceof Ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const l=this.Je(a);if(l){if(s.current&&gc(l.target)){const u=new Q(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,tt.newNoDocument(u,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=re();this.qe.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new tl(e,n,this.Qe,this.ke,r);return this.ke=mn(),this.qe=$p(),this.Qe=new Te(ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Bp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new He(ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Bp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $p(){return new Te(Q.comparator)}function Hp(){return new Te(Q.comparator)}const ME={asc:"ASCENDING",desc:"DESCENDING"},LE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OE={and:"AND",or:"OR"};class FE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vc(t,e){return t.useProto3Json||Ga(e)?e:{value:e}}function Aa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zE(t,e){return Aa(t,e.toTimestamp())}function Xt(t){return de(!!t),Y.fromTimestamp(function(n){const r=$n(n);return new je(r.seconds,r.nanos)}(t))}function Mh(t,e){return _c(t,e).canonicalString()}function _c(t,e){const n=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dv(t){const e=_e.fromString(t);return de(yv(e)),e}function xc(t,e){return Mh(t.databaseId,e.path)}function uu(t,e){const n=dv(e);if(n.get(1)!==t.databaseId.projectId)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(pv(n))}function fv(t,e){return Mh(t.databaseId,e)}function UE(t){const e=dv(t);return e.length===4?_e.emptyPath():pv(e)}function wc(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pv(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wp(t,e,n){return{name:xc(t,e),fields:n.value.mapValue.fields}}function BE(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(de(p===void 0||typeof p=="string"),qe.fromBase64String(p||"")):(de(p===void 0||p instanceof Buffer||p instanceof Uint8Array),qe.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const p=h.code===void 0?L.UNKNOWN:lv(h.code);return new K(p,h.message||"")}(a);n=new cv(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uu(t,r.document.name),s=Xt(r.document.updateTime),a=r.document.createTime?Xt(r.document.createTime):Y.min(),l=new dt({mapValue:{fields:r.document.fields}}),u=tt.newFoundDocument(i,s,a,l),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Ko(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uu(t,r.document),s=r.readTime?Xt(r.readTime):Y.min(),a=tt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Ko([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uu(t,r.document),s=r.removedTargetIds||[];n=new Ko([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new PE(i,s),l=r.targetId;n=new uv(l,a)}}return n}function $E(t,e){let n;if(e instanceof Us)n={update:Wp(t,e.key,e.value)};else if(e instanceof Dh)n={delete:xc(t,e.key)};else if(e instanceof Qn)n={update:Wp(t,e.key,e.data),updateMask:JE(e.fieldMask)};else{if(!(e instanceof CE))return G();n={verify:xc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof Sa)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ps)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ns)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ia)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:zE(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function HE(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Xt(i.updateTime):Xt(s);return a.isEqual(Y.min())&&(a=Xt(s)),new SE(a,i.transformResults||[])}(n,e))):[]}function WE(t,e){return{documents:[fv(t,e.path)]}}function qE(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fv(t,i);const s=function(h){if(h.length!==0)return gv(Jt.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(p=>function(_){return{field:Cr(_.field),direction:GE(_.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=vc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function KE(t){let e=UE(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){de(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){const _=mv(g);return _ instanceof Jt&&qy(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(_=>function(C){return new ka(Rr(C.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(n.orderBy));let l=null;n.limit&&(l=function(g){let _;return _=typeof g=="object"?g.value:g,Ga(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){const _=!!g.before,I=g.values||[];return new Ta(I,_)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const _=!g.before,I=g.values||[];return new Ta(I,_)}(n.endAt)),hE(e,i,a,s,l,"F",u,h)}function QE(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rr(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rr(n.unaryFilter.field);return De.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rr(n.unaryFilter.field);return De.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Rr(n.unaryFilter.field);return De.create(a,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return De.create(Rr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jt.create(n.compositeFilter.filters.map(r=>mv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function GE(t){return ME[t]}function XE(t){return LE[t]}function YE(t){return OE[t]}function Cr(t){return{fieldPath:t.canonicalString()}}function Rr(t){return Be.fromServerFormat(t.fieldPath)}function gv(t){return t instanceof De?function(n){if(n.op==="=="){if(Pp(n.value))return{unaryFilter:{field:Cr(n.field),op:"IS_NAN"}};if(bp(n.value))return{unaryFilter:{field:Cr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pp(n.value))return{unaryFilter:{field:Cr(n.field),op:"IS_NOT_NAN"}};if(bp(n.value))return{unaryFilter:{field:Cr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cr(n.field),op:XE(n.op),value:n.value}}}(t):t instanceof Jt?function(n){const r=n.getFilters().map(i=>gv(i));return r.length===1?r[0]:{compositeFilter:{op:YE(n.op),filters:r}}}(t):G()}function JE(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,i,s=Y.min(),a=Y.min(),l=qe.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new An(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new An(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new An(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new An(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.ct=e}}function e2(t){const e=KE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.un=new n2}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Bn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Bn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class n2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new li(0)}static kn(){return new li(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.changes=new yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&as(r.mutation,i,Tt.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=sr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=qi();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=sr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=mn();const a=os(),l=function(){return os()}();return n.forEach((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Qn)?s=s.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),as(p.mutation,h,p.mutation.getFieldMask(),je.now())):a.set(h.key,Tt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,p)=>a.set(h,p)),n.forEach((h,p)=>{var g;return l.set(h,new i2(p,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=os();let i=new Te((a,l)=>a-l),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Tt.empty();p=l.applyToLocalView(h,p),r.set(u,p);const g=(i.get(l.batchId)||re()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,p=u.value,g=ev();p.forEach(_=>{if(!s.has(_)){const I=ov(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return M.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(sr());let l=-1,u=s;return a.next(h=>M.forEach(h,(p,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(p)?M.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,re())).next(p=>({batchId:l,changes:Zy(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=qi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=qi();return this.indexManager.getCollectionParents(e,s).next(l=>M.forEach(l,u=>{const h=function(g,_){return new Xa(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,_)=>{a=a.insert(g,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,tt.newInvalidDocument(p)))});let l=qi();return a.forEach((u,h)=>{const p=s.get(u);p!==void 0&&as(p.mutation,h,Tt.empty(),je.now()),Ja(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:e2(i.bundledQuery),readTime:Xt(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.overlays=new Te(Q.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=sr(),s=n.length+1,a=new Q(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Te((h,p)=>h-p);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=sr(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=sr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=i)););return M.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new bE(n,r));let s=this.Ir.get(n);s===void 0&&(s=re(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.Tr=new He(Me.Er),this.dr=new He(Me.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Me(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Me(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Q(new _e([])),r=new Me(n,e),i=new Me(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Q(new _e([])),r=new Me(n,e),i=new Me(n,e+1);let s=re();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Me(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Me{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||ue(e.wr,n.wr)}static Ar(e,n){return ue(e.wr,n.wr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new He(Me.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new RE(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.br=this.br.add(new Me(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return M.resolve(a)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Me(n,0),i=new Me(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const l=this.Dr(a.wr);s.push(l)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ue);return n.forEach(i=>{const s=new Me(i,0),a=new Me(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],l=>{r=r.add(l.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const a=new Me(new Q(s),0);let l=new He(ue);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.wr)),!0)},a),M.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{const s=new Me(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Me(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.Mr=e,this.docs=function(){return new Te(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(e,n){let r=mn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=mn();const a=n.path,l=new Q(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||qw(Ww(p),r)<=0||(i.has(p.key)||Ja(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new h2(this)}getSize(e){return M.resolve(this.size)}}class h2 extends r2{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.persistence=e,this.Nr=new yi(n=>Rh(n),bh),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lh,this.targetCount=0,this.kr=li.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new li(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sh(0),this.Kr=!1,this.Kr=!0,this.$r=new l2,this.referenceDelegate=e(this),this.Ur=new d2(this),this.indexManager=new t2,this.remoteDocumentCache=function(i){return new c2(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ZE(n),this.Gr=new o2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new u2(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new p2(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class p2 extends Qw{constructor(e){super(),this.currentSequenceNumber=e}}class Oh{constructor(e){this.persistence=e,this.Jr=new Lh,this.Yr=null}static Zr(e){return new Oh(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{const i=Q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Fh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yx()?8:Gw(mx())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new m2;return this.Xi(e,n,a).next(l=>{if(s.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(zi()<=oe.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Ar(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(zi()<=oe.DEBUG&&W("QueryEngine","Query:",Ar(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(zi()<=oe.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Ar(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gt(n))):M.resolve())}Yi(e,n){if(jp(n))return M.resolve(null);let r=Gt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yc(n,null,"F"),r=Gt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=re(...s);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,l);return this.ns(n,h,a,u.readTime)?this.Yi(e,yc(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return jp(n)||i.isEqual(Y.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?M.resolve(null):(zi()<=oe.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ar(n)),this.rs(e,a,n,Hw(i,-1)).next(l=>l))})}ts(e,n){let r=new He(Yy(e));return n.forEach((i,s)=>{Ja(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return zi()<=oe.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Ar(n)),this.Ji.getDocumentsMatchingQuery(e,n,Bn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Te(ue),this._s=new yi(s=>Rh(s),bh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function v2(t,e,n,r){return new y2(t,e,n,r)}async function vv(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let u=re();for(const h of i){a.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of s){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:a,addedBatchIds:l}))})})}function _2(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,p){const g=h.batch,_=g.keys();let I=M.resolve();return _.forEach(C=>{I=I.next(()=>p.getEntry(u,C)).next(P=>{const V=h.docVersions.get(C);de(V!==null),P.version.compareTo(V)<0&&(g.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),p.addEntry(P)))})}),I.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=re();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _v(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function x2(t,e){const n=J(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((p,g)=>{const _=i.get(g);if(!_)return;l.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let I=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(qe.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),i=i.insert(g,I),function(P,V,k){return P.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(_,I,p)&&l.push(n.Ur.updateTargetData(s,I))});let u=mn(),h=re();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(w2(s,a,e.documentUpdates).next(p=>{u=p.Ps,h=p.Is})),!r.isEqual(Y.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return M.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.os=i,s))}function w2(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=mn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):W("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ps:a,Is:i}})}function E2(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function T2(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new An(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ec(t,e,n){const r=J(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!zs(a))throw a;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function qp(t,e,n){const r=J(t);let i=Y.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,p){const g=J(u),_=g._s.get(p);return _!==void 0?M.resolve(g.os.get(_)):g.Ur.getTargetData(h,p)}(r,a,Gt(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Y.min(),n?s:re())).next(l=>(k2(r,pE(e),l),{documents:l,Ts:s})))}function k2(t,e,n){let r=t.us.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Kp{constructor(){this.activeTargetIds=xE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S2{constructor(){this.so=new Kp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Kp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=null;function cu(){return bo===null?bo=function(){return 268435456+Math.round(2147483648*Math.random())}():bo++,"0x"+bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class R2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const l=cu(),u=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,a),this.No(n,u,h,i).then(p=>(W("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw ii("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,a,l){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=A2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=cu();return new Promise((a,l)=>{const u=new Vy;u.setWithCredentials(!0),u.listenOnce(jy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ho.NO_ERROR:const p=u.getResponseJson();W(Je,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ho.TIMEOUT:W(Je,`RPC '${e}' ${s} timed out`),l(new K(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ho.HTTP_ERROR:const g=u.getStatus();if(W(Je,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=_==null?void 0:_.error;if(I&&I.status&&I.message){const C=function(V){const k=V.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(k)>=0?k:L.UNKNOWN}(I.status);l(new K(C,I.message))}else l(new K(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(L.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{W(Je,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);W(Je,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=cu(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Oy(),l=Ly(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");W(Je,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=a.createWebChannel(p,u);let _=!1,I=!1;const C=new C2({Io:V=>{I?W(Je,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(_||(W(Je,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),W(Je,`RPC '${e}' stream ${i} sending:`,V),g.send(V))},To:()=>g.close()}),P=(V,k,v)=>{V.listen(k,S=>{try{v(S)}catch(D){setTimeout(()=>{throw D},0)}})};return P(g,Wi.EventType.OPEN,()=>{I||(W(Je,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),P(g,Wi.EventType.CLOSE,()=>{I||(I=!0,W(Je,`RPC '${e}' stream ${i} transport closed`),C.So())}),P(g,Wi.EventType.ERROR,V=>{I||(I=!0,ii(Je,`RPC '${e}' stream ${i} transport errored:`,V),C.So(new K(L.UNAVAILABLE,"The operation could not be completed")))}),P(g,Wi.EventType.MESSAGE,V=>{var k;if(!I){const v=V.data[0];de(!!v);const S=v,D=S.error||((k=S[0])===null||k===void 0?void 0:k.error);if(D){W(Je,`RPC '${e}' stream ${i} received error:`,D);const F=D.status;let U=function(w){const T=be[w];if(T!==void 0)return lv(T)}(F),x=D.message;U===void 0&&(U=L.INTERNAL,x="Unknown error status: "+F+" with message "+D.message),I=!0,C.So(new K(U,x)),g.close()}else W(Je,`RPC '${e}' stream ${i} received:`,v),C.bo(v)}}),P(l,My.STAT_EVENT,V=>{V.stat===dc.PROXY?W(Je,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===dc.NOPROXY&&W(Je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function hu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){return new FE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,r,i,s,a,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xv(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(pn(n.toString()),pn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new K(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b2 extends wv{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=BE(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Y.min():a.readTime?Xt(a.readTime):Y.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wc(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=gc(u)?{documents:WE(s,u)}:{query:qE(s,u)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=hv(s,a.resumeToken);const h=vc(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Y.min())>0){l.readTime=Aa(s,a.snapshotVersion.toTimestamp());const h=vc(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=QE(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wc(this.serializer),n.removeTarget=e,this.a_(n)}}class P2 extends wv{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return de(!!e.streamToken),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=HE(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wc(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$E(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,_c(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(L.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,_c(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K(L.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class D2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pn(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{wr(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=J(u);h.L_.add(4),await $s(h),h.q_.set("Unknown"),h.L_.delete(4),await rl(h)}(this))})}),this.q_=new D2(r,i)}}async function rl(t){if(wr(t))for(const e of t.B_)await e(!0)}async function $s(t){for(const e of t.B_)await e(!1)}function Ev(t,e){const n=J(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),$h(n)?Bh(n):vi(n).r_()&&Uh(n,e))}function zh(t,e){const n=J(t),r=vi(n);n.N_.delete(e),r.r_()&&Tv(n,e),n.N_.size===0&&(r.r_()?r.o_():wr(n)&&n.q_.set("Unknown"))}function Uh(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vi(t).A_(e)}function Tv(t,e){t.Q_.xe(e),vi(t).R_(e)}function Bh(t){t.Q_=new jE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vi(t).start(),t.q_.v_()}function $h(t){return wr(t)&&!vi(t).n_()&&t.N_.size>0}function wr(t){return J(t).L_.size===0}function kv(t){t.Q_=void 0}async function j2(t){t.q_.set("Online")}async function M2(t){t.N_.forEach((e,n)=>{Uh(t,e)})}async function L2(t,e){kv(t),$h(t)?(t.q_.M_(e),Bh(t)):t.q_.set("Unknown")}async function O2(t,e,n){if(t.q_.set("Online"),e instanceof cv&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ca(t,r)}else if(e instanceof Ko?t.Q_.Ke(e):e instanceof uv?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Y.min()))try{const r=await _v(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.Q_.rt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.N_.get(h);p&&s.N_.set(h,p.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(qe.EMPTY_BYTE_STRING,p.snapshotVersion)),Tv(s,u);const g=new An(p.target,u,h,p.sequenceNumber);Uh(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Ca(t,r)}}async function Ca(t,e,n){if(!zs(e))throw e;t.L_.add(1),await $s(t),t.q_.set("Offline"),n||(n=()=>_v(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await rl(t)})}function Sv(t,e){return e().catch(n=>Ca(t,n,e))}async function il(t){const e=J(t),n=Hn(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;F2(e);)try{const i=await E2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,z2(e,i)}catch(i){await Ca(e,i)}Iv(e)&&Av(e)}function F2(t){return wr(t)&&t.O_.length<10}function z2(t,e){t.O_.push(e);const n=Hn(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Iv(t){return wr(t)&&!Hn(t).n_()&&t.O_.length>0}function Av(t){Hn(t).start()}async function U2(t){Hn(t).p_()}async function B2(t){const e=Hn(t);for(const n of t.O_)e.m_(n.mutations)}async function $2(t,e,n){const r=t.O_.shift(),i=Vh.from(r,e,n);await Sv(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await il(t)}async function H2(t,e){e&&Hn(t).V_&&await async function(r,i){if(function(a){return NE(a)&&a!==L.ABORTED}(i.code)){const s=r.O_.shift();Hn(r).s_(),await Sv(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await il(r)}}(t,e),Iv(t)&&Av(t)}async function Gp(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=wr(n);n.L_.add(3),await $s(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await rl(n)}async function W2(t,e){const n=J(t);e?(n.L_.delete(2),await rl(n)):e||(n.L_.add(2),await $s(n),n.q_.set("Unknown"))}function vi(t){return t.K_||(t.K_=function(n,r,i){const s=J(n);return s.w_(),new b2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:j2.bind(null,t),Ro:M2.bind(null,t),mo:L2.bind(null,t),d_:O2.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),$h(t)?Bh(t):t.q_.set("Unknown")):(await t.K_.stop(),kv(t))})),t.K_}function Hn(t){return t.U_||(t.U_=function(n,r,i){const s=J(n);return s.w_(),new P2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:U2.bind(null,t),mo:H2.bind(null,t),f_:B2.bind(null,t),g_:$2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await il(t)):(await t.U_.stop(),t.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new Hh(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wh(t,e){if(pn("AsyncQueue",`${e}: ${t}`),zs(t))return new K(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=qi(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new Xr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.W_=new Te(Q.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ui{constructor(e,n,r,i,s,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ui(e,n,Xr.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class K2{constructor(){this.queries=Yp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=J(n),s=i.queries;i.queries=Yp(),s.forEach((a,l)=>{for(const u of l.j_)u.onError(r)})})(this,new K(L.ABORTED,"Firestore shutting down"))}}function Yp(){return new yi(t=>Xy(t),Ya)}async function Q2(t,e){const n=J(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new q2,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=Wh(a,`Initialization of query '${Ar(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&qh(n)}async function G2(t,e){const n=J(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X2(t,e){const n=J(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.j_)l.X_(i)&&(r=!0);a.z_=i}}r&&qh(n)}function Y2(t,e,n){const r=J(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function qh(t){t.Y_.forEach(e=>{e.next()})}var Tc,Jp;(Jp=Tc||(Tc={})).ea="default",Jp.Cache="cache";class J2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ui(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ui.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Tc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.key=e}}class Rv{constructor(e){this.key=e}}class Z2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=re(),this.mutatedKeys=re(),this.Aa=Yy(e),this.Ra=new Xr(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Xp,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const _=i.get(p),I=Ja(this.query,g)?g:null,C=!!_&&this.mutatedKeys.has(_.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;_&&I?_.data.isEqual(I.data)?C!==P&&(r.track({type:3,doc:I}),V=!0):this.ga(_,I)||(r.track({type:2,doc:I}),V=!0,(u&&this.Aa(I,u)>0||h&&this.Aa(I,h)<0)&&(l=!0)):!_&&I?(r.track({type:0,doc:I}),V=!0):_&&!I&&(r.track({type:1,doc:_}),V=!0,(u||h)&&(l=!0)),V&&(I?(a=a.add(I),s=P?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:a,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((p,g)=>function(I,C){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return P(I)-P(C)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,a.length!==0||h?{snapshot:new ui(this.query,e.Ra,s,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Rv(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Cv(r))}),n}ba(e){this.Ta=e.Ts,this.da=re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ui.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class eT{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tT{constructor(e){this.key=e,this.va=!1}}class nT{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new yi(l=>Xy(l),Ya),this.Ma=new Map,this.xa=new Set,this.Oa=new Te(Q.comparator),this.Na=new Map,this.La=new Lh,this.Ba={},this.ka=new Map,this.qa=li.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function rT(t,e,n=!0){const r=jv(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await bv(r,e,n,!0),i}async function iT(t,e){const n=jv(t);await bv(n,e,!0,!1)}async function bv(t,e,n,r){const i=await T2(t.localStore,Gt(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await sT(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ev(t.remoteStore,i),l}async function sT(t,e,n,r,i){t.Ka=(g,_,I)=>async function(P,V,k,v){let S=V.view.ma(k);S.ns&&(S=await qp(P.localStore,V.query,!1).then(({documents:x})=>V.view.ma(x,S)));const D=v&&v.targetChanges.get(V.targetId),F=v&&v.targetMismatches.get(V.targetId)!=null,U=V.view.applyChanges(S,P.isPrimaryClient,D,F);return em(P,V.targetId,U.wa),U.snapshot}(t,g,_,I);const s=await qp(t.localStore,e,!0),a=new Z2(e,s.Ts),l=a.ma(s.documents),u=Bs.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(l,t.isPrimaryClient,u);em(t,n,h.wa);const p=new eT(e,n,a);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function oT(t,e,n){const r=J(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Ya(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ec(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zh(r.remoteStore,i.targetId),kc(r,i.targetId)}).catch(Fs)):(kc(r,i.targetId),await Ec(r.localStore,i.targetId,!0))}async function aT(t,e){const n=J(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zh(n.remoteStore,r.targetId))}async function lT(t,e,n){const r=mT(t);try{const i=await function(a,l){const u=J(a),h=je.now(),p=l.reduce((I,C)=>I.add(C.key),re());let g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=mn(),P=re();return u.cs.getEntries(I,p).next(V=>{C=V,C.forEach((k,v)=>{v.isValidDocument()||(P=P.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,C)).next(V=>{g=V;const k=[];for(const v of l){const S=AE(v,g.get(v.key).overlayedDocument);S!=null&&k.push(new Qn(v.key,S,$y(S.value.mapValue),Bt.exists(!0)))}return u.mutationQueue.addMutationBatch(I,h,k,l)}).next(V=>{_=V;const k=V.applyToLocalDocumentSet(g,P);return u.documentOverlayCache.saveOverlays(I,V.batchId,k)})}).then(()=>({batchId:_.batchId,changes:Zy(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let h=a.Ba[a.currentUser.toKey()];h||(h=new Te(ue)),h=h.insert(l,u),a.Ba[a.currentUser.toKey()]=h}(r,i.batchId,n),await Hs(r,i.changes),await il(r.remoteStore)}catch(i){const s=Wh(i,"Failed to persist write");n.reject(s)}}async function Pv(t,e){const n=J(t);try{const r=await x2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?de(a.va):i.removedDocuments.size>0&&(de(a.va),a.va=!1))}),await Hs(n,r,e)}catch(r){await Fs(r)}}function Zp(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const l=a.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=J(a);u.onlineState=l;let h=!1;u.queries.forEach((p,g)=>{for(const _ of g.j_)_.Z_(l)&&(h=!0)}),h&&qh(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uT(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Te(Q.comparator);a=a.insert(s,tt.newNoDocument(s,Y.min()));const l=re().add(s),u=new tl(Y.min(),new Map,new Te(ue),a,l);await Pv(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Kh(r)}else await Ec(r.localStore,e,!1).then(()=>kc(r,e,n)).catch(Fs)}async function cT(t,e){const n=J(t),r=e.batch.batchId;try{const i=await _2(n.localStore,e);Dv(n,r,null),Nv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hs(n,i)}catch(i){await Fs(i)}}async function hT(t,e,n){const r=J(t);try{const i=await function(a,l){const u=J(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(de(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);Dv(r,e,n),Nv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hs(r,i)}catch(i){await Fs(i)}}function Nv(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Dv(t,e,n){const r=J(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function kc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Vv(t,r)})}function Vv(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zh(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Kh(t))}function em(t,e,n){for(const r of n)r instanceof Cv?(t.La.addReference(r.key,e),dT(t,r)):r instanceof Rv?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Vv(t,r.key)):G()}function dT(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),Kh(t))}function Kh(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Q(_e.fromString(e)),r=t.qa.next();t.Na.set(r,new tT(n)),t.Oa=t.Oa.insert(n,r),Ev(t.remoteStore,new An(Gt(Ph(n.path)),r,"TargetPurposeLimboResolution",Sh.oe))}}async function Hs(t,e,n){const r=J(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{a.push(r.Ka(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=Fh.Wi(u.targetId,h);s.push(g)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(u,h){const p=J(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(h,_=>M.forEach(_.$i,I=>p.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>M.forEach(_.Ui,I=>p.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!zs(g))throw g;W("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const I=p.os.get(_),C=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(C);p.os=p.os.insert(_,P)}}}(r.localStore,s))}async function fT(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await vv(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new K(L.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hs(n,r.hs)}}function pT(t,e){const n=J(t),r=n.Na.get(e);if(r&&r.va)return re().add(r.key);{let i=re();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const l=n.Fa.get(a);i=i.unionWith(l.view.Va)}return i}}function jv(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uT.bind(null,e),e.Ca.d_=X2.bind(null,e.eventManager),e.Ca.$a=Y2.bind(null,e.eventManager),e}function mT(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hT.bind(null,e),e}class Ra{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nl(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return v2(this.persistence,new g2,e.initialUser,this.serializer)}Ga(e){return new f2(Oh.Zr,this.serializer)}Wa(e){return new S2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ra.provider={build:()=>new Ra};class Sc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fT.bind(null,this.syncEngine),await W2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new K2}()}createDatastore(e){const n=nl(e.databaseInfo.databaseId),r=function(s){return new R2(s)}(e.databaseInfo);return function(s,a,l,u){return new N2(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new V2(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Zp(this.syncEngine,n,0),function(){return Qp.D()?new Qp:new I2}())}createSyncEngine(e,n){return function(i,s,a,l,u,h,p){const g=new nT(i,s,a,l,u,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=J(i);W("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await $s(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sc.provider={build:()=>new Sc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{W("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(W("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function du(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vT(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Gp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Gp(e.remoteStore,i)),t._onlineComponents=e}async function vT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await du(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ii("Error using user provided cache. Falling back to memory cache: "+n),await du(t,new Ra)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await du(t,new Ra);return t._offlineComponents}async function Mv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await tm(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await tm(t,new Sc))),t._onlineComponents}function _T(t){return Mv(t).then(e=>e.syncEngine)}async function nm(t){const e=await Mv(t),n=e.eventManager;return n.onListen=rT.bind(null,e.syncEngine),n.onUnlisten=oT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aT.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e,n){if(!n)throw new K(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xT(t,e,n,r){if(e===!0&&r===!0)throw new K(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function im(t){if(!Q.isDocumentKey(t))throw new K(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sm(t){if(Q.isDocumentKey(t))throw new K(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(t);throw new K(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new om({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new om(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jw;switch(r.type){case"firstParty":return new Fw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rm.get(n);r&&(W("ComponentProvider","Removing Datastore"),rm.delete(n),r.terminate())}(this),Promise.resolve()}}function wT(t,e,n,r={}){var i;const s=(t=On(t,sl))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ze.MOCK_USER;else{l=px(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new K(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ze(h)}t._authCredentials=new Mw(new Fy(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ol(this.firestore,e,this._query)}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class Fn extends ol{constructor(e,n,r){super(e,n,Ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new Q(e))}withConverter(e){return new Fn(this.firestore,e,this._path)}}function Ic(t,e,...n){if(t=dn(t),Ov("collection","path",e),t instanceof sl){const r=_e.fromString(e,...n);return sm(r),new Fn(t,null,r)}{if(!(t instanceof St||t instanceof Fn))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return sm(r),new Fn(t.firestore,null,r)}}function ba(t,e,...n){if(t=dn(t),arguments.length===1&&(e=zy.newId()),Ov("doc","path",e),t instanceof sl){const r=_e.fromString(e,...n);return im(r),new St(t,null,new Q(r))}{if(!(t instanceof St||t instanceof Fn))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return im(r),new St(t.firestore,t instanceof Fn?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xv(this,"async_queue_retry"),this.Vu=()=>{const r=hu();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=hu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=hu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zs(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Hh.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&G()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function lm(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ci extends sl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new am,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new am(e),this._firestoreClient=void 0,await e}}}function ET(t,e){const n=typeof t=="object"?t:Tw(),r=typeof t=="string"?t:"(default)",i=_w(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dx("firestore");s&&wT(i,...s)}return i}function Fv(t){if(t._terminated)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TT(t),t._firestoreClient}function TT(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,h,p){return new Jw(l,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Lv(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new yT(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(qe.fromBase64String(e))}catch(n){throw new K(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=/^__.*__$/;class ST{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Us(e,this.data,n,this.fieldTransforms)}}class zv{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class Jh{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Pa(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Uv(this.Cu)&&kT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class IT{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nl(e)}Qu(e,n,r,i=!1){return new Jh({Cu:e,methodName:n,qu:r,path:Be.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bv(t){const e=t._freezeSettings(),n=nl(t._databaseId);return new IT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AT(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Zh("Data must be an object, but it was:",a,r);const l=$v(r,a);let u,h;if(s.merge)u=new Tt(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const _=Ac(e,g,n);if(!a.contains(_))throw new K(L.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Wv(p,_)||p.push(_)}u=new Tt(p),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new ST(new dt(l),u,h)}class ll extends Gh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ll}}function CT(t,e,n,r){const i=t.Qu(1,e,n);Zh("Data must be an object, but it was:",i,r);const s=[],a=dt.empty();xr(r,(u,h)=>{const p=ed(e,u,n);h=dn(h);const g=i.Nu(p);if(h instanceof ll)s.push(p);else{const _=ul(h,g);_!=null&&(s.push(p),a.set(p,_))}});const l=new Tt(s);return new zv(a,l,i.fieldTransforms)}function RT(t,e,n,r,i,s){const a=t.Qu(1,e,n),l=[Ac(e,r,n)],u=[i];if(s.length%2!=0)throw new K(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)l.push(Ac(e,s[_])),u.push(s[_+1]);const h=[],p=dt.empty();for(let _=l.length-1;_>=0;--_)if(!Wv(h,l[_])){const I=l[_];let C=u[_];C=dn(C);const P=a.Nu(I);if(C instanceof ll)h.push(I);else{const V=ul(C,P);V!=null&&(h.push(I),p.set(I,V))}}const g=new Tt(h);return new zv(p,g,a.fieldTransforms)}function ul(t,e){if(Hv(t=dn(t)))return Zh("Unsupported field value:",e,t),$v(t,e);if(t instanceof Gh)return function(r,i){if(!Uv(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let u=ul(l,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wE(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=je.fromDate(r);return{timestampValue:Aa(i.serializer,s)}}if(r instanceof je){const s=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Aa(i.serializer,s)}}if(r instanceof Xh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:hv(i.serializer,r._byteString)};if(r instanceof St){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mh(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yh)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Nh(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qh(r)}`)}(t,e)}function $v(t,e){const n={};return Uy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(t,(r,i)=>{const s=ul(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Hv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof Xh||t instanceof hi||t instanceof St||t instanceof Gh||t instanceof Yh)}function Zh(t,e,n){if(!Hv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ac(t,e,n){if((e=dn(e))instanceof al)return e._internalPath;if(typeof e=="string")return ed(t,e);throw Pa("Field path arguments must be of type string or ",t,!1,void 0,n)}const bT=new RegExp("[~\\*/\\[\\]]");function ed(t,e,n){if(e.search(bT)>=0)throw Pa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new al(...e.split("."))._internalPath}catch{throw Pa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pa(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new K(L.INVALID_ARGUMENT,l+t+u)}function Wv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PT extends qv{data(){return super.data()}}function Kv(t,e){return typeof e=="string"?ed(t,e):e instanceof al?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DT{convertValue(e,n="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ie(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Ie(a.doubleValue));return new Yh(s)}convertGeoPoint(e){return new Xh(Ie(e.latitude),Ie(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ah(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cs(e));default:return null}}convertTimestamp(e){const n=$n(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);de(yv(r));const i=new Rs(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qv extends qv{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qo extends Qv{data(e={}){return super.data(e)}}class jT{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qo(this._firestore,this._userDataWriter,r.key,r,new Qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new Qo(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qi(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Qo(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qi(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:MT(l.type),doc:u,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class Gv extends DT{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function Xv(t,e,n,...r){t=On(t,St);const i=On(t.firestore,ci),s=Bv(i);let a;return a=typeof(e=dn(e))=="string"||e instanceof al?RT(s,"updateDoc",t._key,e,n,r):CT(s,"updateDoc",t._key,e),td(i,[a.toMutation(t._key,Bt.exists(!0))])}function LT(t){return td(On(t.firestore,ci),[new Dh(t._key,Bt.none())])}function Yv(t,e){const n=On(t.firestore,ci),r=ba(t),i=VT(t.converter,e);return td(n,[AT(Bv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Bt.exists(!1))]).then(()=>r)}function OT(t,...e){var n,r,i;t=dn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||lm(e[a])||(s=e[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(lm(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[a+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,h,p;if(t instanceof St)h=On(t.firestore,ci),p=Ph(t._key.path),u={next:g=>{e[a]&&e[a](FT(h,t,g))},error:e[a+1],complete:e[a+2]};else{const g=On(t,ol);h=On(g.firestore,ci),p=g._query;const _=new Gv(h);u={next:I=>{e[a]&&e[a](new jT(h,_,g,I))},error:e[a+1],complete:e[a+2]},NT(t._query)}return function(_,I,C,P){const V=new gT(P),k=new J2(I,V,C);return _.asyncQueue.enqueueAndForget(async()=>Q2(await nm(_),k)),()=>{V.Za(),_.asyncQueue.enqueueAndForget(async()=>G2(await nm(_),k))}}(Fv(h),p,l,u)}function td(t,e){return function(r,i){const s=new ur;return r.asyncQueue.enqueueAndForget(async()=>lT(await _T(r),i,s)),s.promise}(Fv(t),e)}function FT(t,e,n){const r=n.docs.get(e._key),i=new Gv(t);return new Qv(t,i,e._key,r,new Qi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gi=i})(Ew),wa(new Ss("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new ci(new Lw(r.getProvider("auth-internal")),new Uw(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new K(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rs(h.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Gr(Sp,"4.7.3",e),Gr(Sp,"4.7.3","esm2017")})();const zT=by({apiKey:"AIzaSyDB8jGoY3NWTbGeHFnP2qTELG6ccRzypqw",authDomain:"ojt-tracker-51ed1.firebaseapp.com",projectId:"ojt-tracker-51ed1",storageBucket:"ojt-tracker-51ed1.firebasestorage.app",messagingSenderId:"446065872296",appId:"1:446065872296:web:e1e614fa0535af7e90619d"}),Br=ET(zT),nd=()=>new Date().toISOString().split("T")[0];function Na(t){const e=new Date(t+"T12:00:00").getDay();return e!==0&&e!==6}function Jv(t,e){const n=new Date(t+"T00:00:00"),r=new Date(e+"T00:00:00");if(r<=n)return 0;let i=0,s=new Date(n);for(;s<r;)Na(s.toISOString().split("T")[0])&&i++,s.setDate(s.getDate()+1);return i}function rd(t,e){if(e<=0)return t;const n=new Date(t+"T12:00:00");for(;!Na(n.toISOString().split("T")[0]);)n.setDate(n.getDate()+1);let r=0;for(;r<e;)n.setDate(n.getDate()+1),Na(n.toISOString().split("T")[0])&&r++;return n.toISOString().split("T")[0]}function xt(t){const e=Number(t.hours)||0,n=Number(t.hoursPerDay)||8,r=t.absences||{},i=nd();let s=0,a=0;const l=new Date(t.startDate+"T12:00:00"),u=new Date(i+"T12:00:00");for(;l<u;){const P=l.toISOString().split("T")[0];if(P>=t.startDate&&Na(P)){const V=r[P];if(V==null)s+=n,a++;else if(V!=="full"){const k=Number(V)||0;s+=k,k>=n&&a++}}l.setDate(l.getDate()+1)}const h=Math.max(0,e-s),p=h>0?Math.ceil(h/n):0,g=t.startDate>i?t.endDate:h<=0?i:rd(i,p),_=e>0?Math.min(100,Math.max(0,Math.round(s/e*100))):0,I=h>0?Jv(i,g):0;let C;return h<=0?C="done":_>=85||I<=5?C="critical":_>=60||I<=15?C="warning":C="ok",{hoursEarned:Math.round(s*100)/100,hoursRemaining:Math.round(h*100)/100,daysRemaining:p,displayEnd:g,pct:_,urgency:C,wdLeft:I,daysWorked:a,fullDayHrs:n,totalRequired:e}}const Ds=t=>t?new Date(t+"T12:00:00").toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"}):"",UT=t=>t?new Date(t+"T12:00:00").toLocaleDateString("en-PH",{month:"short",day:"numeric"}):"";function BT(){const[t,e]=X.useState(new Date);X.useEffect(()=>{const p=setInterval(()=>e(new Date),1e3);return()=>clearInterval(p)},[]);const n=new Date(t.toLocaleString("en-US",{timeZone:"Asia/Manila"})),r=n.getHours(),i=n.getMinutes(),s=n.getSeconds(),a=r>=12?"PM":"AM",l=(r%12||12).toString().padStart(2,"0"),u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{time:`${l}:${String(i).padStart(2,"0")}:${String(s).padStart(2,"0")}`,ampm:a,day:u[n.getDay()],date:`${h[n.getMonth()]} ${n.getDate()}, ${n.getFullYear()}`}}const ee={Logo:()=>f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),f.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Plus:()=>f.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Search:()=>f.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Edit:()=>f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Trash:()=>f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"}),f.jsx("path",{d:"M10 11v6"}),f.jsx("path",{d:"M14 11v6"}),f.jsx("path",{d:"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"})]}),Cal:()=>f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Clock:()=>f.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]}),Brief:()=>f.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2"}),f.jsx("path",{d:"M16 7V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"})]}),X:()=>f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),ChevL:()=>f.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"15 18 9 12 15 6"})}),ChevR:()=>f.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"9 18 15 12 9 6"})}),Users:()=>f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Check:()=>f.jsx("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}),Sun:()=>f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"4"}),f.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),f.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),f.jsx("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),f.jsx("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),f.jsx("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),f.jsx("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),f.jsx("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),f.jsx("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})]}),Moon:()=>f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Sort:()=>f.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),f.jsx("line",{x1:"8",y1:"18",x2:"12",y2:"18"}),f.jsx("polyline",{points:"3 8 6 5 9 8"}),f.jsx("line",{x1:"6",y1:"5",x2:"6",y2:"19"})]}),Info:()=>f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"8"}),f.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"16"})]}),Board:()=>f.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1"}),f.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),f.jsx("line",{x1:"9",y1:"16",x2:"12",y2:"16"})]}),Star:()=>f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),Rocket:()=>f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),f.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),f.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),f.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),Tag:()=>f.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}),f.jsx("circle",{cx:"7.5",cy:"7.5",r:"1.5"})]}),Trophy:()=>f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),f.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),f.jsx("path",{d:"M4 22h16"}),f.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),f.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),f.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),Upload:()=>f.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),Download:()=>f.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"7 10 12 15 17 10"}),f.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Sheet:()=>f.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),f.jsx("path",{d:"M3 9h18"}),f.jsx("path",{d:"M3 15h18"}),f.jsx("path",{d:"M9 3v18"})]}),AlertTri:()=>f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),f.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),f.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})},$T={ok:{label:"On Track",color:"#22c55e",bg:"rgba(34,197,94,.1)",bdr:"rgba(34,197,94,.25)"},warning:{label:"Keep Going",color:"#f59e0b",bg:"rgba(245,158,11,.1)",bdr:"rgba(245,158,11,.25)"},critical:{label:"Almost There",color:"#ef4444",bg:"rgba(239,68,68,.1)",bdr:"rgba(239,68,68,.25)"},done:{label:"Completed",color:"#a78bfa",bg:"rgba(167,139,250,.1)",bdr:"rgba(167,139,250,.25)"}},HT=`
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap');

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}

/*  LIGHT THEME  */
:root {
  --bg:       #f4f5f7;
  --surface:  #ffffff;
  --surface2: #f8f9fb;
  --surface3: #f0f1f4;
  --border:   #e4e6ec;
  --border2:  #eceef4;
  --t1: #111318;
  --t2: #2d3142;
  --t3: #5a5f7a;
  --t4: #8a8fa8;
  --t5: #c4c8d8;
  --acc:   #4f6ef7;
  --acc2:  #3b5be8;
  --acc3:  rgba(79,110,247,.09);
  --acc4:  rgba(79,110,247,.18);
  --nav:   rgba(255,255,255,.95);
  --sh1:   0 1px 3px rgba(0,0,0,.07);
  --sh2:   0 4px 20px rgba(0,0,0,.08),0 1px 4px rgba(0,0,0,.04);
  --sh4:   0 20px 60px rgba(0,0,0,.12),0 6px 20px rgba(0,0,0,.06);
  --ok-c:#16a34a; --ok-bg:rgba(22,163,74,.08);   --ok-bdr:rgba(22,163,74,.22);
  --wa-c:#d97706; --wa-bg:rgba(217,119,6,.08);   --wa-bdr:rgba(217,119,6,.22);
  --cr-c:#dc2626; --cr-bg:rgba(220,38,38,.08);   --cr-bdr:rgba(220,38,38,.22);
  --dn-c:#7c3aed; --dn-bg:rgba(124,58,237,.08);  --dn-bdr:rgba(124,58,237,.22);
  --ab-c:#e11d48; --ab-bg:rgba(225,29,72,.08);   --ab-bdr:rgba(225,29,72,.22);
  --hf-c:#c2410c; --hf-bg:rgba(194,65,12,.08);   --hf-bdr:rgba(194,65,12,.22);
}

/*  DARK THEME  warm charcoal grays (from design)  */
[data-theme="dark"] {
  --bg:       #1a1a1a;
  --surface:  #242424;
  --surface2: #2c2c2c;
  --surface3: #333333;
  --border:   #3a3a3a;
  --border2:  #303030;
  --t1: #f0f0f0;
  --t2: #d0d0d0;
  --t3: #a0a0a0;
  --t4: #707070;
  --t5: #484848;
  --acc:   #6b8cff;
  --acc2:  #5a7aff;
  --acc3:  rgba(107,140,255,.12);
  --acc4:  rgba(107,140,255,.22);
  --nav:   rgba(26,26,26,.96);
  --sh1:   0 1px 4px rgba(0,0,0,.4);
  --sh2:   0 4px 20px rgba(0,0,0,.5),0 1px 4px rgba(0,0,0,.3);
  --sh4:   0 24px 64px rgba(0,0,0,.7),0 8px 24px rgba(0,0,0,.4);
  --ok-c:#4ade80; --ok-bg:rgba(74,222,128,.07);  --ok-bdr:rgba(74,222,128,.2);
  --wa-c:#fbbf24; --wa-bg:rgba(251,191,36,.07);  --wa-bdr:rgba(251,191,36,.2);
  --cr-c:#f87171; --cr-bg:rgba(248,113,113,.07); --cr-bdr:rgba(248,113,113,.2);
  --dn-c:#c084fc; --dn-bg:rgba(192,132,252,.07); --dn-bdr:rgba(192,132,252,.2);
  --ab-c:#fb7185; --ab-bg:rgba(251,113,133,.07); --ab-bdr:rgba(251,113,133,.2);
  --hf-c:#fb923c; --hf-bg:rgba(251,146,60,.07);  --hf-bdr:rgba(251,146,60,.2);
}

html{scroll-behavior:smooth;-webkit-text-size-adjust:100%;}
body{
  background:var(--bg);color:var(--t1);
  font-family:'Inter',system-ui,sans-serif;
  min-height:100vh;line-height:1.6;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  transition:background .25s,color .25s;
}
button{font-family:inherit;cursor:pointer;}
input,select,textarea{font-family:inherit;}
[data-theme="dark"] input[type="date"]::-webkit-calendar-picker-indicator{filter:invert(.5);}
::-webkit-scrollbar{width:5px;height:5px;}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:99px;}
::-webkit-scrollbar-track{background:transparent;}

@keyframes fadeIn  {from{opacity:0}to{opacity:1}}
@keyframes slideUp {from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}
@keyframes slideIn {from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}
@keyframes scaleIn {from{opacity:0;transform:scale(.97) translateY(6px)}to{opacity:1;transform:none}}
@keyframes pulse   {0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.9);opacity:.2}}
@keyframes blink   {0%,100%{opacity:1}50%{opacity:.25}}
@keyframes shimmer {0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}

/*  NAV  */
.nav{
  position:sticky;top:0;z-index:100;
  background:var(--nav);
  backdrop-filter:blur(24px) saturate(180%);
  -webkit-backdrop-filter:blur(24px) saturate(180%);
  border-bottom:1px solid var(--border);
}
.nav-inner{
  max-width:1160px;margin:0 auto;padding:0 28px;height:64px;
  display:flex;align-items:center;justify-content:space-between;gap:16px;
}
.nav-brand{display:flex;align-items:center;gap:12px;flex-shrink:0;}
.nav-logo{
  width:38px;height:38px;border-radius:10px;
  background:linear-gradient(135deg,var(--acc) 0%,var(--acc2) 100%);
  color:#fff;display:flex;align-items:center;justify-content:center;
  flex-shrink:0;transition:transform .2s ease,box-shadow .2s;
  box-shadow:0 3px 12px rgba(79,110,247,.3);
}
.nav-logo:hover{transform:scale(1.06);box-shadow:0 6px 20px rgba(79,110,247,.4);}
.nav-name{font-size:15px;font-weight:800;color:var(--t1);letter-spacing:-.4px;line-height:1.2;}
.nav-tagline{font-size:10.5px;color:var(--t4);font-weight:500;line-height:1;margin-top:1px;}
.nav-right{display:flex;align-items:center;gap:8px;}

/* Clock */
.clock-chip{
  display:flex;align-items:center;gap:10px;
  background:var(--surface);border:1px solid var(--border);
  border-radius:10px;padding:7px 13px;box-shadow:var(--sh1);
}
.clock-dot{width:6px;height:6px;border-radius:50%;background:#22c55e;flex-shrink:0;animation:pulse 2.8s ease infinite;}
.clock-time{font-family:'JetBrains Mono',monospace;font-size:13px;font-weight:600;color:var(--t1);line-height:1.1;}
.clock-sub{font-size:9px;font-weight:700;color:var(--acc);letter-spacing:.1em;text-transform:uppercase;}
.clock-sep{width:1px;height:20px;background:var(--border);flex-shrink:0;}
.clock-day{font-size:9.5px;font-weight:700;color:var(--t2);letter-spacing:.04em;text-transform:uppercase;line-height:1.4;}
.clock-date{font-size:9.5px;color:var(--t4);line-height:1.4;}

/*  BUTTONS  */
.btn{
  display:inline-flex;align-items:center;gap:6px;
  font-weight:700;font-size:13.5px;
  border-radius:10px;border:none;cursor:pointer;
  transition:all .18s ease;white-space:nowrap;line-height:1;
}
.btn:active{transform:scale(.97);}
.btn-primary{
  background:linear-gradient(135deg,var(--acc),var(--acc2));
  color:#fff;padding:10px 18px;
  box-shadow:0 2px 10px rgba(79,110,247,.3);
}
.btn-primary:hover{transform:translateY(-1px);box-shadow:0 5px 18px rgba(79,110,247,.4);}
.btn-primary:disabled{opacity:.4;cursor:not-allowed;transform:none;box-shadow:none;}
.btn-ghost{background:var(--surface2);color:var(--t2);padding:10px 16px;border:1px solid var(--border);}
.btn-ghost:hover{background:var(--surface3);color:var(--t1);border-color:var(--t5);}
.btn-sm{background:var(--surface2);color:var(--t3);padding:7px 12px;border:1px solid var(--border);font-size:12.5px;border-radius:8px;}
.btn-sm:hover{background:var(--surface3);color:var(--t1);border-color:var(--t5);}
.btn-danger-ghost{background:var(--cr-bg);color:var(--cr-c);padding:7px 12px;border:1px solid var(--cr-bdr);font-size:12.5px;border-radius:8px;}
.btn-danger-ghost:hover{background:rgba(220,38,38,.13);}
.btn-danger{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;padding:10px 18px;box-shadow:0 3px 10px rgba(220,38,38,.25);}
.btn-danger:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(220,38,38,.35);}
.btn-icon{
  width:38px;height:38px;border-radius:10px;
  background:var(--surface);border:1px solid var(--border);
  color:var(--t3);display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:all .18s ease;flex-shrink:0;
}
.btn-icon:hover{background:var(--surface3);color:var(--t1);border-color:var(--t4);}
.btn-icon:active{transform:scale(.93);}
.btn-outline{
  background:var(--surface);color:var(--t2);
  padding:9px 14px;border:1px solid var(--border);
  font-size:13px;font-weight:700;border-radius:10px;
  display:inline-flex;align-items:center;gap:6px;
  cursor:pointer;transition:all .18s ease;
  white-space:nowrap;
}
.btn-outline:hover{background:var(--surface2);border-color:var(--t4);color:var(--t1);}
.btn-outline.green{border-color:var(--ok-bdr);color:var(--ok-c);background:var(--ok-bg);}
.btn-outline.green:hover{background:rgba(22,163,74,.12);}

/*  PAGE  */
.page{max-width:1160px;margin:0 auto;padding:28px 28px 100px;}

/*  HERO STATS  */
.hero{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:20px;}
.stat-card{
  background:var(--surface);border:1px solid var(--border);
  border-radius:16px;padding:20px;
  box-shadow:var(--sh1);
  transition:transform .2s ease,box-shadow .2s;
  animation:slideUp .4s ease both;
  position:relative;overflow:hidden;
}
.stat-card:hover{transform:translateY(-2px);box-shadow:var(--sh2);}
.sc-label{font-size:11px;font-weight:700;color:var(--t4);text-transform:uppercase;letter-spacing:.09em;margin-bottom:10px;}
.sc-num{font-family:'JetBrains Mono',monospace;font-size:32px;font-weight:600;line-height:1;margin-bottom:4px;}
.sc-sub{font-size:11.5px;color:var(--t4);font-weight:500;}
.sc-icon{position:absolute;right:16px;top:16px;opacity:.07;transform:scale(2.2);}

/*  PANEL  */
.panel{background:var(--surface);border:1px solid var(--border);border-radius:18px;box-shadow:var(--sh1);margin-bottom:20px;overflow:hidden;}
.panel-hd{padding:20px 22px 16px;border-bottom:1px solid var(--border2);display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
.panel-title{font-size:15px;font-weight:800;color:var(--t1);letter-spacing:-.4px;}
.panel-sub{font-size:12px;color:var(--t4);margin-top:2px;font-weight:500;}

/*  FILTER TABS  */
.filter-bar{
  padding:12px 22px;border-bottom:1px solid var(--border2);
  display:flex;gap:6px;flex-wrap:wrap;overflow-x:auto;
  -webkit-overflow-scrolling:touch;
  background:var(--surface2);
}
.filter-bar::-webkit-scrollbar{height:0;}
.fpill{
  display:inline-flex;align-items:center;gap:5px;
  padding:6px 14px;border-radius:8px;cursor:pointer;
  font-size:12.5px;font-weight:700;
  border:1.5px solid var(--border);background:var(--surface);color:var(--t4);
  transition:all .15s ease;white-space:nowrap;flex-shrink:0;
  -webkit-tap-highlight-color:transparent;
}
.fpill:hover{color:var(--fp-c);border-color:var(--fp-c);background:var(--fp-bg);}
.fpill.act{color:var(--fp-c);border-color:var(--fp-c);background:var(--fp-bg);box-shadow:0 1px 8px var(--fp-sh);}
.fpill-dot{width:6px;height:6px;border-radius:50%;background:var(--fp-c);flex-shrink:0;}
.fpill-n{font-family:'JetBrains Mono',monospace;font-size:10px;opacity:.7;background:var(--surface3);border-radius:99px;padding:1px 6px;}

/*  ROLE BAR  Fixed  */
.role-bar{
  padding:10px 22px;border-bottom:1px solid var(--border2);
  display:flex;align-items:center;gap:6px;flex-wrap:wrap;
  overflow-x:auto;-webkit-overflow-scrolling:touch;
  background:var(--surface);
}
.role-bar::-webkit-scrollbar{height:0;}
.role-label{
  font-size:10px;font-weight:800;color:var(--t4);
  text-transform:uppercase;letter-spacing:.12em;flex-shrink:0;
  margin-right:4px;
}
.rpill{
  display:inline-flex;align-items:center;gap:4px;
  padding:5px 12px;border-radius:7px;cursor:pointer;
  font-size:12px;font-weight:600;
  border:1.5px solid var(--border);background:var(--surface2);color:var(--t3);
  transition:all .15s ease;white-space:nowrap;flex-shrink:0;
  -webkit-tap-highlight-color:transparent;
  /* CRITICAL: prevent any layout shift or clipping */
  min-height:30px;
}
.rpill:hover{background:var(--acc3);color:var(--acc);border-color:var(--acc4);}
.rpill.act{
  background:var(--acc3);color:var(--acc);border-color:var(--acc);
  box-shadow:0 1px 8px var(--acc3);
}
.rpill svg{flex-shrink:0;}
.rpill-n{
  font-family:'JetBrains Mono',monospace;font-size:10px;
  background:var(--surface3);border-radius:99px;padding:1px 5px;
  opacity:.75;
}
.rpill.act .rpill-n{background:var(--acc4);}

/*  TOOLBAR  */
.toolbar{padding:12px 22px;display:flex;gap:10px;border-bottom:1px solid var(--border2);}
.search-wrap{flex:1;position:relative;min-width:0;}
.search-ico{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--t4);pointer-events:none;display:flex;}
.search-inp{
  width:100%;background:var(--surface2);border:1.5px solid var(--border);
  border-radius:10px;padding:10px 12px 10px 36px;color:var(--t1);
  font-size:13.5px;outline:none;transition:all .18s;
}
.search-inp:focus{border-color:var(--acc);box-shadow:0 0 0 3px var(--acc3);background:var(--surface);}
.search-inp::placeholder{color:var(--t4);}
.sort-wrap{position:relative;display:flex;align-items:center;flex-shrink:0;}
.sort-ico{position:absolute;left:10px;color:var(--t4);pointer-events:none;display:flex;z-index:1;}
.sort-sel{
  background:var(--surface2);border:1.5px solid var(--border);
  border-radius:10px;padding:10px 12px 10px 34px;color:var(--t2);
  font-size:13px;outline:none;cursor:pointer;
  appearance:none;min-width:180px;transition:border-color .18s;
}
.sort-sel:focus{border-color:var(--acc);}

.result-info{padding:10px 22px 0;display:flex;align-items:center;justify-content:space-between;}
.ri-label{font-size:10.5px;font-weight:800;color:var(--t4);text-transform:uppercase;letter-spacing:.09em;}
.ri-count{font-size:12px;color:var(--t4);}
.ri-count b{color:var(--t2);font-weight:700;}

/*  CARD  */
.card-list{padding:14px 22px 24px;display:flex;flex-direction:column;gap:12px;}
.card{
  background:var(--surface);border:1px solid var(--border);
  border-radius:14px;
  transition:all .2s ease;
  animation:slideIn .35s ease both;
  overflow:hidden;position:relative;
  box-shadow:var(--sh1);
}
.card:hover{box-shadow:var(--sh2);border-color:rgba(79,110,247,.2);transform:translateY(-2px);}
[data-theme="dark"] .card:hover{border-color:rgba(107,140,255,.2);}

/* Status accent border on left */
.card-accent{width:4px;position:absolute;left:0;top:0;bottom:0;border-radius:14px 0 0 14px;}
.ca-ok      {background:linear-gradient(180deg,#22c55e,#16a34a);}
.ca-warning {background:linear-gradient(180deg,#f59e0b,#d97706);}
.ca-critical{background:linear-gradient(180deg,#ef4444,#dc2626);}
.ca-done    {background:linear-gradient(180deg,#a78bfa,#7c3aed);}

.card-body{padding:18px 20px 16px 22px;}
.card-main{display:flex;align-items:flex-start;gap:14px;margin-bottom:12px;}
.card-info{flex:1;min-width:0;}
.card-name{font-size:16.5px;font-weight:800;color:var(--t1);margin-bottom:4px;letter-spacing:-.3px;line-height:1.3;}
.card-name.done{color:var(--t4);text-decoration:line-through;text-decoration-color:var(--dn-c);}
.card-role{
  display:inline-flex;align-items:center;gap:4px;
  margin-bottom:8px;padding:3px 9px;border-radius:5px;
  font-size:10.5px;font-weight:700;letter-spacing:.05em;text-transform:uppercase;
  background:var(--acc3);color:var(--acc);border:1px solid var(--acc4);width:fit-content;
}
.card-meta{display:flex;flex-wrap:wrap;gap:4px;}
.chip{
  display:inline-flex;align-items:center;gap:4px;
  font-size:11.5px;font-weight:500;color:var(--t3);
  background:var(--surface2);border:1px solid var(--border);
  border-radius:6px;padding:3px 8px;white-space:nowrap;
}
.card-side{display:flex;flex-direction:column;align-items:flex-end;gap:8px;flex-shrink:0;}
.status-badge{
  display:inline-flex;align-items:center;gap:5px;
  font-size:11px;font-weight:700;padding:5px 12px;border-radius:99px;
  background:var(--sb-bg);color:var(--sb-c);border:1px solid var(--sb-bdr);
  white-space:nowrap;
}
.sb-dot{width:6px;height:6px;border-radius:50%;background:var(--sb-c);flex-shrink:0;}
.sb-dot.blink{animation:blink 1.5s ease-in-out infinite;}
.countdown{text-align:right;}
.cd-num{font-family:'JetBrains Mono',monospace;font-size:28px;font-weight:600;line-height:1;}
.cd-lbl{font-size:9.5px;color:var(--t4);font-weight:700;text-transform:uppercase;letter-spacing:.08em;margin-top:2px;}
.cd-done{font-family:'JetBrains Mono',monospace;font-size:14px;font-weight:700;}

.hrs-row{display:flex;gap:5px;flex-wrap:wrap;margin-bottom:12px;}
.hchip{display:inline-flex;align-items:center;gap:4px;font-size:11.5px;font-weight:700;padding:4px 10px;border-radius:7px;}
.hc-e{background:var(--ok-bg);color:var(--ok-c);border:1px solid var(--ok-bdr);}
.hc-r{background:var(--acc3);color:var(--acc);border:1px solid var(--acc4);}
.hc-a{background:var(--ab-bg);color:var(--ab-c);border:1px solid var(--ab-bdr);}
.hc-h{background:var(--hf-bg);color:var(--hf-c);border:1px solid var(--hf-bdr);}

.prog-area{margin-bottom:12px;}
.prog-labels{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:7px;}
.prog-txt{font-size:10.5px;color:var(--t4);font-weight:700;letter-spacing:.06em;text-transform:uppercase;}
.prog-pct{font-family:'JetBrains Mono',monospace;font-size:13px;font-weight:600;}
.prog-track{height:7px;background:var(--surface3);border-radius:99px;overflow:hidden;}
.prog-fill{height:100%;border-radius:99px;transition:width 1s ease;}
.pf-ok      {background:linear-gradient(90deg,#16a34a,#22c55e);}
.pf-warning {background:linear-gradient(90deg,#d97706,#f59e0b);}
.pf-critical{background:linear-gradient(90deg,#dc2626,#ef4444);}
.pf-done    {background:linear-gradient(90deg,#7c3aed,#a78bfa);}
.prog-bot{display:flex;justify-content:space-between;margin-top:5px;font-size:10.5px;color:var(--t4);font-family:'JetBrains Mono',monospace;}

.card-foot{
  display:flex;align-items:center;justify-content:space-between;
  padding:11px 20px 11px 22px;border-top:1px solid var(--border2);
  background:var(--surface2);gap:12px;flex-wrap:wrap;
}
.foot-date{font-size:12px;color:var(--t3);display:flex;align-items:center;gap:5px;}
.foot-date b{color:var(--t2);font-weight:700;}
.foot-tags{display:flex;gap:4px;align-items:center;}
.tag-abs{font-size:10.5px;font-weight:700;color:var(--ab-c);background:var(--ab-bg);border:1px solid var(--ab-bdr);border-radius:5px;padding:2px 7px;}
.tag-hf{font-size:10.5px;font-weight:700;color:var(--hf-c);background:var(--hf-bg);border:1px solid var(--hf-bdr);border-radius:5px;padding:2px 7px;}
.foot-actions{display:flex;gap:5px;flex-shrink:0;}

/*  MODALS  */
.overlay{position:fixed;inset:0;z-index:200;background:rgba(0,0,0,.4);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;padding:16px;animation:fadeIn .18s ease;overflow-y:auto;}
[data-theme="dark"] .overlay{background:rgba(0,0,0,.65);}
.modal{background:var(--surface);border:1px solid var(--border);border-radius:20px;width:100%;max-width:460px;box-shadow:var(--sh4);animation:scaleIn .22s ease;flex-shrink:0;overflow:hidden;}
.modal-hd{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 18px;border-bottom:1px solid var(--border2);}
.modal-title{font-size:16.5px;font-weight:800;color:var(--t1);letter-spacing:-.4px;}
.modal-x{width:30px;height:30px;border-radius:8px;background:var(--surface3);border:1px solid var(--border);color:var(--t4);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .15s;}
.modal-x:hover{background:var(--cr-bg);color:var(--cr-c);border-color:var(--cr-bdr);}

.form-body{padding:24px;display:flex;flex-direction:column;gap:18px;}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.form-group{display:flex;flex-direction:column;gap:7px;}
.form-label{font-size:11px;font-weight:800;color:var(--t3);text-transform:uppercase;letter-spacing:.11em;}
.req{color:var(--cr-c);margin-left:2px;}
.form-input{background:var(--surface2);border:1.5px solid var(--border);border-radius:10px;padding:10px 13px;color:var(--t1);font-size:13.5px;outline:none;width:100%;transition:all .18s;}
.form-input:focus{border-color:var(--acc);box-shadow:0 0 0 3px var(--acc3);background:var(--surface);}
.form-input::placeholder{color:var(--t5);font-size:13px;}
.form-hint{font-size:11.5px;color:var(--t4);line-height:1.55;}
.preview-box{background:var(--acc3);border:1.5px solid var(--acc4);border-radius:12px;padding:14px 18px;display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;}
.pv-item{display:flex;flex-direction:column;gap:3px;}
.pv-val{font-family:'JetBrains Mono',monospace;font-size:14px;font-weight:600;color:var(--acc);}
.pv-lbl{font-size:10px;font-weight:800;color:var(--t4);text-transform:uppercase;letter-spacing:.08em;}
.pv-div{width:1px;height:32px;background:var(--acc4);flex-shrink:0;}
.form-ft{display:flex;gap:10px;justify-content:flex-end;padding:16px 24px;border-top:1px solid var(--border2);background:var(--surface2);}
.form-ft .btn{min-width:130px;justify-content:center;}

.del-modal{background:var(--surface);border:1px solid var(--border);border-radius:20px;width:100%;max-width:360px;box-shadow:var(--sh4);animation:scaleIn .22s ease;overflow:hidden;flex-shrink:0;}
.del-body{display:flex;flex-direction:column;align-items:center;padding:32px 24px 20px;text-align:center;gap:12px;}
.del-icon-ring{width:52px;height:52px;border-radius:50%;background:var(--cr-bg);border:2px solid var(--cr-bdr);display:flex;align-items:center;justify-content:center;color:var(--cr-c);}
.del-title{font-size:17px;font-weight:800;color:var(--t1);}
.del-name{font-size:13px;font-weight:700;color:var(--acc);background:var(--acc3);border:1px solid var(--acc4);border-radius:8px;padding:4px 14px;}
.del-desc{font-size:12.5px;color:var(--t3);line-height:1.7;max-width:280px;}
.del-ft{display:flex;gap:10px;padding:14px 20px;border-top:1px solid var(--border2);background:var(--surface2);}
.del-ft .btn{flex:1;justify-content:center;}

.import-modal{background:var(--surface);border:1px solid var(--border);border-radius:20px;width:100%;max-width:520px;box-shadow:var(--sh4);animation:scaleIn .22s ease;flex-shrink:0;overflow:hidden;}
.import-dropzone{border:2px dashed var(--border);border-radius:12px;padding:36px 24px;text-align:center;cursor:pointer;transition:all .18s ease;background:var(--surface2);position:relative;}
.import-dropzone.drag{border-color:var(--acc);background:var(--acc3);}
.import-dropzone:hover{border-color:var(--acc);background:var(--acc3);}
.import-dropzone input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%;}
.idz-icon{width:50px;height:50px;border-radius:14px;background:var(--acc3);border:1px solid var(--acc4);display:flex;align-items:center;justify-content:center;color:var(--acc);margin:0 auto 14px;}
.idz-title{font-size:14.5px;font-weight:800;color:var(--t1);margin-bottom:4px;}
.idz-sub{font-size:12px;color:var(--t4);line-height:1.65;}
.preview-table-wrap{max-height:260px;overflow-y:auto;border:1px solid var(--border);border-radius:11px;margin-top:0;}
.preview-table{width:100%;border-collapse:collapse;font-size:12px;}
.preview-table th{background:var(--surface2);color:var(--t3);font-size:10px;font-weight:800;text-transform:uppercase;letter-spacing:.08em;padding:8px 12px;border-bottom:1px solid var(--border);position:sticky;top:0;text-align:left;white-space:nowrap;}
.preview-table td{padding:7px 12px;border-bottom:1px solid var(--border2);color:var(--t2);white-space:nowrap;}
.preview-table tr:last-child td{border-bottom:none;}
.preview-table tr:hover td{background:var(--surface3);}
.pt-name{font-weight:700;color:var(--t1);}
.pt-role{color:var(--acc);font-size:11px;font-weight:600;}
.import-result{display:flex;align-items:center;gap:7px;padding:10px 13px;border-radius:10px;font-size:12.5px;font-weight:700;}
.ir-ok  {background:var(--ok-bg);color:var(--ok-c);border:1px solid var(--ok-bdr);}
.ir-warn{background:var(--wa-bg);color:var(--wa-c);border:1px solid var(--wa-bdr);}
.ir-err {background:var(--cr-bg);color:var(--cr-c);border:1px solid var(--cr-bdr);}
.template-info{background:var(--surface2);border:1px solid var(--border2);border-radius:10px;padding:11px 14px;font-size:12px;color:var(--t3);line-height:1.7;}
.template-info strong{color:var(--t2);font-weight:700;}
.template-info code{background:var(--acc3);border:1px solid var(--acc4);border-radius:4px;padding:1px 5px;font-size:11px;font-family:'JetBrains Mono',monospace;color:var(--acc);}

/*  CALENDAR  */
.cal-overlay{position:fixed;inset:0;z-index:300;background:rgba(0,0,0,.45);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);display:flex;align-items:flex-start;justify-content:center;padding:20px 16px;animation:fadeIn .18s ease;overflow-y:auto;-webkit-overflow-scrolling:touch;}
[data-theme="dark"] .cal-overlay{background:rgba(0,0,0,.7);}
.cal-box{background:var(--surface);border:1px solid var(--border);border-radius:20px;width:100%;max-width:500px;box-shadow:var(--sh4);animation:scaleIn .24s ease;overflow:hidden;flex-shrink:0;margin:auto;}
.cal-hd{padding:20px 22px 16px;border-bottom:1px solid var(--border2);}
.cal-hdr{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;margin-bottom:14px;}
.cal-trainee{font-size:18px;font-weight:800;color:var(--t1);letter-spacing:-.4px;margin-bottom:3px;}
.cal-range{font-size:11.5px;color:var(--t4);display:flex;align-items:center;gap:5px;}
.cal-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:14px;}
.cstat{background:var(--surface2);border:1px solid var(--border);border-radius:11px;padding:10px 8px;text-align:center;}
.cstat-n{font-family:'JetBrains Mono',monospace;font-size:18px;font-weight:600;line-height:1;}
.cstat-l{font-size:9px;font-weight:700;color:var(--t4);text-transform:uppercase;letter-spacing:.08em;margin-top:4px;}
.cs-earned .cstat-n{color:var(--ok-c);}
.cs-left   .cstat-n{color:var(--acc);}
.cs-abs    .cstat-n{color:var(--ab-c);}
.cs-half   .cstat-n{color:var(--hf-c);}
.cal-progress{background:var(--surface2);border:1px solid var(--border2);border-radius:11px;padding:12px 15px;}
.cp-top{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:7px;}
.cp-lbl{font-size:11.5px;font-weight:600;color:var(--t3);}
.cp-val{font-family:'JetBrains Mono',monospace;font-size:12px;font-weight:500;color:var(--t2);}
.cp-track{height:7px;background:var(--surface3);border-radius:99px;overflow:hidden;}
.cp-fill{height:100%;border-radius:99px;background:linear-gradient(90deg,#16a34a,#22c55e);transition:width .7s ease;}
.cp-fill.done{background:linear-gradient(90deg,#7c3aed,#a78bfa);}
.cal-nav{display:flex;align-items:center;justify-content:space-between;padding:12px 22px 8px;}
.cal-nav-btn{width:34px;height:34px;border-radius:9px;background:var(--surface2);border:1px solid var(--border);color:var(--t2);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .15s;flex-shrink:0;}
.cal-nav-btn:hover{background:var(--surface3);color:var(--t1);border-color:var(--t4);}
.cal-month{font-size:15px;font-weight:800;color:var(--t1);letter-spacing:-.3px;}
.cal-hint-bar{display:flex;align-items:center;gap:6px;padding:4px 22px 8px;font-size:11px;color:var(--t4);}
.cal-hint-bar strong{color:var(--t2);}
.cal-dows{display:grid;grid-template-columns:repeat(7,1fr);padding:0 14px;gap:3px;}
.cal-dow{text-align:center;font-size:10px;font-weight:700;letter-spacing:.04em;padding:4px 0;}
.dow-wd{color:var(--t4);text-transform:uppercase;}
.dow-we{color:var(--cr-c);opacity:.4;text-transform:uppercase;}
.cal-grid{display:grid;grid-template-columns:repeat(7,1fr);padding:4px 14px 14px;gap:4px;}
.cal-day{aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:10px;font-size:12px;font-weight:500;border:1.5px solid transparent;position:relative;transition:all .15s;user-select:none;-webkit-tap-highlight-color:transparent;min-width:0;cursor:default;gap:2px;}
.cday-num{line-height:1;font-weight:700;font-size:12.5px;}
.cday-dot{width:4px;height:4px;border-radius:50%;}
.cday-hrs{font-size:8px;font-weight:700;line-height:1;opacity:.9;}
.d-empty{pointer-events:none;}
.d-out{color:var(--border);pointer-events:none;}
.d-we{color:var(--t5);background:var(--surface2);border-color:transparent;}
.d-worked{background:var(--ok-bg);color:var(--ok-c);border-color:var(--ok-bdr);}
.d-absent{background:var(--cr-bg);color:var(--cr-c);border-color:var(--cr-bdr);font-weight:700;cursor:pointer;}
.d-half{background:var(--hf-bg);color:var(--hf-c);border-color:var(--hf-bdr);font-weight:700;cursor:pointer;}
.d-today{background:var(--acc3);color:var(--acc);border-color:var(--acc);font-weight:800;}
.d-future{background:var(--surface2);color:var(--t5);}
.d-clickable{cursor:pointer;}
.d-clickable:hover{transform:scale(1.12);box-shadow:0 3px 12px rgba(0,0,0,.1);z-index:2;}
.d-saving{opacity:.3;pointer-events:none;}
.cal-legend{display:flex;flex-wrap:wrap;gap:5px 12px;padding:10px 22px;border-top:1px solid var(--border2);background:var(--surface2);}
.leg{display:flex;align-items:center;gap:4px;font-size:10.5px;color:var(--t3);}
.leg-sq{width:11px;height:11px;border-radius:3px;border:1.5px solid transparent;flex-shrink:0;}
.cal-ft{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px 22px;border-top:1px solid var(--border2);background:var(--surface);flex-wrap:wrap;}
.cal-ft-info{font-size:11.5px;color:var(--t4);flex:1;min-width:0;line-height:1.55;}
.saved-txt{font-size:12px;color:var(--ok-c);font-weight:700;}
.saving-txt{font-size:12px;color:var(--t4);}
.half-popup{position:fixed;z-index:400;background:var(--surface);border:1.5px solid var(--border);border-radius:14px;padding:16px 18px;box-shadow:var(--sh4);min-width:220px;animation:scaleIn .18s ease;}
.hp-h{font-size:13.5px;font-weight:800;color:var(--t1);margin-bottom:2px;}
.hp-s{font-size:11px;color:var(--t4);margin-bottom:2px;}
.hp-d{font-size:11.5px;color:var(--acc);font-weight:600;font-family:'JetBrains Mono',monospace;margin-bottom:10px;display:block;}
.hp-row{display:flex;gap:8px;align-items:center;}
.hp-inp{flex:1;background:var(--surface2);border:1.5px solid var(--border);border-radius:9px;padding:9px 10px;color:var(--t1);font-size:14px;outline:none;font-family:'JetBrains Mono',monospace;transition:all .18s;}
.hp-inp:focus{border-color:var(--acc);box-shadow:0 0 0 3px var(--acc3);}
.hp-unit{font-size:12px;color:var(--t4);font-weight:600;flex-shrink:0;}
.hp-warn{font-size:10.5px;color:var(--wa-c);background:var(--wa-bg);border:1px solid var(--wa-bdr);border-radius:7px;padding:5px 10px;margin-top:8px;line-height:1.55;}
.hp-btns{display:flex;gap:7px;margin-top:10px;}
.hp-btns .btn{flex:1;justify-content:center;font-size:12.5px;padding:8px 10px;}

/*  EMPTY  */
.empty-state{text-align:center;padding:64px 24px;border:2px dashed var(--border);border-radius:16px;background:var(--surface);animation:fadeIn .3s ease;}
.empty-ico{color:var(--t5);margin-bottom:16px;display:flex;justify-content:center;}
.empty-title{font-size:17px;font-weight:800;color:var(--t2);margin-bottom:8px;letter-spacing:-.3px;}
.empty-desc{font-size:13px;color:var(--t4);margin-bottom:22px;max-width:280px;margin-left:auto;margin-right:auto;line-height:1.8;}

/*  SKELETON  */
.skel-list{display:flex;flex-direction:column;gap:12px;padding:14px 22px 24px;}
.skel-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:20px;}
.skel-line{background:var(--surface3);border-radius:7px;position:relative;overflow:hidden;}
.skel-line::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.12),transparent);animation:shimmer 1.6s ease-in-out infinite;}
[data-theme="dark"] .skel-line::after{background:linear-gradient(90deg,transparent,rgba(255,255,255,.04),transparent);}

/*  RESPONSIVE  */
@media (max-width:768px) {
  .nav-inner{padding:0 16px;height:58px;}
  .nav-tagline{display:none;}
  .nav-btn-label{display:none;}
  .clock-chip{display:none;}
  .page{padding:16px 0 80px;}
  .hero{grid-template-columns:repeat(2,1fr);gap:8px;padding:0 16px;margin-bottom:16px;}
  .stat-card{padding:14px;}
  .sc-num{font-size:26px;}
  .panel{border-radius:14px;margin-bottom:14px;}
  .filter-bar{padding:8px 16px;}
  .role-bar{padding:8px 16px;}
  .toolbar{padding:8px 16px;flex-direction:column;gap:7px;}
  .sort-sel,.sort-wrap{width:100%;}
  .result-info{padding:8px 16px 0;}
  .card-list{padding:10px 16px 20px;gap:10px;}
  .card-body{padding:14px 14px 12px 16px;}
  .card-main{flex-direction:column;gap:10px;}
  .card-side{flex-direction:row;align-items:center;justify-content:space-between;width:100%;}
  .countdown{text-align:left;}
  .cd-num{font-size:24px;}
  .card-foot{flex-direction:column;align-items:flex-start;gap:8px;padding:10px 14px 10px 16px;}
  .foot-actions{width:100%;display:flex;}
  .btn-sm,.btn-danger-ghost{flex:1;justify-content:center;}
  .form-row{grid-template-columns:1fr;}
  .form-body{padding:18px 18px 8px;}
  .form-ft{padding:14px 18px;}
  .modal-hd{padding:18px 18px 15px;}
  .cal-stats{grid-template-columns:repeat(2,1fr);}
  .cal-hd{padding:16px 16px 13px;}
  .cal-nav{padding:10px 16px 6px;}
  .cal-dows,.cal-grid{padding-left:8px;padding-right:8px;}
  .cal-legend{padding:8px 16px;}
  .cal-ft{padding:10px 16px;}
  .cal-hint-bar{padding:3px 16px 6px;}
  .half-popup{left:50%!important;transform:translateX(-50%);min-width:200px;}
  .empty-state{margin:0 16px;}
}
@media (max-width:480px) {
  .hero{grid-template-columns:repeat(2,1fr);}
  .cal-stats{grid-template-columns:repeat(2,1fr);}
  .cal-day{border-radius:8px;}
  .cday-num{font-size:11px;}
  .modal{border-radius:16px;max-width:100%;}
  .del-modal{border-radius:16px;max-width:100%;}
  .cal-box{border-radius:16px;}
}
@media (min-width:1024px) {
  .card-body{padding:20px 24px 18px 24px;}
  .card-foot{padding:12px 24px;}
  .card-list{padding:16px 24px 28px;}
  .filter-bar,.toolbar,.result-info,.role-bar,.panel-hd{padding-left:24px;padding-right:24px;}
}
`;let Po=null;function id(){return Po||(Po=new Promise((t,e)=>{if(window.XLSX){t(window.XLSX);return}const n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js",n.onload=()=>t(window.XLSX),n.onerror=()=>e(new Error("Failed to load SheetJS")),document.head.appendChild(n)}),Po)}function WT(t){if(t==null||t==="")return null;if(t instanceof Date){if(isNaN(t.getTime()))return null;const r=new Date(t);return r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r.toISOString().split("T")[0]}if(typeof t=="number"){if(t<1)return null;const r=new Date(Math.round((t-25569)*86400*1e3));return r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r.toISOString().split("T")[0]}const e=String(t).trim();if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const n=new Date(e);return isNaN(n.getTime())?null:n.toISOString().split("T")[0]}function qT(t){const e={};return Object.keys(t).forEach(n=>{const r=n.trim(),i=r.toLowerCase().replace(/[^a-z]/g,"");if(r==="Full Name"){e.name=t[n];return}else if(r==="Email"){e.email=t[n];return}else if(r==="Role / Department"){e.role=t[n];return}else if(r==="Start Date"){e.startDate=t[n];return}else if(r==="Required Hours"){e.hours=t[n];return}else if(r==="Hours Per Day"){e.hoursPerDay=t[n];return}/hoursperd|perday|dailyhour/.test(i)?e.hoursPerDay=t[n]:/requiredhour|totalhour/.test(i)||/^hours$/.test(i)?e.hours=t[n]:/fullname/.test(i)||/^name$/.test(i)?e.name=t[n]:/email/.test(i)?e.email=t[n]:/roledept|roledepartment|department|dept|position/.test(i)||/^role$/.test(i)?e.role=t[n]:(/startdate|datestart/.test(i)||/^start$/.test(i))&&(e.startDate=t[n])}),e}async function KT(t){const e=await id(),n=t.map(s=>{const a=xt(s),l=s.absences||{},u=Object.values(l).filter(p=>p==="full").length,h=Object.values(l).filter(p=>p!=="full"&&p!==null&&p!==void 0).length;return{"Full Name":s.name,Email:s.email||"","Role / Department":s.role||"","Start Date":s.startDate,"Required Hours":Number(s.hours),"Hours Per Day":Number(s.hoursPerDay)||8,"Estimated End Date":a.displayEnd,"Hours Earned":a.hoursEarned,"Hours Remaining":a.hoursRemaining,"Progress (%)":a.pct,"Days Worked":a.daysWorked,Absences:u,"Half Days":h,Status:a.urgency==="ok"?"On Track":a.urgency==="warning"?"Keep Going":a.urgency==="critical"?"Almost There":"Completed"}}),r=e.utils.json_to_sheet(n);r["!cols"]=[{wch:22},{wch:26},{wch:22},{wch:14},{wch:16},{wch:14},{wch:20},{wch:14},{wch:16},{wch:14},{wch:13},{wch:11},{wch:11},{wch:14}];const i=e.utils.book_new();e.utils.book_append_sheet(i,r,"OJT Trainees"),e.writeFile(i,"OJT_Trainees_Export.xlsx")}async function QT(){const t=await id(),e=[{"Full Name":"Juan dela Cruz",Email:"juan@example.com","Role / Department":"Software Developer","Start Date":"2025-01-06","Required Hours":600,"Hours Per Day":8},{"Full Name":"Maria Santos",Email:"maria@example.com","Role / Department":"Graphic Design","Start Date":"2025-02-03","Required Hours":500,"Hours Per Day":5}],n=t.utils.json_to_sheet(e);n["!cols"]=[{wch:22},{wch:26},{wch:22},{wch:14},{wch:16},{wch:14}];const r=t.utils.book_new();t.utils.book_append_sheet(r,n,"Trainees"),t.writeFile(r,"OJT_Import_Template.xlsx")}async function GT(t){const e=await id(),n=await t.arrayBuffer(),r=e.read(n,{type:"array",cellDates:!0}),s=["OJT Trainees","Trainees"].find(h=>r.SheetNames.includes(h))||r.SheetNames.find(h=>h!=="Import Template")||r.SheetNames[0],a=r.Sheets[s],l=e.utils.sheet_to_json(a,{defval:null}),u={valid:[],errors:[]};return l.forEach((h,p)=>{const g=qT(h),_=p+2,I=String(g.name??"").trim(),C=String(g.email??"").trim(),P=g.role,V=P==null||String(P).toLowerCase()==="null"?"":String(P).trim(),k=Number(g.hours),v=Number(g.hoursPerDay)||8,S=WT(g.startDate),D=[];if(I||D.push("Missing name"),S||D.push("Invalid or missing start date"),(!k||k<=0)&&D.push("Invalid required hours"),D.length>0)u.errors.push({row:_,name:I||`Row ${_}`,reasons:D});else{const F=rd(S,Math.ceil(k/v));u.valid.push({name:I,email:C,role:V,startDate:S,endDate:F,hours:String(k),hoursPerDay:String(v),absences:{}})}}),u}function XT({pct:t,urgency:e}){const n=X.useRef(null);return X.useEffect(()=>{if(!n.current)return;n.current.style.width="0%";const r=setTimeout(()=>{n.current&&(n.current.style.width=t+"%")},80);return()=>clearTimeout(r)},[t]),f.jsx("div",{className:"prog-track",children:f.jsx("div",{ref:n,className:`prog-fill pf-${e}`})})}function YT(){const{time:t,ampm:e,day:n,date:r}=BT();return f.jsxs("div",{className:"clock-chip",children:[f.jsx("div",{className:"clock-dot"}),f.jsxs("div",{children:[f.jsx("div",{className:"clock-time",children:t}),f.jsxs("div",{className:"clock-sub",children:[e,"  PHT"]})]}),f.jsx("div",{className:"clock-sep"}),f.jsxs("div",{children:[f.jsx("div",{className:"clock-day",children:n}),f.jsx("div",{className:"clock-date",children:r})]})]})}function JT({delay:t=0}){return f.jsxs("div",{className:"skel-card",style:{animationDelay:`${t}s`},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:14},children:[f.jsxs("div",{children:[f.jsx("div",{className:"skel-line",style:{width:180,height:14,marginBottom:10}}),f.jsx("div",{className:"skel-line",style:{width:260,height:9}})]}),f.jsx("div",{className:"skel-line",style:{width:70,height:34,borderRadius:99}})]}),f.jsx("div",{style:{display:"flex",gap:5,marginBottom:12},children:[80,90,70].map((e,n)=>f.jsx("div",{className:"skel-line",style:{width:e,height:25,borderRadius:7}},n))}),f.jsx("div",{className:"skel-line",style:{width:"100%",height:7,borderRadius:99,marginBottom:6}}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("div",{className:"skel-line",style:{width:"28%",height:9}}),f.jsx("div",{className:"skel-line",style:{width:"18%",height:9}})]})]})}const ZT=[{key:"all",label:"All Trainees"},{key:"ok",label:"On Track"},{key:"warning",label:"Keep Going"},{key:"critical",label:"Almost There"},{key:"done",label:"Graduated"}],ek={all:{c:"#4f6ef7",bg:"rgba(79,110,247,.1)",sh:"rgba(79,110,247,.15)"},ok:{c:"#16a34a",bg:"rgba(22,163,74,.1)",sh:"rgba(22,163,74,.15)"},warning:{c:"#d97706",bg:"rgba(217,119,6,.1)",sh:"rgba(217,119,6,.15)"},critical:{c:"#dc2626",bg:"rgba(220,38,38,.1)",sh:"rgba(220,38,38,.15)"},done:{c:"#7c3aed",bg:"rgba(124,58,237,.1)",sh:"rgba(124,58,237,.15)"}},tk=[{key:"all",label:"Total Trainees",sub:"registered & active",color1:"#4f6ef7",icon:f.jsx(ee.Users,{})},{key:"ok",label:"On Track",sub:"ahead of schedule",color1:"#16a34a",icon:f.jsx(ee.Star,{})},{key:"critical",label:"Almost There",sub:"needs a strong push",color1:"#dc2626",icon:f.jsx(ee.Rocket,{})},{key:"done",label:"Graduated",sub:"completed their OJT",color1:"#7c3aed",icon:f.jsx(ee.Trophy,{})}];function nk({counts:t}){return f.jsx("div",{className:"hero",children:tk.map((e,n)=>f.jsxs("div",{className:"stat-card",style:{"--sc-c1":e.color1,animationDelay:`${n*.07}s`},children:[f.jsx("div",{className:"sc-label",style:{color:e.color1},children:e.label}),f.jsx("div",{className:"sc-num",style:{color:e.color1},children:t[e.key]||0}),f.jsx("div",{className:"sc-sub",children:e.sub}),f.jsx("div",{className:"sc-icon",style:{color:e.color1},children:e.icon})]},e.key))})}function rk({trainee:t,onClose:e}){const n=nd(),r=t.absences||{},i=Number(t.hoursPerDay)||8,s=Number(t.hours)||0,[a,l]=X.useState(!1),[u,h]=X.useState(!1),[p,g]=X.useState(()=>parseInt(t.startDate.slice(0,4))),[_,I]=X.useState(()=>parseInt(t.startDate.slice(5,7))-1),[C,P]=X.useState(null),[V,k]=X.useState("");X.useEffect(()=>{const j=q=>{q.key==="Escape"&&(C?P(null):e())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[e,C]);const v=xt(t),S=X.useCallback(async j=>{const q=xt({...t,absences:j});l(!0),h(!1);try{await Xv(ba(Br,"trainees",t.id),{absences:j,endDate:q.displayEnd}),h(!0),setTimeout(()=>h(!1),2500)}catch(ie){console.error(ie)}l(!1)},[t]),D=(j,q)=>{const ie=r[j];if(ie==null)S({...r,[j]:"full"});else if(ie==="full"){const te=q.currentTarget.getBoundingClientRect();k("");const ce=Math.max(8,Math.min(te.left,window.innerWidth-250)),Re=Math.min(te.bottom+8,window.innerHeight-240);P({date:j,x:ce,y:Re})}else{const te={...r};delete te[j],S(te)}},F=parseFloat(V),U=!isNaN(F)&&F>0,x=()=>{!C||!U||(S({...r,[C.date]:Math.min(F,i)}),P(null))},y=()=>_===0?(I(11),g(j=>j-1)):I(j=>j-1),w=()=>_===11?(I(0),g(j=>j+1)):I(j=>j+1),T=new Date(p,_,1).getDay(),A=new Date(p,_+1,0).getDate(),R=[];for(let j=0;j<T;j++)R.push(null);for(let j=1;j<=A;j++){const q=`${p}-${String(_+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`,ie=new Date(q+"T12:00:00").getDay(),te=ie===0||ie===6,ce=q>=t.startDate&&q<=v.displayEnd,Re=r[q],it=q<n,yt=q===n,vt=ce&&!te&&it;let Zt="out";ce&&(te?Zt="we":Re==="full"?Zt="absent":Re!=null?Zt="half":yt?Zt="today":it?Zt="worked":Zt="future"),R.push({d:j,ds:q,state:Zt,clickable:vt,rec:Re})}const E=["January","February","March","April","May","June","July","August","September","October","November","December"],Ce={worked:"var(--ok-c)",absent:"var(--cr-c)",half:"var(--hf-c)",today:"var(--acc)",future:"var(--t5)"},rt=Object.values(r).filter(j=>j==="full").length,$=Object.values(r).filter(j=>j!=="full"&&j!==null&&j!==void 0).length,Z=s>0?Math.min(100,Math.round(v.hoursEarned/s*100)):0,z=v.hoursRemaining<=0;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"cal-overlay",onClick:()=>!C&&e(),children:f.jsxs("div",{className:"cal-box",onClick:j=>j.stopPropagation(),children:[f.jsxs("div",{className:"cal-hd",children:[f.jsxs("div",{className:"cal-hdr",children:[f.jsxs("div",{children:[f.jsx("div",{className:"cal-trainee",children:t.name}),f.jsxs("div",{className:"cal-range",children:[f.jsx(ee.Cal,{})," ",Ds(t.startDate),"  ",Ds(v.displayEnd)]})]}),f.jsx("button",{className:"modal-x",onClick:e,children:f.jsx(ee.X,{})})]}),f.jsxs("div",{className:"cal-stats",children:[f.jsxs("div",{className:"cstat cs-earned",children:[f.jsx("div",{className:"cstat-n",children:v.hoursEarned.toFixed(1)}),f.jsx("div",{className:"cstat-l",children:"Earned hrs"})]}),f.jsxs("div",{className:"cstat cs-left",children:[f.jsx("div",{className:"cstat-n",children:v.hoursRemaining.toFixed(1)}),f.jsx("div",{className:"cstat-l",children:"Remaining"})]}),f.jsxs("div",{className:"cstat cs-abs",children:[f.jsx("div",{className:"cstat-n",children:rt}),f.jsx("div",{className:"cstat-l",children:"Absences"})]}),f.jsxs("div",{className:"cstat cs-half",children:[f.jsx("div",{className:"cstat-n",children:$}),f.jsx("div",{className:"cstat-l",children:"Half Days"})]})]}),f.jsxs("div",{className:"cal-progress",children:[f.jsxs("div",{className:"cp-top",children:[f.jsx("span",{className:"cp-lbl",children:"Overall Progress"}),f.jsxs("span",{className:"cp-val",children:[v.hoursEarned.toFixed(1)," / ",s," hrs  ",Z,"%"]})]}),f.jsx("div",{className:"cp-track",children:f.jsx("div",{className:`cp-fill${z?" done":""}`,style:{width:`${Z}%`}})})]})]}),f.jsxs("div",{className:"cal-nav",children:[f.jsx("button",{className:"cal-nav-btn",onClick:y,children:f.jsx(ee.ChevL,{})}),f.jsxs("span",{className:"cal-month",children:[E[_]," ",p]}),f.jsx("button",{className:"cal-nav-btn",onClick:w,children:f.jsx(ee.ChevR,{})})]}),f.jsxs("div",{className:"cal-hint-bar",children:[f.jsx(ee.Info,{}),"Tap a workday: ",f.jsx("strong",{children:"1 Absent"}),"  ",f.jsx("strong",{children:"2 Half-day"}),"  ",f.jsx("strong",{children:"3 Clear"})]}),f.jsx("div",{className:"cal-dows",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map((j,q)=>f.jsx("div",{className:`cal-dow ${q===0||q===6?"dow-we":"dow-wd"}`,children:j},j))}),f.jsx("div",{className:"cal-grid",children:R.map((j,q)=>{if(!j)return f.jsx("div",{className:"cal-day d-empty"},`e${q}`);const{d:ie,ds:te,state:ce,clickable:Re,rec:it}=j,yt=["cal-day",`d-${ce}`,Re&&"d-clickable",a&&Re&&"d-saving"].filter(Boolean).join(" ");return f.jsxs("div",{className:yt,onClick:Re&&!a?vt=>D(te,vt):void 0,children:[f.jsx("span",{className:"cday-num",children:ie}),ce==="half"&&it!=null&&f.jsxs("span",{className:"cday-hrs",children:[Number(it),"h"]}),Ce[ce]&&f.jsx("span",{className:"cday-dot",style:{background:Ce[ce]}})]},te)})}),f.jsx("div",{className:"cal-legend",children:[{label:"Present",bg:"var(--ok-bg)",bdr:"var(--ok-bdr)"},{label:"Absent",bg:"var(--cr-bg)",bdr:"var(--cr-bdr)"},{label:"Half Day",bg:"var(--hf-bg)",bdr:"var(--hf-bdr)"},{label:"Today",bg:"var(--acc3)",bdr:"var(--acc4)"},{label:"Upcoming",bg:"var(--surface2)",bdr:"var(--border2)"},{label:"Weekend",bg:"var(--surface2)",bdr:"transparent"}].map(j=>f.jsxs("div",{className:"leg",children:[f.jsx("div",{className:"leg-sq",style:{background:j.bg,borderColor:j.bdr}}),j.label]},j.label))}),f.jsxs("div",{className:"cal-ft",children:[f.jsx("div",{className:"cal-ft-info",children:rt===0&&$===0?"Tap any past weekday within the OJT range to record attendance.":`${rt} absent  ${$} half day${$!==1?"s":""}  end date auto-updated.`}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexShrink:0},children:[u&&f.jsx("span",{className:"saved-txt",children:" Saved!"}),a&&f.jsx("span",{className:"saving-txt",children:"Saving"}),f.jsx("button",{className:"btn btn-ghost",style:{padding:"7px 14px",fontSize:12.5},onClick:e,children:"Close"})]})]})]})}),C&&f.jsxs("div",{className:"half-popup",style:{top:C.y,left:C.x},onClick:j=>j.stopPropagation(),children:[f.jsx("div",{className:"hp-h",children:"Log Half-Day Hours"}),f.jsxs("div",{className:"hp-s",children:["Full day = ",i," hrs. How many hours were worked?"]}),f.jsx("span",{className:"hp-d",children:C.date}),f.jsxs("div",{className:"hp-row",children:[f.jsx("input",{className:"hp-inp",type:"number",min:"0.5",max:i,step:"0.5",value:V,onChange:j=>k(j.target.value),placeholder:`0.5  ${i-.5}`,autoFocus:!0,onKeyDown:j=>{j.key==="Enter"&&x(),j.key==="Escape"&&P(null)}}),f.jsx("span",{className:"hp-unit",children:"hrs"})]}),U&&F>=i&&f.jsx("div",{className:"hp-warn",children:" Equals full day  counted as present."}),U&&F<1&&f.jsxs("div",{className:"hp-warn",children:[" Very low  full day is ",i," hrs."]}),f.jsxs("div",{className:"hp-btns",children:[f.jsx("button",{className:"btn btn-ghost",onClick:()=>P(null),children:"Cancel"}),f.jsxs("button",{className:"btn btn-primary",disabled:!U,onClick:x,children:[f.jsx(ee.Check,{})," Save"]})]})]})]})}function ik({onImport:t,onCancel:e}){var P,V,k;const[n,r]=X.useState(!1),[i,s]=X.useState(!1),[a,l]=X.useState(null),[u,h]=X.useState(!1),[p,g]=X.useState(!1);X.useEffect(()=>{const v=S=>S.key==="Escape"&&e();return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[e]);const _=async v=>{if(v){s(!0),l(null);try{const S=await GT(v);l(S)}catch(S){l({valid:[],errors:[{row:"",name:"File Error",reasons:[S.message]}]})}s(!1)}},I=v=>{var D;v.preventDefault(),r(!1);const S=(D=v.dataTransfer.files)==null?void 0:D[0];S&&_(S)},C=async()=>{var v;if((v=a==null?void 0:a.valid)!=null&&v.length){h(!0);try{for(const S of a.valid)await Yv(Ic(Br,"trainees"),S);g(!0),setTimeout(()=>t(),1200)}catch(S){console.error(S)}h(!1)}};return f.jsx("div",{className:"overlay",onClick:e,children:f.jsxs("div",{className:"import-modal",onClick:v=>v.stopPropagation(),children:[f.jsxs("div",{className:"modal-hd",children:[f.jsx("span",{className:"modal-title",children:"Import Trainees from Excel"}),f.jsx("button",{className:"modal-x",onClick:e,children:f.jsx(ee.X,{})})]}),f.jsxs("div",{className:"form-body",style:{gap:16},children:[f.jsxs("div",{className:"template-info",children:[f.jsx("strong",{children:"Required columns:"})," ",f.jsx("code",{children:"Full Name"}),", ",f.jsx("code",{children:"Email"}),","," ",f.jsx("code",{children:"Role / Department"}),", ",f.jsx("code",{children:"Start Date"}),", ",f.jsx("code",{children:"Required Hours"}),","," ",f.jsx("code",{children:"Hours Per Day"})," (optional, defaults to 8)."," ",f.jsx("button",{style:{background:"none",border:"none",color:"var(--acc)",cursor:"pointer",fontWeight:700,fontSize:12,padding:0,fontFamily:"inherit",textDecoration:"underline"},onClick:QT,children:"Download template"})]}),!a&&f.jsxs("div",{className:`import-dropzone${n?" drag":""}`,onDragOver:v=>{v.preventDefault(),r(!0)},onDragLeave:()=>r(!1),onDrop:I,children:[f.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:v=>{var S;return _((S=v.target.files)==null?void 0:S[0])}}),f.jsx("div",{className:"idz-icon",children:f.jsx(ee.Sheet,{})}),f.jsx("div",{className:"idz-title",children:i?"Parsing file":"Drop your Excel file here"}),f.jsx("div",{className:"idz-sub",children:i?"Please wait while we read your spreadsheet.":"or click to browse  supports .xlsx, .xls, .csv"})]}),a&&f.jsxs(f.Fragment,{children:[a.valid.length>0&&f.jsxs("div",{className:`import-result ${a.errors.length>0?"ir-warn":"ir-ok"}`,children:[f.jsx(ee.Check,{}),a.valid.length," trainee",a.valid.length!==1?"s":""," ready to import",a.errors.length>0&&`  ${a.errors.length} row${a.errors.length!==1?"s":""} skipped`]}),a.valid.length===0&&f.jsxs("div",{className:"import-result ir-err",children:[f.jsx(ee.AlertTri,{})," No valid rows found  check your file and column headers."]}),a.valid.length>0&&f.jsx("div",{className:"preview-table-wrap",children:f.jsxs("table",{className:"preview-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Name"}),f.jsx("th",{children:"Role"}),f.jsx("th",{children:"Start"}),f.jsx("th",{children:"Hrs"}),f.jsx("th",{children:"Est. End"})]})}),f.jsx("tbody",{children:a.valid.map((v,S)=>f.jsxs("tr",{children:[f.jsxs("td",{children:[f.jsx("div",{className:"pt-name",children:v.name}),v.email&&f.jsx("div",{style:{fontSize:10.5,color:"var(--t4)"},children:v.email})]}),f.jsx("td",{className:"pt-role",children:v.role||f.jsx("span",{style:{color:"var(--t5)"},children:""})}),f.jsx("td",{style:{fontFamily:"'JetBrains Mono',monospace",fontSize:11},children:v.startDate}),f.jsx("td",{style:{fontFamily:"'JetBrains Mono',monospace",fontSize:11},children:v.hours}),f.jsx("td",{style:{fontFamily:"'JetBrains Mono',monospace",fontSize:11,color:"var(--acc)"},children:v.endDate})]},S))})]})}),a.errors.length>0&&f.jsxs("details",{style:{fontSize:12,color:"var(--cr-c)"},children:[f.jsxs("summary",{style:{cursor:"pointer",fontWeight:600,marginBottom:6},children:[a.errors.length," skipped row",a.errors.length!==1?"s":""]}),a.errors.map((v,S)=>f.jsxs("div",{style:{padding:"3px 0",color:"var(--t3)"},children:["Row ",v.row,"  ",f.jsx("b",{style:{color:"var(--t2)"},children:v.name}),"  ",v.reasons.join(", ")]},S))]}),f.jsx("button",{className:"btn btn-ghost",style:{fontSize:12.5,padding:"7px 13px",alignSelf:"flex-start"},onClick:()=>{l(null),g(!1)},children:"Choose a different file"})]})]}),f.jsxs("div",{className:"form-ft",children:[f.jsx("button",{className:"btn btn-ghost",onClick:e,children:"Cancel"}),f.jsx("button",{className:"btn btn-primary",disabled:!((P=a==null?void 0:a.valid)!=null&&P.length)||u||p,onClick:C,style:{minWidth:160,justifyContent:"center"},children:p?f.jsxs(f.Fragment,{children:[f.jsx(ee.Check,{})," Imported!"]}):u?"Importing":f.jsxs(f.Fragment,{children:[f.jsx(ee.Upload,{})," Import ",((V=a==null?void 0:a.valid)==null?void 0:V.length)||""," Trainee",((k=a==null?void 0:a.valid)==null?void 0:k.length)!==1?"s":""]})})]})]})})}function sk({name:t,onConfirm:e,onCancel:n}){return X.useEffect(()=>{const r=i=>i.key==="Escape"&&n();return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[n]),f.jsx("div",{className:"overlay",onClick:n,children:f.jsxs("div",{className:"del-modal",onClick:r=>r.stopPropagation(),children:[f.jsxs("div",{className:"del-body",children:[f.jsx("div",{className:"del-icon-ring",children:f.jsx(ee.Trash,{})}),f.jsx("div",{className:"del-title",children:"Remove Trainee?"}),f.jsx("div",{className:"del-name",children:t}),f.jsx("div",{className:"del-desc",children:"This will permanently delete this trainee and all their attendance data. This action cannot be undone."})]}),f.jsxs("div",{className:"del-ft",children:[f.jsx("button",{className:"btn btn-ghost",onClick:n,children:"Keep Trainee"}),f.jsxs("button",{className:"btn btn-danger",onClick:e,children:[f.jsx(ee.Trash,{})," Yes, Remove"]})]})]})})}function ok({t,onEdit:e,onDelete:n,onCalendar:r,idx:i}){const s=xt(t),{urgency:a,pct:l,wdLeft:u,hoursEarned:h,hoursRemaining:p,daysWorked:g,daysRemaining:_}=s,I=$T[a],C=t.absences||{},P=Object.values(C).filter(k=>k==="full").length,V=Object.values(C).filter(k=>k!=="full"&&k!==null&&k!==void 0).length;return f.jsxs("div",{className:"card",style:{animationDelay:`${i*.05}s`},children:[f.jsx("div",{className:`card-accent ca-${a}`}),f.jsxs("div",{className:"card-body",children:[f.jsxs("div",{className:"card-main",children:[f.jsxs("div",{className:"card-info",children:[f.jsx("div",{className:`card-name${a==="done"?" done":""}`,children:t.name}),t.role&&f.jsxs("div",{className:"card-role",children:[f.jsx(ee.Tag,{}),t.role]}),f.jsxs("div",{className:"card-meta",children:[f.jsxs("span",{className:"chip",children:[f.jsx(ee.Cal,{}),"",UT(t.startDate),"  ",Ds(s.displayEnd)]}),f.jsxs("span",{className:"chip",children:[f.jsx(ee.Clock,{}),"",t.hours," hrs  ",t.hoursPerDay||8," hrs/day"]}),f.jsxs("span",{className:"chip",children:[f.jsx(ee.Brief,{}),"",Jv(t.startDate,s.displayEnd)," workdays"]})]})]}),f.jsxs("div",{className:"card-side",children:[f.jsxs("div",{className:"status-badge",style:{"--sb-bg":I.bg,"--sb-c":I.color,"--sb-bdr":I.bdr},children:[f.jsx("span",{className:`sb-dot${a==="critical"?" blink":""}`}),I.label]}),f.jsx("div",{className:"countdown",children:u<=0?f.jsx("div",{className:"cd-done",style:{color:I.color},children:" Done!"}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"cd-num",style:{color:I.color},children:u}),f.jsx("div",{className:"cd-lbl",children:"days left"})]})})]})]}),f.jsxs("div",{className:"hrs-row",children:[f.jsxs("span",{className:"hchip hc-e",children:[f.jsx(ee.Check,{}),"",h.toFixed(1)," hrs earned"]}),f.jsxs("span",{className:"hchip hc-r",children:[f.jsx(ee.Clock,{}),"",p.toFixed(1)," remaining"]}),P>0&&f.jsxs("span",{className:"hchip hc-a",children:[P," absent"]}),V>0&&f.jsxs("span",{className:"hchip hc-h",children:[V," half-day",V>1?"s":""]})]}),f.jsxs("div",{className:"prog-area",children:[f.jsxs("div",{className:"prog-labels",children:[f.jsx("span",{className:"prog-txt",children:"OJT Progress"}),f.jsxs("span",{className:"prog-pct",style:{color:I.color},children:[l,"%"]})]}),f.jsx(XT,{pct:l,urgency:a}),f.jsxs("div",{className:"prog-bot",children:[f.jsxs("span",{children:[g," days present"]}),f.jsxs("span",{children:[Math.max(0,_)," workdays left"]})]})]})]}),f.jsxs("div",{className:"card-foot",children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[f.jsxs("div",{className:"foot-date",children:["Estimated end: ",f.jsx("b",{children:Ds(s.displayEnd)})]}),f.jsxs("div",{className:"foot-tags",children:[P>0&&f.jsxs("span",{className:"tag-abs",children:[P," absent"]}),V>0&&f.jsxs("span",{className:"tag-hf",children:[V," half"]})]})]}),f.jsxs("div",{className:"foot-actions",children:[f.jsxs("button",{className:"btn btn-sm",onClick:()=>r(t),children:[f.jsx(ee.Cal,{}),"Attendance"]}),f.jsxs("button",{className:"btn btn-sm",onClick:()=>e(t),children:[f.jsx(ee.Edit,{}),"Edit"]}),f.jsxs("button",{className:"btn btn-danger-ghost",onClick:()=>n(t.id,t.name),children:[f.jsx(ee.Trash,{}),"Remove"]})]})]})]})}function um({initial:t,onSave:e,onCancel:n}){const[r,i]=X.useState(t||{name:"",role:"",startDate:nd(),hours:"",hoursPerDay:"8"}),s=(p,g)=>i(_=>({..._,[p]:g})),a=!!t,l=X.useMemo(()=>{const p=Number(r.hours),g=Number(r.hoursPerDay)||8;if(!r.startDate||!p||p<=0||g<=0)return null;const _=Math.ceil(p/g),I=rd(r.startDate,_);return{days:_,endDate:I}},[r.startDate,r.hours,r.hoursPerDay]),u=r.name.trim()&&r.startDate&&Number(r.hours)>0&&l,h=()=>{u&&e({name:r.name.trim(),role:r.role.trim(),startDate:r.startDate,endDate:l.endDate,hours:r.hours,hoursPerDay:r.hoursPerDay||"8",absences:(t==null?void 0:t.absences)||{}})};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"form-body",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"form-label",children:["Full Name ",f.jsx("span",{className:"req",children:"*"})]}),f.jsx("input",{className:"form-input",value:r.name,onChange:p=>s("name",p.target.value),placeholder:"e.g. Juan dela Cruz",autoFocus:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Role / Department"}),f.jsx("input",{className:"form-input",value:r.role,onChange:p=>s("role",p.target.value),placeholder:"e.g. Software Developer, IT Support, Graphic Design"}),f.jsx("span",{className:"form-hint",children:"The trainee's assigned role or department in the organization."})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"form-label",children:["Start Date ",f.jsx("span",{className:"req",children:"*"})]}),f.jsx("input",{className:"form-input",type:"date",value:r.startDate,onChange:p=>s("startDate",p.target.value)}),f.jsx("span",{className:"form-hint",children:"Weekends are automatically skipped in all calculations."})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"form-label",children:["Required Hours ",f.jsx("span",{className:"req",children:"*"})]}),f.jsx("input",{className:"form-input",type:"number",min:"1",value:r.hours,onChange:p=>s("hours",p.target.value),placeholder:"e.g. 600"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Hours Per Day"}),f.jsx("input",{className:"form-input",type:"number",min:"1",max:"24",value:r.hoursPerDay,onChange:p=>s("hoursPerDay",p.target.value),placeholder:"8"})]})]}),l?f.jsxs("div",{className:"preview-box",children:[f.jsxs("div",{className:"pv-item",children:[f.jsx("span",{className:"pv-val",children:l.days}),f.jsx("span",{className:"pv-lbl",children:"Working Days"})]}),f.jsx("div",{className:"pv-div"}),f.jsxs("div",{className:"pv-item",children:[f.jsx("span",{className:"pv-val",children:Ds(l.endDate)}),f.jsx("span",{className:"pv-lbl",children:"Estimated End"})]}),f.jsx("div",{className:"pv-div"}),f.jsxs("div",{className:"pv-item",children:[f.jsx("span",{className:"pv-val",style:{fontSize:11,color:"var(--t4)"},children:"Attendance"}),f.jsx("span",{className:"pv-lbl",children:"log absences later"})]})]}):f.jsx("div",{style:{fontSize:12.5,color:"var(--t4)",padding:"14px",background:"var(--surface2)",borderRadius:9,border:"1.5px dashed var(--border)",textAlign:"center",lineHeight:1.8},children:"Fill in the start date & required hours to preview the schedule."})]}),f.jsxs("div",{className:"form-ft",children:[f.jsx("button",{className:"btn btn-ghost",onClick:n,children:"Cancel"}),f.jsxs("button",{className:"btn btn-primary",disabled:!u,onClick:h,children:[f.jsx(ee.Check,{})," ",a?"Save Changes":"Add Trainee"]})]})]})}function cm({title:t,onClose:e,children:n}){return X.useEffect(()=>{const r=i=>i.key==="Escape"&&e();return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e]),f.jsx("div",{className:"overlay",onClick:e,children:f.jsxs("div",{className:"modal",onClick:r=>r.stopPropagation(),children:[f.jsxs("div",{className:"modal-hd",children:[f.jsx("span",{className:"modal-title",children:t}),f.jsx("button",{className:"modal-x",onClick:e,children:f.jsx(ee.X,{})})]}),n]})})}function ak(){const[t,e]=X.useState(()=>localStorage.getItem("ojt-theme")||"light"),[n,r]=X.useState([]),[i,s]=X.useState(!0),[a,l]=X.useState(!1),[u,h]=X.useState(null),[p,g]=X.useState(null),[_,I]=X.useState(null),[C,P]=X.useState(""),[V,k]=X.useState("all"),[v,S]=X.useState("all"),[D,F]=X.useState("endDate"),[U,x]=X.useState(!1);X.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("ojt-theme",t)},[t]),X.useEffect(()=>{const $=OT(Ic(Br,"trainees"),Z=>{r(Z.docs.map(z=>({id:z.id,...z.data()}))),s(!1)});return()=>$()},[]);const y=async $=>{try{await Yv(Ic(Br,"trainees"),$),l(!1)}catch(Z){console.error(Z)}},w=async $=>{try{await Xv(ba(Br,"trainees",u.id),$),h(null)}catch(Z){console.error(Z)}},T=($,Z)=>g({id:$,name:Z}),A=async()=>{if(p){try{await LT(ba(Br,"trainees",p.id))}catch($){console.error($)}g(null)}},R=X.useMemo(()=>_?n.find($=>$.id===_.id)||_:null,[_,n]),E=X.useMemo(()=>{const $=new Set,Z=[];for(const z of n){const j=(z.role||"").trim();j&&!$.has(j)&&($.add(j),Z.push(j))}return Z.sort((z,j)=>z.localeCompare(j))},[n]);X.useEffect(()=>{v!=="all"&&!E.includes(v)&&S("all")},[E,v]);const Ce=X.useMemo(()=>({all:n.length,ok:n.filter($=>xt($).urgency==="ok").length,warning:n.filter($=>xt($).urgency==="warning").length,critical:n.filter($=>xt($).urgency==="critical").length,done:n.filter($=>xt($).urgency==="done").length}),[n]),rt=X.useMemo(()=>n.filter($=>V==="all"||xt($).urgency===V).filter($=>v==="all"?!0:($.role||"").trim()===v).filter($=>{const Z=C.toLowerCase().trim();return Z?$.name.toLowerCase().includes(Z)||($.role||"").toLowerCase().includes(Z):!0}).sort(($,Z)=>D==="name"?$.name.localeCompare(Z.name):D==="pct"?xt(Z).pct-xt($).pct:D==="role"?($.role||"").localeCompare(Z.role||""):D==="recent"?new Date(Z.startDate)-new Date($.startDate):xt($).wdLeft-xt(Z).wdLeft),[n,V,v,C,D]);return f.jsxs(f.Fragment,{children:[f.jsx("style",{children:HT}),f.jsx("nav",{className:"nav",children:f.jsxs("div",{className:"nav-inner",children:[f.jsxs("div",{className:"nav-brand",children:[f.jsx("div",{className:"nav-logo",children:f.jsx(ee.Logo,{})}),f.jsxs("div",{children:[f.jsx("div",{className:"nav-name",children:"OJT Tracker"}),f.jsx("div",{className:"nav-tagline",children:"On-the-Job Training Monitor"})]})]}),f.jsxs("div",{className:"nav-right",children:[f.jsx(YT,{}),f.jsx("button",{className:"btn-icon",onClick:()=>e($=>$==="light"?"dark":"light"),title:"Toggle theme",children:t==="light"?f.jsx(ee.Moon,{}):f.jsx(ee.Sun,{})}),n.length>0&&f.jsxs("button",{className:"btn-outline green",onClick:()=>KT(n),children:[f.jsx(ee.Download,{})," ",f.jsx("span",{className:"nav-btn-label",children:"Export"})]}),f.jsxs("button",{className:"btn-outline",onClick:()=>x(!0),children:[f.jsx(ee.Upload,{})," ",f.jsx("span",{className:"nav-btn-label",children:"Import"})]}),f.jsxs("button",{className:"btn btn-primary",onClick:()=>l(!0),children:[f.jsx(ee.Plus,{})," ",f.jsx("span",{children:"Add Trainee"})]})]})]})}),f.jsxs("main",{className:"page",children:[f.jsx(nk,{counts:Ce}),f.jsxs("div",{className:"panel",children:[f.jsx("div",{className:"panel-hd",children:f.jsxs("div",{children:[f.jsx("div",{className:"panel-title",children:"Trainee Dashboard"}),f.jsx("div",{className:"panel-sub",children:n.length===0?"No trainees yet  add your first one to start tracking!":`${n.length} trainee${n.length!==1?"s":""}  ${Ce.done} completed  ${Ce.critical} need attention`})]})}),f.jsx("div",{className:"filter-bar",children:ZT.map($=>{const Z=ek[$.key],z=$.key==="all"?n.length:Ce[$.key]||0,j=V===$.key;return f.jsxs("button",{className:`fpill${j?" act":""}`,style:{"--fp-c":Z.c,"--fp-bg":Z.bg,"--fp-sh":Z.sh},onClick:()=>k(j&&$.key!=="all"?"all":$.key),children:[f.jsx("span",{className:"fpill-dot"}),$.label,f.jsx("span",{className:"fpill-n",children:z})]},$.key)})}),E.length>0&&f.jsxs("div",{className:"role-bar",children:[f.jsx("span",{className:"role-label",children:"Role"}),f.jsxs("button",{className:`rpill${v==="all"?" act":""}`,onClick:()=>S("all"),children:["All Roles",f.jsx("span",{className:"rpill-n",children:n.length})]}),E.map($=>{const Z=n.filter(j=>(j.role||"").trim()===$).length,z=v===$;return f.jsxs("button",{className:`rpill${z?" act":""}`,onClick:()=>S(z?"all":$),children:[f.jsx(ee.Tag,{}),$,f.jsx("span",{className:"rpill-n",children:Z})]},$)})]}),f.jsxs("div",{className:"toolbar",children:[f.jsxs("div",{className:"search-wrap",children:[f.jsx("span",{className:"search-ico",children:f.jsx(ee.Search,{})}),f.jsx("input",{className:"search-inp",placeholder:"Search by name or role",value:C,onChange:$=>P($.target.value)})]}),f.jsxs("div",{className:"sort-wrap",children:[f.jsx("span",{className:"sort-ico",children:f.jsx(ee.Sort,{})}),f.jsxs("select",{className:"sort-sel",value:D,onChange:$=>F($.target.value),children:[f.jsx("option",{value:"endDate",children:"Ending Soonest"}),f.jsx("option",{value:"name",children:"Name A  Z"}),f.jsx("option",{value:"pct",children:"Progress %"}),f.jsx("option",{value:"role",children:"Role A  Z"}),f.jsx("option",{value:"recent",children:"Recently Started"})]})]})]}),!i&&n.length>0&&f.jsxs("div",{className:"result-info",children:[f.jsx("span",{className:"ri-label",children:v!=="all"?`Role: ${v}`:"Trainees"}),f.jsxs("span",{className:"ri-count",children:["Showing ",f.jsx("b",{children:rt.length})," of ",f.jsx("b",{children:n.length})]})]}),i?f.jsx("div",{className:"skel-list",children:[0,.1,.2].map(($,Z)=>f.jsx(JT,{delay:$},Z))}):rt.length===0?f.jsx("div",{className:"card-list",children:f.jsxs("div",{className:"empty-state",children:[f.jsx("div",{className:"empty-ico",children:f.jsx(ee.Board,{})}),f.jsx("div",{className:"empty-title",children:n.length===0?"No trainees yet":"No results found"}),f.jsx("div",{className:"empty-desc",children:n.length===0?"Add your first OJT trainee to start tracking their journey and progress!":"Try adjusting your search term or clearing the active filter."}),n.length===0&&f.jsxs("button",{className:"btn btn-primary",onClick:()=>l(!0),children:[f.jsx(ee.Plus,{})," Add First Trainee"]})]})}):f.jsx("div",{className:"card-list",children:rt.map(($,Z)=>f.jsx(ok,{t:$,idx:Z,onEdit:h,onDelete:T,onCalendar:I},$.id))})]})]}),U&&f.jsx(ik,{onImport:()=>x(!1),onCancel:()=>x(!1)}),a&&f.jsx(cm,{title:"Add New Trainee",onClose:()=>l(!1),children:f.jsx(um,{onSave:y,onCancel:()=>l(!1)})}),u&&f.jsx(cm,{title:"Edit Trainee",onClose:()=>h(null),children:f.jsx(um,{initial:{...u,role:u.role||"",hoursPerDay:u.hoursPerDay||"8"},onSave:w,onCancel:()=>h(null)})}),p&&f.jsx(sk,{name:p.name,onConfirm:A,onCancel:()=>g(null)}),R&&f.jsx(rk,{trainee:R,onClose:()=>I(null)})]})}fu.createRoot(document.getElementById("root")).render(f.jsx(W0.StrictMode,{children:f.jsx(ak,{})}));
